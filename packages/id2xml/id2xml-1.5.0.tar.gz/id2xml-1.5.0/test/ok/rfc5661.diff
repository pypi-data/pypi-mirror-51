660a661
> 
1324a1326
> 
1889a1892
> 
2231a2235
> 
3757,3828c3761,3832
<    +---------------+---------------------------------------------------+
<    | Data Type     | Definition                                        |
<    +---------------+---------------------------------------------------+
<    | int32_t       | typedef int int32_t;                              |
<    | uint32_t      | typedef unsigned int uint32_t;                    |
<    | int64_t       | typedef hyper int64_t;                            |
<    | uint64_t      | typedef unsigned hyper uint64_t;                  |
<    | attrlist4     | typedef opaque attrlist4<>;                       |
<    |               | Used for file/directory attributes.               |
<    | bitmap4       | typedef uint32_t bitmap4<>;                       |
<    |               | Used in attribute array encoding.                 |
<    | changeid4     | typedef uint64_t changeid4;                       |
<    |               | Used in the definition of change_info4.           |
<    | clientid4     | typedef uint64_t clientid4;                       |
<    |               | Shorthand reference to client identification.     |
<    | count4        | typedef uint32_t count4;                          |
<    |               | Various count parameters (READ, WRITE, COMMIT).   |
<    | length4       | typedef uint64_t length4;                         |
<    |               | The length of a byte-range within a file.         |
<    | mode4         | typedef uint32_t mode4;                           |
<    |               | Mode attribute data type.                         |
<    | nfs_cookie4   | typedef uint64_t nfs_cookie4;                     |
<    |               | Opaque cookie value for READDIR.                  |
<    | nfs_fh4       | typedef opaque nfs_fh4<NFS4_FHSIZE>;              |
<    |               | Filehandle definition.                            |
<    | nfs_ftype4    | enum nfs_ftype4;                                  |
<    |               | Various defined file types.                       |
<    | nfsstat4      | enum nfsstat4;                                    |
<    |               | Return value for operations.                      |
<    | offset4       | typedef uint64_t offset4;                         |
<    |               | Various offset designations (READ, WRITE, LOCK,   |
<    |               | COMMIT).                                          |
<    | qop4          | typedef uint32_t qop4;                            |
<    |               | Quality of protection designation in SECINFO.     |
<    | sec_oid4      | typedef opaque sec_oid4<>;                        |
<    |               | Security Object Identifier.  The sec_oid4 data    |
<    |               | type is not really opaque.  Instead, it contains  |
<    |               | an ASN.1 OBJECT IDENTIFIER as used by GSS-API in  |
<    |               | the mech_type argument to GSS_Init_sec_context.   |
<    |               | See [7] for details.                              |
<    | sequenceid4   | typedef uint32_t sequenceid4;                     |
<    |               | Sequence number used for various session          |
<    |               | operations (EXCHANGE_ID, CREATE_SESSION,          |
<    |               | SEQUENCE, CB_SEQUENCE).                           |
<    | seqid4        | typedef uint32_t seqid4;                          |
<    |               | Sequence identifier used for locking.             |
<    | sessionid4    | typedef opaque sessionid4[NFS4_SESSIONID_SIZE];   |
<    |               | Session identifier.                               |
<    | slotid4       | typedef uint32_t slotid4;                         |
<    |               | Sequencing artifact for various session           |
<    |               | operations (SEQUENCE, CB_SEQUENCE).               |
<    | utf8string    | typedef opaque utf8string<>;                      |
<    |               | UTF-8 encoding for strings.                       |
<    | utf8str_cis   | typedef utf8string utf8str_cis;                   |
<    |               | Case-insensitive UTF-8 string.                    |
<    | utf8str_cs    | typedef utf8string utf8str_cs;                    |
<    |               | Case-sensitive UTF-8 string.                      |
<    | utf8str_mixed | typedef utf8string utf8str_mixed;                 |
<    |               | UTF-8 strings with a case-sensitive prefix and a  |
<    |               | case-insensitive suffix.                          |
<    | component4    | typedef utf8str_cs component4;                    |
<    |               | Represents pathname components.                   |
<    | linktext4     | typedef utf8str_cs linktext4;                     |
<    |               | Symbolic link contents ("symbolic link" is        |
<    |               | defined in an Open Group [14] standard).          |
<    | pathname4     | typedef component4 pathname4<>;                   |
<    |               | Represents pathname for fs_locations.             |
<    | verifier4     | typedef opaque verifier4[NFS4_VERIFIER_SIZE];     |
<    |               | Verifier used for various operations (COMMIT,     |
<    |               | CREATE, EXCHANGE_ID, OPEN, READDIR, WRITE)        |
<    |               | NFS4_VERIFIER_SIZE is defined as 8.               |
<    +---------------+---------------------------------------------------+
---
>    +---------------+--------------------------------------------------+
>    | Data Type     | Definition                                       |
>    +---------------+--------------------------------------------------+
>    | int32_t       | typedef int int32_t;                             |
>    | uint32_t      | typedef unsigned int uint32_t;                   |
>    | int64_t       | typedef hyper int64_t;                           |
>    | uint64_t      | typedef unsigned hyper uint64_t;                 |
>    | attrlist4     | typedef opaque attrlist4<>;                      |
>    |               | Used for file/directory attributes.              |
>    | bitmap4       | typedef uint32_t bitmap4<>;                      |
>    |               | Used in attribute array encoding.                |
>    | changeid4     | typedef uint64_t changeid4;                      |
>    |               | Used in the definition of change_info4.          |
>    | clientid4     | typedef uint64_t clientid4;                      |
>    |               | Shorthand reference to client identification.    |
>    | count4        | typedef uint32_t count4;                         |
>    |               | Various count parameters (READ, WRITE, COMMIT).  |
>    | length4       | typedef uint64_t length4;                        |
>    |               | The length of a byte-range within a file.        |
>    | mode4         | typedef uint32_t mode4;                          |
>    |               | Mode attribute data type.                        |
>    | nfs_cookie4   | typedef uint64_t nfs_cookie4;                    |
>    |               | Opaque cookie value for READDIR.                 |
>    | nfs_fh4       | typedef opaque nfs_fh4<NFS4_FHSIZE>;             |
>    |               | Filehandle definition.                           |
>    | nfs_ftype4    | enum nfs_ftype4;                                 |
>    |               | Various defined file types.                      |
>    | nfsstat4      | enum nfsstat4;                                   |
>    |               | Return value for operations.                     |
>    | offset4       | typedef uint64_t offset4;                        |
>    |               | Various offset designations (READ, WRITE, LOCK,  |
>    |               | COMMIT).                                         |
>    | qop4          | typedef uint32_t qop4;                           |
>    |               | Quality of protection designation in SECINFO.    |
>    | sec_oid4      | typedef opaque sec_oid4<>;                       |
>    |               | Security Object Identifier.  The sec_oid4 data   |
>    |               | type is not really opaque.  Instead, it contains |
>    |               | an ASN.1 OBJECT IDENTIFIER as used by GSS-API in |
>    |               | the mech_type argument to GSS_Init_sec_context.  |
>    |               | See [7] for details.                             |
>    | sequenceid4   | typedef uint32_t sequenceid4;                    |
>    |               | Sequence number used for various session         |
>    |               | operations (EXCHANGE_ID, CREATE_SESSION,         |
>    |               | SEQUENCE, CB_SEQUENCE).                          |
>    | seqid4        | typedef uint32_t seqid4;                         |
>    |               | Sequence identifier used for locking.            |
>    | sessionid4    | typedef opaque sessionid4[NFS4_SESSIONID_SIZE];  |
>    |               | Session identifier.                              |
>    | slotid4       | typedef uint32_t slotid4;                        |
>    |               | Sequencing artifact for various session          |
>    |               | operations (SEQUENCE, CB_SEQUENCE).              |
>    | utf8string    | typedef opaque utf8string<>;                     |
>    |               | UTF-8 encoding for strings.                      |
>    | utf8str_cis   | typedef utf8string utf8str_cis;                  |
>    |               | Case-insensitive UTF-8 string.                   |
>    | utf8str_cs    | typedef utf8string utf8str_cs;                   |
>    |               | Case-sensitive UTF-8 string.                     |
>    | utf8str_mixed | typedef utf8string utf8str_mixed;                |
>    |               | UTF-8 strings with a case-sensitive prefix and a |
>    |               | case-insensitive suffix.                         |
>    | component4    | typedef utf8str_cs component4;                   |
>    |               | Represents pathname components.                  |
>    | linktext4     | typedef utf8str_cs linktext4;                    |
>    |               | Symbolic link contents ("symbolic link" is       |
>    |               | defined in an Open Group [14] standard).         |
>    | pathname4     | typedef component4 pathname4<>;                  |
>    |               | Represents pathname for fs_locations.            |
>    | verifier4     | typedef opaque verifier4[NFS4_VERIFIER_SIZE];    |
>    |               | Verifier used for various operations (COMMIT,    |
>    |               | CREATE, EXCHANGE_ID, OPEN, READDIR, WRITE)       |
>    |               | NFS4_VERIFIER_SIZE is defined as 8.              |
>    +---------------+--------------------------------------------------+
4021a4026
> 
4047d4051
< 
4162a4167
> 
4191,4217c4196,4230
<    +-------------------------+---+---------+---------------------------+
<    | name                    | # | Data    | Description               |
<    |                         |   | Type    |                           |
<    +-------------------------+---+---------+---------------------------+
<    | threshold4_read_size    | 0 | length4 | If a file's length is     |
<    |                         |   |         | less than the value of    |
<    |                         |   |         | threshold4_read_size,     |
<    |                         |   |         | then it is RECOMMENDED    |
<    |                         |   |         | that the client read from |
<    |                         |   |         | the file via the MDS and  |
<    |                         |   |         | not a storage device.     |
<    | threshold4_write_size   | 1 | length4 | If a file's length is     |
<    |                         |   |         | less than the value of    |
<    |                         |   |         | threshold4_write_size,    |
<    |                         |   |         | then it is RECOMMENDED    |
<    |                         |   |         | that the client write to  |
<    |                         |   |         | the file via the MDS and  |
<    |                         |   |         | not a storage device.     |
<    | threshold4_read_iosize  | 2 | length4 | For read I/O sizes below  |
<    |                         |   |         | this threshold, it is     |
<    |                         |   |         | RECOMMENDED to read data  |
<    |                         |   |         | through the MDS.          |
<    | threshold4_write_iosize | 3 | length4 | For write I/O sizes below |
<    |                         |   |         | this threshold, it is     |
<    |                         |   |         | RECOMMENDED to write data |
<    |                         |   |         | through the MDS.          |
<    +-------------------------+---+---------+---------------------------+
---
>    +-------------------------+----+----------+-------------------------+
>    | name                    | #  | Data     | Description             |
>    |                         |    | Type     |                         |
>    +-------------------------+----+----------+-------------------------+
>    | threshold4_read_size    | 0  | length4  | If a file's length is   |
>    |                         |    |          | less than the value of  |
>    |                         |    |          | threshold4_read_size,   |
>    |                         |    |          | then it is RECOMMENDED  |
>    |                         |    |          | that the client read    |
>    |                         |    |          | from                    |
>    |                         |    |          | the file via the MDS    |
>    |                         |    |          | and                     |
>    |                         |    |          | not a storage device.   |
>    | threshold4_write_size   | 1  | length4  | If a file's length is   |
>    |                         |    |          | less than the value of  |
>    |                         |    |          | threshold4_write_size,  |
>    |                         |    |          | then it is RECOMMENDED  |
>    |                         |    |          | that the client write   |
>    |                         |    |          | to                      |
>    |                         |    |          | the file via the MDS    |
>    |                         |    |          | and                     |
>    |                         |    |          | not a storage device.   |
>    | threshold4_read_iosize  | 2  | length4  | For read I/O sizes      |
>    |                         |    |          | below                   |
>    |                         |    |          | this threshold, it is   |
>    |                         |    |          | RECOMMENDED to read     |
>    |                         |    |          | data                    |
>    |                         |    |          | through the MDS.        |
>    | threshold4_write_iosize | 3  | length4  | For write I/O sizes     |
>    |                         |    |          | below                   |
>    |                         |    |          | this threshold, it is   |
>    |                         |    |          | RECOMMENDED to write    |
>    |                         |    |          | data                    |
>    |                         |    |          | through the MDS.        |
>    +-------------------------+----+----------+-------------------------+
4424,4425c4437,4438
<    [volatile bit = 1 | server boot time | slot | generation number]
<    o  slot is an index in the server volatile filehandle table
---
>    [volatile bit = 1 | server boot time | slot | generation number] o
>    slot is an index in the server volatile filehandle table
4513,4519c4526,4532
<         +----------+-----------+---------------------------------+
<         | LOOKUP   | "foo"     | ; look up file                  |
<         | GETATTR  | attrbits  |                                 |
<         | OPENATTR |           | ; access foo's named attributes |
<         | LOOKUP   | "x11icon" | ; look up specific attribute    |
<         | READ     | 0,4096    | ; read stream of bytes          |
<         +----------+-----------+---------------------------------+
---
>    +---------------+--------------+------------------------------------+
>    | LOOKUP        | "foo"        | ; look up file  ; access foo's     |
>    | GETATTR       | attrbits     | named attributes ; look up         |
>    | OPENATTR      | "x11icon"    | specific attribute ; read stream   |
>    | LOOKUP READ   | 0,4096       | of bytes                           |
>    +---------------+--------------+------------------------------------+
>    +---------------+--------------+------------------------------------+
4662c4675,4676
<          lease_time
---
>       lease_time
> 
4665,4672c4679,4685
<          supported_attrs, suppattr_exclcreat, fh_expire_type,
<          link_support, symlink_support, unique_handles, aclsupport,
<          cansettime, case_insensitive, case_preserving,
<          chown_restricted, files_avail, files_free, files_total,
<          fs_locations, homogeneous, maxfilesize, maxname, maxread,
<          maxwrite, no_trunc, space_avail, space_free, space_total,
<          time_delta, change_policy, fs_status, fs_layout_type,
<          fs_locations_info, fs_charset_cap
---
>       supported_attrs, suppattr_exclcreat, fh_expire_type, link_support,
>       symlink_support, unique_handles, aclsupport, cansettime,
>       case_insensitive, case_preserving, chown_restricted, files_avail,
>       files_free, files_total, fs_locations, homogeneous, maxfilesize,
>       maxname, maxread, maxwrite, no_trunc, space_avail, space_free,
>       space_total, time_delta, change_policy, fs_status, fs_layout_type,
>       fs_locations_info, fs_charset_cap
4676,4684c4689,4696
<          type, change, size, named_attr, fsid, rdattr_error, filehandle,
<          acl, archive, fileid, hidden, maxlink, mimetype, mode,
<          numlinks, owner, owner_group, rawdev, space_used, system,
<          time_access, time_backup, time_create, time_metadata,
<          time_modify, mounted_on_fileid, dir_notif_delay,
<          dirent_notif_delay, dacl, sacl, layout_type, layout_hint,
<          layout_blksize, layout_alignment, mdsthreshold, retention_get,
<          retention_set, retentevt_get, retentevt_set, retention_hold,
<          mode_set_masked
---
>       type, change, size, named_attr, fsid, rdattr_error, filehandle,
>       acl, archive, fileid, hidden, maxlink, mimetype, mode, numlinks,
>       owner, owner_group, rawdev, space_used, system, time_access,
>       time_backup, time_create, time_metadata, time_modify,
>       mounted_on_fileid, dir_notif_delay, dirent_notif_delay, dacl,
>       sacl, layout_type, layout_hint, layout_blksize, layout_alignment,
>       mdsthreshold, retention_get, retention_set, retentevt_get,
>       retentevt_set, retention_hold, mode_set_masked
4739c4751
<                                   Table 2
---
>                                   Table 1
4774c4786
<    | layout_hint        | 63 | layouthint4    |   W | Section 5.12.4   |
---
>    | layout_hint        | 63 | layouthint4    | W   | Section 5.12.4   |
4784c4796
<    | mode_set_masked    | 74 | mode_masked4   |   W | Section 6.2.5    |
---
>    | mode_set_masked    | 74 | mode_masked4   | W   | Section 6.2.5    |
4795c4807
<    | retentevt_set      | 72 | retention_set4 |   W | Section 5.13.4   |
---
>    | retentevt_set      | 72 | retention_set4 | W   | Section 5.13.4   |
4798c4810
<    | retention_set      | 70 | retention_set4 |   W | Section 5.13.2   |
---
>    | retention_set      | 70 | retention_set4 | W   | Section 5.13.2   |
4806c4818
<    | time_access_set    | 48 | settime4       |   W | Section 5.8.2.38 |
---
>    | time_access_set    | 48 | settime4       | W   | Section 5.8.2.38 |
4812c4824
<    | time_modify_set    | 54 | settime4       |   W | Section 5.8.2.44 |
---
>    | time_modify_set    | 54 | settime4       | W   | Section 5.8.2.44 |
4815c4827
<                                   Table 3
---
>                                   Table 2
4817c4829
<    * fs_locations_info4
---
>    o  fs_locations_info4
5503a5516
> 
5734,5764c5747,5777
<    +------------------------------+--------------+---------------------+
<    | Value                        | Abbreviation | Description         |
<    +------------------------------+--------------+---------------------+
<    | ACE4_ACCESS_ALLOWED_ACE_TYPE | ALLOW        | Explicitly grants   |
<    |                              |              | the access defined  |
<    |                              |              | in acemask4 to the  |
<    |                              |              | file or directory.  |
<    | ACE4_ACCESS_DENIED_ACE_TYPE  | DENY         | Explicitly denies   |
<    |                              |              | the access defined  |
<    |                              |              | in acemask4 to the  |
<    |                              |              | file or directory.  |
<    | ACE4_SYSTEM_AUDIT_ACE_TYPE   | AUDIT        | Log (in a           |
<    |                              |              | system-dependent    |
<    |                              |              | way) any access     |
<    |                              |              | attempt to a file   |
<    |                              |              | or directory that   |
<    |                              |              | uses any of the     |
<    |                              |              | access methods      |
<    |                              |              | specified in        |
<    |                              |              | acemask4.           |
<    | ACE4_SYSTEM_ALARM_ACE_TYPE   | ALARM        | Generate an alarm   |
<    |                              |              | (in a               |
<    |                              |              | system-dependent    |
<    |                              |              | way) when any       |
<    |                              |              | access attempt is   |
<    |                              |              | made to a file or   |
<    |                              |              | directory for the   |
<    |                              |              | access methods      |
<    |                              |              | specified in        |
<    |                              |              | acemask4.           |
<    +------------------------------+--------------+---------------------+
---
>    +------------------------------+--------------+--------------------+
>    | Value                        | Abbreviation | Description        |
>    +------------------------------+--------------+--------------------+
>    | ACE4_ACCESS_ALLOWED_ACE_TYPE | ALLOW        | Explicitly grants  |
>    |                              |              | the access defined |
>    |                              |              | in acemask4 to the |
>    |                              |              | file or directory. |
>    | ACE4_ACCESS_DENIED_ACE_TYPE  | DENY         | Explicitly denies  |
>    |                              |              | the access defined |
>    |                              |              | in acemask4 to the |
>    |                              |              | file or directory. |
>    | ACE4_SYSTEM_AUDIT_ACE_TYPE   | AUDIT        | Log (in a          |
>    |                              |              | system-dependent   |
>    |                              |              | way) any access    |
>    |                              |              | attempt to a file  |
>    |                              |              | or directory that  |
>    |                              |              | uses any of the    |
>    |                              |              | access methods     |
>    |                              |              | specified in       |
>    |                              |              | acemask4.          |
>    | ACE4_SYSTEM_ALARM_ACE_TYPE   | ALARM        | Generate an alarm  |
>    |                              |              | (in a              |
>    |                              |              | system-dependent   |
>    |                              |              | way) when any      |
>    |                              |              | access attempt is  |
>    |                              |              | made to a file or  |
>    |                              |              | directory for the  |
>    |                              |              | access methods     |
>    |                              |              | specified in       |
>    |                              |              | acemask4.          |
>    +------------------------------+--------------+--------------------+
5838c5851
<          READ
---
>       READ
5840c5853
<          OPEN
---
>       OPEN
5853c5866
<          READDIR
---
>       READDIR
5863c5876
<          WRITE
---
>       WRITE
5865c5878
<          OPEN
---
>       OPEN
5867c5880
<          SETATTR of size
---
>       SETATTR of size
5877c5890
<          CREATE
---
>       CREATE
5879c5892
<          LINK
---
>       LINK
5881c5894
<          OPEN
---
>       OPEN
5883c5896
<          RENAME
---
>       RENAME
5898c5911
<          WRITE
---
>       WRITE
5900c5913
<          OPEN
---
>       OPEN
5902c5915
<          SETATTR of size
---
>       SETATTR of size
5917c5930
<          CREATE
---
>       CREATE
5919c5932
<          RENAME
---
>       RENAME
5931c5944
<          OPENATTR
---
>       OPENATTR
5945c5958
<          OPENATTR
---
>       OPENATTR
5962c5975,5977
<          READ
---
>       READ
> 
>       OPEN
5964c5979
<          OPEN
---
>       REMOVE
5966c5981
<          REMOVE
---
>       RENAME
5968,5969c5983
<          RENAME
<          LINK
---
>       LINK
5971c5985
<          CREATE
---
>       CREATE
6005c6019
<          LOOKUP
---
>       LOOKUP
6015,6016c6029,6031
<          REMOVE
<          RENAME
---
>       REMOVE
> 
>       RENAME
6028c6043
<          GETATTR of file system object attributes
---
>       GETATTR of file system object attributes
6030c6045
<          VERIFY
---
>       VERIFY
6032c6047
<          NVERIFY
---
>       NVERIFY
6034c6049
<          READDIR
---
>       READDIR
6049c6064
<          SETATTR of time_access_set, time_backup,
---
>       SETATTR of time_access_set, time_backup,
6051c6066
<          time_create, time_modify_set, mimetype, hidden, system
---
>       time_create, time_modify_set, mimetype, hidden, system
6065c6080
<          SETATTR of retention_set, retentevt_set.
---
>       SETATTR of retention_set, retentevt_set.
6078c6093
<          SETATTR of retention_hold.
---
>       SETATTR of retention_hold.
6090c6105
<          REMOVE
---
>       REMOVE
6102c6117
<          GETATTR of acl, dacl, or sacl
---
>       GETATTR of acl, dacl, or sacl
6104c6119
<          NVERIFY
---
>       NVERIFY
6106c6121
<          VERIFY
---
>       VERIFY
6116c6131
<          SETATTR of acl and mode
---
>       SETATTR of acl and mode
6126c6141
<          SETATTR of owner and owner_group
---
>       SETATTR of owner and owner_group
6138c6153
<          NONE
---
>       NONE
6244,6247c6259,6262
<       added to each new directory created.
<       If this flag is set in an ACE in an ACL attribute to be set on a
<       non-directory file system object, the operation attempting to set
<       the ACL SHOULD fail with NFS4ERR_ATTRNOTSUPP.
---
>       added to each new directory created.  If this flag is set in an
>       ACE in an ACL attribute to be set on a non-directory file system
>       object, the operation attempting to set the ACL SHOULD fail with
>       NFS4ERR_ATTRNOTSUPP.
6254a6270
> 
6338c6354
<                                   Table 4
---
>                                   Table 3
8018c8034
<    1.   Client A acquires one or more locks.
---
>    1.  Client A acquires one or more locks.
8020c8036
<    2.   Server restarts.
---
>    2.  Server restarts.
8022,8024c8038,8040
<    3.   Client A and server experience mutual network partition, such
<         that client A is unable to reclaim all of its locks within the
<         grace period.
---
>    3.  Client A and server experience mutual network partition, such
>        that client A is unable to reclaim all of its locks within the
>        grace period.
8026,8027c8042,8043
<    4.   Server's reclaim grace period ends.  Client A has either no
<         locks or an incomplete set of locks known to the server.
---
>    4.  Server's reclaim grace period ends.  Client A has either no locks
>        or an incomplete set of locks known to the server.
8029,8030c8045,8046
<    5.   Client B acquires a lock that would have conflicted with a lock
<         of client A that was not reclaimed.
---
>    5.  Client B acquires a lock that would have conflicted with a lock
>        of client A that was not reclaimed.
8032c8048
<    6.   Client B releases the lock.
---
>    6.  Client B releases the lock.
8034c8050
<    7.   Server restarts a second time.
---
>    7.  Server restarts a second time.
8036c8052
<    8.   Network partition between client A and server heals.
---
>    8.  Network partition between client A and server heals.
8038,8039c8054,8055
<    9.   Client A connects to new server instance and finds out about
<         server restart.
---
>    9.  Client A connects to new server instance and finds out about
>        server restart.
11477a11494
> 
11561c11578
<    -  Current fh is root of pseudo-fs.
---
>    *  Current fh is root of pseudo-fs.
11565c11582
<    -  Just for completeness.  Normally, clients will know the fsid of
---
>    *  Just for completeness.  Normally, clients will know the fsid of
11573c11590
<    -  Get current fsid to see where file system boundaries are.  The
---
>    *  Get current fsid to see where file system boundaries are.  The
11579c11596
<    -  Current fh is for /this and is within pseudo-fs.
---
>    *  Current fh is for /this and is within pseudo-fs.
11583c11600
<    -  Current fh is for /this/is and is within pseudo-fs.
---
>    *  Current fh is for /this/is and is within pseudo-fs.
11587c11604
<    -  Get current fsid to see where file system boundaries are.  The
---
>    *  Get current fsid to see where file system boundaries are.  The
11593c11610
<    -  Current fh is for /this/is and is within pseudo-fs.
---
>    *  Current fh is for /this/is and is within pseudo-fs.
11597c11614
<    -  Current fh is for /this/is/the and is within pseudo-fs.
---
>    *  Current fh is for /this/is/the and is within pseudo-fs.
11601c11618
<    -  Get current fsid to see where file system boundaries are.  The
---
>    *  Get current fsid to see where file system boundaries are.  The
11607c11624
<    -  Current fh is for /this/is/the and is within pseudo-fs.
---
>    *  Current fh is for /this/is/the and is within pseudo-fs.
11611c11628
<    -  Current fh is for /this/is/the/path and is within a new, absent
---
>    *  Current fh is for /this/is/the/path and is within a new, absent
11614c11631
<    -  The client will never see the value of that fh.
---
>    *  The client will never see the value of that fh.
11618c11635
<    -  We are getting the fsid to know where the file system boundaries
---
>    *  We are getting the fsid to know where the file system boundaries
11626c11643
<    -  In this particular case, we are pretty sure anyway that what has
---
>    *  In this particular case, we are pretty sure anyway that what has
11638c11655
<    -  We are fetching fs_locations_info because the fact that we got an
---
>    *  We are fetching fs_locations_info because the fact that we got an
11646c11663
<    -  Fails because current fh is in an absent file system at the start
---
>    *  Fails because current fh is in an absent file system at the start
11775a11793
> 
12048a12067
> 
12515a12535
> 
12961a12982
> 
14171,14173c14192,14194
<    should examine the layout specification, such as the NFSv4.1/
<    file-based layout (Section 13) of this document, the blocks layout
<    [41], and objects layout [40].
---
>    should examine the layout specification, such as the NFSv4.1/ file-
>    based layout (Section 13) of this document, the blocks layout [41],
>    and objects layout [40].
14232,14233c14253,14254
<    client ID, the server SHOULD return with (EXCHGID4_FLAG_USE_PNFS_MDS
<    | EXCHGID4_FLAG_USE_PNFS_DS) set.
---
>    client ID, the server SHOULD return with
>    (EXCHGID4_FLAG_USE_PNFS_MDS | EXCHGID4_FLAG_USE_PNFS_DS) set.
14335a14357
> 
14514c14536
<           See the discussion on sparse packing in Section 13.4.4.
---
>              See the discussion on sparse packing in Section 13.4.4.
15603a15626
> 
15786c15809
<                                   Table 5
---
>                                   Table 4
16601c16624
<               Valid Error Returns for Each Protocol Operation
---
>       Valid Error Returns for Each Protocol Operation
17297c17320
<                                   Table 6
---
>                                   Table 5
17308,17429c17331,17452
<    +-------------------------+-----------------------------------------+
<    | Callback Operation      | Errors                                  |
<    +-------------------------+-----------------------------------------+
<    | CB_GETATTR              | NFS4ERR_BADHANDLE, NFS4ERR_BADXDR,      |
<    |                         | NFS4ERR_DELAY, NFS4ERR_INVAL,           |
<    |                         | NFS4ERR_OP_NOT_IN_SESSION,              |
<    |                         | NFS4ERR_REP_TOO_BIG,                    |
<    |                         | NFS4ERR_REP_TOO_BIG_TO_CACHE,           |
<    |                         | NFS4ERR_REQ_TOO_BIG,                    |
<    |                         | NFS4ERR_RETRY_UNCACHED_REP,             |
<    |                         | NFS4ERR_SERVERFAULT,                    |
<    |                         | NFS4ERR_TOO_MANY_OPS,                   |
<    | CB_ILLEGAL              | NFS4ERR_BADXDR, NFS4ERR_OP_ILLEGAL      |
<    | CB_LAYOUTRECALL         | NFS4ERR_BADHANDLE, NFS4ERR_BADIOMODE,   |
<    |                         | NFS4ERR_BADXDR, NFS4ERR_BAD_STATEID,    |
<    |                         | NFS4ERR_DELAY, NFS4ERR_INVAL,           |
<    |                         | NFS4ERR_NOMATCHING_LAYOUT,              |
<    |                         | NFS4ERR_NOTSUPP,                        |
<    |                         | NFS4ERR_OP_NOT_IN_SESSION,              |
<    |                         | NFS4ERR_REP_TOO_BIG,                    |
<    |                         | NFS4ERR_REP_TOO_BIG_TO_CACHE,           |
<    |                         | NFS4ERR_REQ_TOO_BIG,                    |
<    |                         | NFS4ERR_RETRY_UNCACHED_REP,             |
<    |                         | NFS4ERR_TOO_MANY_OPS,                   |
<    |                         | NFS4ERR_UNKNOWN_LAYOUTTYPE,             |
<    |                         | NFS4ERR_WRONG_TYPE                      |
<    | CB_NOTIFY               | NFS4ERR_BADHANDLE, NFS4ERR_BADXDR,      |
<    |                         | NFS4ERR_BAD_STATEID, NFS4ERR_DELAY,     |
<    |                         | NFS4ERR_INVAL, NFS4ERR_NOTSUPP,         |
<    |                         | NFS4ERR_OP_NOT_IN_SESSION,              |
<    |                         | NFS4ERR_REP_TOO_BIG,                    |
<    |                         | NFS4ERR_REP_TOO_BIG_TO_CACHE,           |
<    |                         | NFS4ERR_REQ_TOO_BIG,                    |
<    |                         | NFS4ERR_RETRY_UNCACHED_REP,             |
<    |                         | NFS4ERR_SERVERFAULT,                    |
<    |                         | NFS4ERR_TOO_MANY_OPS                    |
<    | CB_NOTIFY_DEVICEID      | NFS4ERR_BADXDR, NFS4ERR_DELAY,          |
<    |                         | NFS4ERR_INVAL, NFS4ERR_NOTSUPP,         |
<    |                         | NFS4ERR_OP_NOT_IN_SESSION,              |
<    |                         | NFS4ERR_REP_TOO_BIG,                    |
<    |                         | NFS4ERR_REP_TOO_BIG_TO_CACHE,           |
<    |                         | NFS4ERR_REQ_TOO_BIG,                    |
<    |                         | NFS4ERR_RETRY_UNCACHED_REP,             |
<    |                         | NFS4ERR_SERVERFAULT,                    |
<    |                         | NFS4ERR_TOO_MANY_OPS                    |
<    | CB_NOTIFY_LOCK          | NFS4ERR_BADHANDLE, NFS4ERR_BADXDR,      |
<    |                         | NFS4ERR_BAD_STATEID, NFS4ERR_DELAY,     |
<    |                         | NFS4ERR_NOTSUPP,                        |
<    |                         | NFS4ERR_OP_NOT_IN_SESSION,              |
<    |                         | NFS4ERR_REP_TOO_BIG,                    |
<    |                         | NFS4ERR_REP_TOO_BIG_TO_CACHE,           |
<    |                         | NFS4ERR_REQ_TOO_BIG,                    |
<    |                         | NFS4ERR_RETRY_UNCACHED_REP,             |
<    |                         | NFS4ERR_SERVERFAULT,                    |
<    |                         | NFS4ERR_TOO_MANY_OPS                    |
<    | CB_PUSH_DELEG           | NFS4ERR_BADHANDLE, NFS4ERR_BADXDR,      |
<    |                         | NFS4ERR_DELAY, NFS4ERR_INVAL,           |
<    |                         | NFS4ERR_NOTSUPP,                        |
<    |                         | NFS4ERR_OP_NOT_IN_SESSION,              |
<    |                         | NFS4ERR_REJECT_DELEG,                   |
<    |                         | NFS4ERR_REP_TOO_BIG,                    |
<    |                         | NFS4ERR_REP_TOO_BIG_TO_CACHE,           |
<    |                         | NFS4ERR_REQ_TOO_BIG,                    |
<    |                         | NFS4ERR_RETRY_UNCACHED_REP,             |
<    |                         | NFS4ERR_SERVERFAULT,                    |
<    |                         | NFS4ERR_TOO_MANY_OPS,                   |
<    |                         | NFS4ERR_WRONG_TYPE                      |
<    | CB_RECALL               | NFS4ERR_BADHANDLE, NFS4ERR_BADXDR,      |
<    |                         | NFS4ERR_BAD_STATEID, NFS4ERR_DELAY,     |
<    |                         | NFS4ERR_OP_NOT_IN_SESSION,              |
<    |                         | NFS4ERR_REP_TOO_BIG,                    |
<    |                         | NFS4ERR_REP_TOO_BIG_TO_CACHE,           |
<    |                         | NFS4ERR_REQ_TOO_BIG,                    |
<    |                         | NFS4ERR_RETRY_UNCACHED_REP,             |
<    |                         | NFS4ERR_SERVERFAULT,                    |
<    |                         | NFS4ERR_TOO_MANY_OPS                    |
<    | CB_RECALL_ANY           | NFS4ERR_BADXDR, NFS4ERR_DELAY,          |
<    |                         | NFS4ERR_INVAL,                          |
<    |                         | NFS4ERR_OP_NOT_IN_SESSION,              |
<    |                         | NFS4ERR_REP_TOO_BIG,                    |
<    |                         | NFS4ERR_REP_TOO_BIG_TO_CACHE,           |
<    |                         | NFS4ERR_REQ_TOO_BIG,                    |
<    |                         | NFS4ERR_RETRY_UNCACHED_REP,             |
<    |                         | NFS4ERR_TOO_MANY_OPS                    |
<    | CB_RECALLABLE_OBJ_AVAIL | NFS4ERR_BADXDR, NFS4ERR_DELAY,          |
<    |                         | NFS4ERR_INVAL, NFS4ERR_NOTSUPP,         |
<    |                         | NFS4ERR_OP_NOT_IN_SESSION,              |
<    |                         | NFS4ERR_REP_TOO_BIG,                    |
<    |                         | NFS4ERR_REP_TOO_BIG_TO_CACHE,           |
<    |                         | NFS4ERR_REQ_TOO_BIG,                    |
<    |                         | NFS4ERR_RETRY_UNCACHED_REP,             |
<    |                         | NFS4ERR_SERVERFAULT,                    |
<    |                         | NFS4ERR_TOO_MANY_OPS                    |
<    | CB_RECALL_SLOT          | NFS4ERR_BADXDR, NFS4ERR_BAD_HIGH_SLOT,  |
<    |                         | NFS4ERR_DELAY,                          |
<    |                         | NFS4ERR_OP_NOT_IN_SESSION,              |
<    |                         | NFS4ERR_REP_TOO_BIG,                    |
<    |                         | NFS4ERR_REP_TOO_BIG_TO_CACHE,           |
<    |                         | NFS4ERR_REQ_TOO_BIG,                    |
<    |                         | NFS4ERR_RETRY_UNCACHED_REP,             |
<    |                         | NFS4ERR_TOO_MANY_OPS                    |
<    | CB_SEQUENCE             | NFS4ERR_BADSESSION, NFS4ERR_BADSLOT,    |
<    |                         | NFS4ERR_BADXDR, NFS4ERR_BAD_HIGH_SLOT,  |
<    |                         | NFS4ERR_CONN_NOT_BOUND_TO_SESSION,      |
<    |                         | NFS4ERR_DELAY, NFS4ERR_REP_TOO_BIG,     |
<    |                         | NFS4ERR_REP_TOO_BIG_TO_CACHE,           |
<    |                         | NFS4ERR_REQ_TOO_BIG,                    |
<    |                         | NFS4ERR_RETRY_UNCACHED_REP,             |
<    |                         | NFS4ERR_SEQUENCE_POS,                   |
<    |                         | NFS4ERR_SEQ_FALSE_RETRY,                |
<    |                         | NFS4ERR_SEQ_MISORDERED,                 |
<    |                         | NFS4ERR_TOO_MANY_OPS                    |
<    | CB_WANTS_CANCELLED      | NFS4ERR_BADXDR, NFS4ERR_DELAY,          |
<    |                         | NFS4ERR_NOTSUPP,                        |
<    |                         | NFS4ERR_OP_NOT_IN_SESSION,              |
<    |                         | NFS4ERR_REP_TOO_BIG,                    |
<    |                         | NFS4ERR_REP_TOO_BIG_TO_CACHE,           |
<    |                         | NFS4ERR_REQ_TOO_BIG,                    |
<    |                         | NFS4ERR_RETRY_UNCACHED_REP,             |
<    |                         | NFS4ERR_SERVERFAULT,                    |
<    |                         | NFS4ERR_TOO_MANY_OPS                    |
<    +-------------------------+-----------------------------------------+
---
>    +-------------------------+----------------------------------------+
>    | Callback Operation      | Errors                                 |
>    +-------------------------+----------------------------------------+
>    | CB_GETATTR              | NFS4ERR_BADHANDLE, NFS4ERR_BADXDR,     |
>    |                         | NFS4ERR_DELAY, NFS4ERR_INVAL,          |
>    |                         | NFS4ERR_OP_NOT_IN_SESSION,             |
>    |                         | NFS4ERR_REP_TOO_BIG,                   |
>    |                         | NFS4ERR_REP_TOO_BIG_TO_CACHE,          |
>    |                         | NFS4ERR_REQ_TOO_BIG,                   |
>    |                         | NFS4ERR_RETRY_UNCACHED_REP,            |
>    |                         | NFS4ERR_SERVERFAULT,                   |
>    |                         | NFS4ERR_TOO_MANY_OPS,                  |
>    | CB_ILLEGAL              | NFS4ERR_BADXDR, NFS4ERR_OP_ILLEGAL     |
>    | CB_LAYOUTRECALL         | NFS4ERR_BADHANDLE, NFS4ERR_BADIOMODE,  |
>    |                         | NFS4ERR_BADXDR, NFS4ERR_BAD_STATEID,   |
>    |                         | NFS4ERR_DELAY, NFS4ERR_INVAL,          |
>    |                         | NFS4ERR_NOMATCHING_LAYOUT,             |
>    |                         | NFS4ERR_NOTSUPP,                       |
>    |                         | NFS4ERR_OP_NOT_IN_SESSION,             |
>    |                         | NFS4ERR_REP_TOO_BIG,                   |
>    |                         | NFS4ERR_REP_TOO_BIG_TO_CACHE,          |
>    |                         | NFS4ERR_REQ_TOO_BIG,                   |
>    |                         | NFS4ERR_RETRY_UNCACHED_REP,            |
>    |                         | NFS4ERR_TOO_MANY_OPS,                  |
>    |                         | NFS4ERR_UNKNOWN_LAYOUTTYPE,            |
>    |                         | NFS4ERR_WRONG_TYPE                     |
>    | CB_NOTIFY               | NFS4ERR_BADHANDLE, NFS4ERR_BADXDR,     |
>    |                         | NFS4ERR_BAD_STATEID, NFS4ERR_DELAY,    |
>    |                         | NFS4ERR_INVAL, NFS4ERR_NOTSUPP,        |
>    |                         | NFS4ERR_OP_NOT_IN_SESSION,             |
>    |                         | NFS4ERR_REP_TOO_BIG,                   |
>    |                         | NFS4ERR_REP_TOO_BIG_TO_CACHE,          |
>    |                         | NFS4ERR_REQ_TOO_BIG,                   |
>    |                         | NFS4ERR_RETRY_UNCACHED_REP,            |
>    |                         | NFS4ERR_SERVERFAULT,                   |
>    |                         | NFS4ERR_TOO_MANY_OPS                   |
>    | CB_NOTIFY_DEVICEID      | NFS4ERR_BADXDR, NFS4ERR_DELAY,         |
>    |                         | NFS4ERR_INVAL, NFS4ERR_NOTSUPP,        |
>    |                         | NFS4ERR_OP_NOT_IN_SESSION,             |
>    |                         | NFS4ERR_REP_TOO_BIG,                   |
>    |                         | NFS4ERR_REP_TOO_BIG_TO_CACHE,          |
>    |                         | NFS4ERR_REQ_TOO_BIG,                   |
>    |                         | NFS4ERR_RETRY_UNCACHED_REP,            |
>    |                         | NFS4ERR_SERVERFAULT,                   |
>    |                         | NFS4ERR_TOO_MANY_OPS                   |
>    | CB_NOTIFY_LOCK          | NFS4ERR_BADHANDLE, NFS4ERR_BADXDR,     |
>    |                         | NFS4ERR_BAD_STATEID, NFS4ERR_DELAY,    |
>    |                         | NFS4ERR_NOTSUPP,                       |
>    |                         | NFS4ERR_OP_NOT_IN_SESSION,             |
>    |                         | NFS4ERR_REP_TOO_BIG,                   |
>    |                         | NFS4ERR_REP_TOO_BIG_TO_CACHE,          |
>    |                         | NFS4ERR_REQ_TOO_BIG,                   |
>    |                         | NFS4ERR_RETRY_UNCACHED_REP,            |
>    |                         | NFS4ERR_SERVERFAULT,                   |
>    |                         | NFS4ERR_TOO_MANY_OPS                   |
>    | CB_PUSH_DELEG           | NFS4ERR_BADHANDLE, NFS4ERR_BADXDR,     |
>    |                         | NFS4ERR_DELAY, NFS4ERR_INVAL,          |
>    |                         | NFS4ERR_NOTSUPP,                       |
>    |                         | NFS4ERR_OP_NOT_IN_SESSION,             |
>    |                         | NFS4ERR_REJECT_DELEG,                  |
>    |                         | NFS4ERR_REP_TOO_BIG,                   |
>    |                         | NFS4ERR_REP_TOO_BIG_TO_CACHE,          |
>    |                         | NFS4ERR_REQ_TOO_BIG,                   |
>    |                         | NFS4ERR_RETRY_UNCACHED_REP,            |
>    |                         | NFS4ERR_SERVERFAULT,                   |
>    |                         | NFS4ERR_TOO_MANY_OPS,                  |
>    |                         | NFS4ERR_WRONG_TYPE                     |
>    | CB_RECALL               | NFS4ERR_BADHANDLE, NFS4ERR_BADXDR,     |
>    |                         | NFS4ERR_BAD_STATEID, NFS4ERR_DELAY,    |
>    |                         | NFS4ERR_OP_NOT_IN_SESSION,             |
>    |                         | NFS4ERR_REP_TOO_BIG,                   |
>    |                         | NFS4ERR_REP_TOO_BIG_TO_CACHE,          |
>    |                         | NFS4ERR_REQ_TOO_BIG,                   |
>    |                         | NFS4ERR_RETRY_UNCACHED_REP,            |
>    |                         | NFS4ERR_SERVERFAULT,                   |
>    |                         | NFS4ERR_TOO_MANY_OPS                   |
>    | CB_RECALL_ANY           | NFS4ERR_BADXDR, NFS4ERR_DELAY,         |
>    |                         | NFS4ERR_INVAL,                         |
>    |                         | NFS4ERR_OP_NOT_IN_SESSION,             |
>    |                         | NFS4ERR_REP_TOO_BIG,                   |
>    |                         | NFS4ERR_REP_TOO_BIG_TO_CACHE,          |
>    |                         | NFS4ERR_REQ_TOO_BIG,                   |
>    |                         | NFS4ERR_RETRY_UNCACHED_REP,            |
>    |                         | NFS4ERR_TOO_MANY_OPS                   |
>    | CB_RECALLABLE_OBJ_AVAIL | NFS4ERR_BADXDR, NFS4ERR_DELAY,         |
>    |                         | NFS4ERR_INVAL, NFS4ERR_NOTSUPP,        |
>    |                         | NFS4ERR_OP_NOT_IN_SESSION,             |
>    |                         | NFS4ERR_REP_TOO_BIG,                   |
>    |                         | NFS4ERR_REP_TOO_BIG_TO_CACHE,          |
>    |                         | NFS4ERR_REQ_TOO_BIG,                   |
>    |                         | NFS4ERR_RETRY_UNCACHED_REP,            |
>    |                         | NFS4ERR_SERVERFAULT,                   |
>    |                         | NFS4ERR_TOO_MANY_OPS                   |
>    | CB_RECALL_SLOT          | NFS4ERR_BADXDR, NFS4ERR_BAD_HIGH_SLOT, |
>    |                         | NFS4ERR_DELAY,                         |
>    |                         | NFS4ERR_OP_NOT_IN_SESSION,             |
>    |                         | NFS4ERR_REP_TOO_BIG,                   |
>    |                         | NFS4ERR_REP_TOO_BIG_TO_CACHE,          |
>    |                         | NFS4ERR_REQ_TOO_BIG,                   |
>    |                         | NFS4ERR_RETRY_UNCACHED_REP,            |
>    |                         | NFS4ERR_TOO_MANY_OPS                   |
>    | CB_SEQUENCE             | NFS4ERR_BADSESSION, NFS4ERR_BADSLOT,   |
>    |                         | NFS4ERR_BADXDR, NFS4ERR_BAD_HIGH_SLOT, |
>    |                         | NFS4ERR_CONN_NOT_BOUND_TO_SESSION,     |
>    |                         | NFS4ERR_DELAY, NFS4ERR_REP_TOO_BIG,    |
>    |                         | NFS4ERR_REP_TOO_BIG_TO_CACHE,          |
>    |                         | NFS4ERR_REQ_TOO_BIG,                   |
>    |                         | NFS4ERR_RETRY_UNCACHED_REP,            |
>    |                         | NFS4ERR_SEQUENCE_POS,                  |
>    |                         | NFS4ERR_SEQ_FALSE_RETRY,               |
>    |                         | NFS4ERR_SEQ_MISORDERED,                |
>    |                         | NFS4ERR_TOO_MANY_OPS                   |
>    | CB_WANTS_CANCELLED      | NFS4ERR_BADXDR, NFS4ERR_DELAY,         |
>    |                         | NFS4ERR_NOTSUPP,                       |
>    |                         | NFS4ERR_OP_NOT_IN_SESSION,             |
>    |                         | NFS4ERR_REP_TOO_BIG,                   |
>    |                         | NFS4ERR_REP_TOO_BIG_TO_CACHE,          |
>    |                         | NFS4ERR_REQ_TOO_BIG,                   |
>    |                         | NFS4ERR_RETRY_UNCACHED_REP,            |
>    |                         | NFS4ERR_SERVERFAULT,                   |
>    |                         | NFS4ERR_TOO_MANY_OPS                   |
>    +-------------------------+----------------------------------------+
17431c17454
<                                   Table 7
---
>                                   Table 6
18034c18057
<                                   Table 8
---
>                                   Table 7
18151,18152c18174,18175
<     case OP_OPEN_DOWNGRADE:
<                            OPEN_DOWNGRADE4args opopen_downgrade;
---
>       case OP_OPEN_DOWNGRADE:
>                              OPEN_DOWNGRADE4args opopen_downgrade;
18189,18228c18212,18252
<     case OP_BIND_CONN_TO_SESSION:
<                            BIND_CONN_TO_SESSION4args
<                            opbind_conn_to_session;
< 
<     case OP_EXCHANGE_ID:   EXCHANGE_ID4args opexchange_id;
< 
<     case OP_CREATE_SESSION:
<                            CREATE_SESSION4args opcreate_session;
< 
<     case OP_DESTROY_SESSION:
<                            DESTROY_SESSION4args opdestroy_session;
< 
<     case OP_FREE_STATEID:  FREE_STATEID4args opfree_stateid;
< 
<     case OP_GET_DIR_DELEGATION:
<                            GET_DIR_DELEGATION4args
<                                    opget_dir_delegation;
< 
<     case OP_GETDEVICEINFO: GETDEVICEINFO4args opgetdeviceinfo;
<     case OP_GETDEVICELIST: GETDEVICELIST4args opgetdevicelist;
<     case OP_LAYOUTCOMMIT:  LAYOUTCOMMIT4args oplayoutcommit;
<     case OP_LAYOUTGET:     LAYOUTGET4args oplayoutget;
<     case OP_LAYOUTRETURN:  LAYOUTRETURN4args oplayoutreturn;
< 
<     case OP_SECINFO_NO_NAME:
<                            SECINFO_NO_NAME4args opsecinfo_no_name;
< 
<     case OP_SEQUENCE:      SEQUENCE4args opsequence;
<     case OP_SET_SSV:       SET_SSV4args opset_ssv;
<     case OP_TEST_STATEID:  TEST_STATEID4args optest_stateid;
< 
<     case OP_WANT_DELEGATION:
<                            WANT_DELEGATION4args opwant_delegation;
<     case OP_DESTROY_CLIENTID:
<                            DESTROY_CLIENTID4args
<                                    opdestroy_clientid;
< 
<     case OP_RECLAIM_COMPLETE:
<                            RECLAIM_COMPLETE4args
<                                    opreclaim_complete;
---
>       case OP_BIND_CONN_TO_SESSION:
>                              BIND_CONN_TO_SESSION4args
>                              opbind_conn_to_session;
> 
>       case OP_EXCHANGE_ID:   EXCHANGE_ID4args opexchange_id;
> 
>       case OP_CREATE_SESSION:
> 
>                              CREATE_SESSION4args opcreate_session;
> 
>       case OP_DESTROY_SESSION:
>                              DESTROY_SESSION4args opdestroy_session;
> 
>       case OP_FREE_STATEID:  FREE_STATEID4args opfree_stateid;
> 
>       case OP_GET_DIR_DELEGATION:
>                              GET_DIR_DELEGATION4args
>                              opget_dir_delegation;
> 
>     case OP_GETDEVICEINFO: GETDEVICEINFO4args opgetdeviceinfo; case
>     OP_GETDEVICELIST: GETDEVICELIST4args opgetdevicelist; case
>     OP_LAYOUTCOMMIT: LAYOUTCOMMIT4args oplayoutcommit; case
>     OP_LAYOUTGET: LAYOUTGET4args oplayoutget; case OP_LAYOUTRETURN:
>     LAYOUTRETURN4args oplayoutreturn;
> 
>       case OP_SECINFO_NO_NAME:
>                              SECINFO_NO_NAME4args opsecinfo_no_name;
> 
>       case OP_SEQUENCE:      SEQUENCE4args opsequence;
>                              case OP_SET_SSV: SET_SSV4args opset_ssv;
>                              case OP_TEST_STATEID: TEST_STATEID4args
>                              optest_stateid;
> 
>       case OP_WANT_DELEGATION:
>                              WANT_DELEGATION4args opwant_delegation;
> 
>       case OP_DESTROY_CLIENTID:
>                              DESTROY_CLIENTID4args opdestroy_clientid;
> 
>       case OP_RECLAIM_COMPLETE:
>                              RECLAIM_COMPLETE4args opreclaim_complete;
18263,18265c18287,18288
<     case OP_OPEN_DOWNGRADE:
<                            OPEN_DOWNGRADE4res
<                                    opopen_downgrade;
---
>       case OP_OPEN_DOWNGRADE:
>                              OPEN_DOWNGRADE4res opopen_downgrade;
18269d18291
< 
18299,18305c18321,18322
<     case OP_BACKCHANNEL_CTL:
<                            BACKCHANNEL_CTL4res
<                                    opbackchannel_ctl;
< 
<     case OP_BIND_CONN_TO_SESSION:
<                            BIND_CONN_TO_SESSION4res
<                                     opbind_conn_to_session;
---
>       case OP_BACKCHANNEL_CTL:
>                              BACKCHANNEL_CTL4res opbackchannel_ctl;
18307c18324,18326
<     case OP_EXCHANGE_ID:   EXCHANGE_ID4res opexchange_id;
---
>       case OP_BIND_CONN_TO_SESSION:
>                              BIND_CONN_TO_SESSION4res
>                              opbind_conn_to_session;
18309,18311c18328
<     case OP_CREATE_SESSION:
<                            CREATE_SESSION4res
<                                    opcreate_session;
---
>       case OP_EXCHANGE_ID:   EXCHANGE_ID4res opexchange_id;
18313,18315c18330,18331
<     case OP_DESTROY_SESSION:
<                            DESTROY_SESSION4res
<                                    opdestroy_session;
---
>       case OP_CREATE_SESSION:
>                              CREATE_SESSION4res opcreate_session;
18317,18318c18333,18336
<     case OP_FREE_STATEID:  FREE_STATEID4res
<                                    opfree_stateid;
---
>       case OP_DESTROY_SESSION:
>                              DESTROY_SESSION4res opdestroy_session;
>       case OP_FREE_STATEID:  FREE_STATEID4res
>                              opfree_stateid;
18320,18322c18338,18340
<     case OP_GET_DIR_DELEGATION:
<                            GET_DIR_DELEGATION4res
<                                    opget_dir_delegation;
---
>       case OP_GET_DIR_DELEGATION:
>                              GET_DIR_DELEGATION4res
>                              opget_dir_delegation;
18324,18325c18342,18343
<     case OP_GETDEVICEINFO: GETDEVICEINFO4res
<                                    opgetdeviceinfo;
---
>       case OP_GETDEVICEINFO: GETDEVICEINFO4res
>                              opgetdeviceinfo;
18327,18328c18345,18346
<     case OP_GETDEVICELIST: GETDEVICELIST4res
<                                    opgetdevicelist;
---
>       case OP_GETDEVICELIST: GETDEVICELIST4res
>                              opgetdevicelist;
18330,18332c18348,18351
<     case OP_LAYOUTCOMMIT:  LAYOUTCOMMIT4res oplayoutcommit;
<     case OP_LAYOUTGET:     LAYOUTGET4res oplayoutget;
<     case OP_LAYOUTRETURN:  LAYOUTRETURN4res oplayoutreturn;
---
>       case OP_LAYOUTCOMMIT:  LAYOUTCOMMIT4res oplayoutcommit;
>                              case OP_LAYOUTGET: LAYOUTGET4res
>                              oplayoutget; case OP_LAYOUTRETURN:
>                              LAYOUTRETURN4res oplayoutreturn;
18334,18336c18353,18354
<     case OP_SECINFO_NO_NAME:
<                            SECINFO_NO_NAME4res
<                                    opsecinfo_no_name;
---
>       case OP_SECINFO_NO_NAME:
>                              SECINFO_NO_NAME4res opsecinfo_no_name;
18338,18340c18356,18359
<     case OP_SEQUENCE:      SEQUENCE4res opsequence;
<     case OP_SET_SSV:       SET_SSV4res opset_ssv;
<     case OP_TEST_STATEID:  TEST_STATEID4res optest_stateid;
---
>       case OP_SEQUENCE:      SEQUENCE4res opsequence;
>                              case OP_SET_SSV: SET_SSV4res opset_ssv;
>                              case OP_TEST_STATEID: TEST_STATEID4res
>                              optest_stateid;
18342,18344c18361,18362
<     case OP_WANT_DELEGATION:
<                            WANT_DELEGATION4res
<                                    opwant_delegation;
---
>       case OP_WANT_DELEGATION:
>                              WANT_DELEGATION4res opwant_delegation;
18346c18364
<     case OP_DESTROY_CLIENTID:
---
>       case OP_DESTROY_CLIENTID:
18348,18349c18366
<                            DESTROY_CLIENTID4res
<                                    opdestroy_clientid;
---
>                              DESTROY_CLIENTID4res opdestroy_clientid;
18351,18353c18368,18369
<     case OP_RECLAIM_COMPLETE:
<                            RECLAIM_COMPLETE4res
<                                    opreclaim_complete;
---
>       case OP_RECLAIM_COMPLETE:
>                              RECLAIM_COMPLETE4res opreclaim_complete;
18533,18534c18549,18550
<    operation.  This allows the client to explicitly surround a single
<    I/O operation with a lock and its appropriate stateid to guarantee
---
>    operation.  This allows the client to explicitly surround a single I/
>    O operation with a lock and its appropriate stateid to guarantee
18574,18589c18590,18605
<    +------------------------------+------------------------------------+
<    | Error                        | Notes                              |
<    +------------------------------+------------------------------------+
<    | NFS4ERR_BADCHAR              | The tag argument has a character   |
<    |                              | the replier does not support.      |
<    | NFS4ERR_BADXDR               |                                    |
<    | NFS4ERR_DELAY                |                                    |
<    | NFS4ERR_INVAL                | The tag argument is not in UTF-8   |
<    |                              | encoding.                          |
<    | NFS4ERR_MINOR_VERS_MISMATCH  |                                    |
<    | NFS4ERR_SERVERFAULT          |                                    |
<    | NFS4ERR_TOO_MANY_OPS         |                                    |
<    | NFS4ERR_REP_TOO_BIG          |                                    |
<    | NFS4ERR_REP_TOO_BIG_TO_CACHE |                                    |
<    | NFS4ERR_REQ_TOO_BIG          |                                    |
<    +------------------------------+------------------------------------+
---
>     +------------------------------+----------------------------------+
>     | Error                        | Notes                            |
>     +------------------------------+----------------------------------+
>     | NFS4ERR_BADCHAR              | The tag argument has a character |
>     |                              | the replier does not support.    |
>     | NFS4ERR_BADXDR               |                                  |
>     | NFS4ERR_DELAY                |                                  |
>     | NFS4ERR_INVAL                | The tag argument is not in UTF-8 |
>     |                              | encoding.                        |
>     | NFS4ERR_MINOR_VERS_MISMATCH  |                                  |
>     | NFS4ERR_SERVERFAULT          |                                  |
>     | NFS4ERR_TOO_MANY_OPS         |                                  |
>     | NFS4ERR_REP_TOO_BIG          |                                  |
>     | NFS4ERR_REP_TOO_BIG_TO_CACHE |                                  |
>     | NFS4ERR_REQ_TOO_BIG          |                                  |
>     +------------------------------+----------------------------------+
18591c18607
<                                   Table 9
---
>                                   Table 8
18647a18664
> 
18650c18667
<                                 Operations
---
>   Operations
18652,18716c18669,18784
<    +----------------------+------------+--------------+----------------+
<    | Operation            | REQ, REC,  | Feature      | Definition     |
<    |                      | OPT, or    | (REQ, REC,   |                |
<    |                      | MNI        | or OPT)      |                |
<    +----------------------+------------+--------------+----------------+
<    | ACCESS               | REQ        |              | Section 18.1   |
<    | BACKCHANNEL_CTL      | REQ        |              | Section 18.33  |
<    | BIND_CONN_TO_SESSION | REQ        |              | Section 18.34  |
<    | CLOSE                | REQ        |              | Section 18.2   |
<    | COMMIT               | REQ        |              | Section 18.3   |
<    | CREATE               | REQ        |              | Section 18.4   |
<    | CREATE_SESSION       | REQ        |              | Section 18.36  |
<    | DELEGPURGE           | OPT        | FDELG (REQ)  | Section 18.5   |
<    | DELEGRETURN          | OPT        | FDELG,       | Section 18.6   |
<    |                      |            | DDELG, pNFS  |                |
<    |                      |            | (REQ)        |                |
<    | DESTROY_CLIENTID     | REQ        |              | Section 18.50  |
<    | DESTROY_SESSION      | REQ        |              | Section 18.37  |
<    | EXCHANGE_ID          | REQ        |              | Section 18.35  |
<    | FREE_STATEID         | REQ        |              | Section 18.38  |
<    | GETATTR              | REQ        |              | Section 18.7   |
<    | GETDEVICEINFO        | OPT        | pNFS (REQ)   | Section 18.40  |
<    | GETDEVICELIST        | OPT        | pNFS (OPT)   | Section 18.41  |
<    | GETFH                | REQ        |              | Section 18.8   |
<    | GET_DIR_DELEGATION   | OPT        | DDELG (REQ)  | Section 18.39  |
<    | LAYOUTCOMMIT         | OPT        | pNFS (REQ)   | Section 18.42  |
<    | LAYOUTGET            | OPT        | pNFS (REQ)   | Section 18.43  |
<    | LAYOUTRETURN         | OPT        | pNFS (REQ)   | Section 18.44  |
<    | LINK                 | OPT        |              | Section 18.9   |
<    | LOCK                 | REQ        |              | Section 18.10  |
<    | LOCKT                | REQ        |              | Section 18.11  |
<    | LOCKU                | REQ        |              | Section 18.12  |
<    | LOOKUP               | REQ        |              | Section 18.13  |
<    | LOOKUPP              | REQ        |              | Section 18.14  |
<    | NVERIFY              | REQ        |              | Section 18.15  |
<    | OPEN                 | REQ        |              | Section 18.16  |
<    | OPENATTR             | OPT        |              | Section 18.17  |
<    | OPEN_CONFIRM         | MNI        |              | N/A            |
<    | OPEN_DOWNGRADE       | REQ        |              | Section 18.18  |
<    | PUTFH                | REQ        |              | Section 18.19  |
<    | PUTPUBFH             | REQ        |              | Section 18.20  |
<    | PUTROOTFH            | REQ        |              | Section 18.21  |
<    | READ                 | REQ        |              | Section 18.22  |
<    | READDIR              | REQ        |              | Section 18.23  |
<    | READLINK             | OPT        |              | Section 18.24  |
<    | RECLAIM_COMPLETE     | REQ        |              | Section 18.51  |
<    | RELEASE_LOCKOWNER    | MNI        |              | N/A            |
<    | REMOVE               | REQ        |              | Section 18.25  |
<    | RENAME               | REQ        |              | Section 18.26  |
<    | RENEW                | MNI        |              | N/A            |
<    | RESTOREFH            | REQ        |              | Section 18.27  |
<    | SAVEFH               | REQ        |              | Section 18.28  |
<    | SECINFO              | REQ        |              | Section 18.29  |
<    | SECINFO_NO_NAME      | REC        | pNFS file    | Section 18.45, |
<    |                      |            | layout (REQ) | Section 13.12  |
<    | SEQUENCE             | REQ        |              | Section 18.46  |
<    | SETATTR              | REQ        |              | Section 18.30  |
<    | SETCLIENTID          | MNI        |              | N/A            |
<    | SETCLIENTID_CONFIRM  | MNI        |              | N/A            |
<    | SET_SSV              | REQ        |              | Section 18.47  |
<    | TEST_STATEID         | REQ        |              | Section 18.48  |
<    | VERIFY               | REQ        |              | Section 18.31  |
<    | WANT_DELEGATION      | OPT        | FDELG (OPT)  | Section 18.49  |
<    | WRITE                | REQ        |              | Section 18.32  |
<    +----------------------+------------+--------------+----------------+
---
>    +----------------------+--------------+----------------+------------+
>    | Operation            | REQ, REC,    | Feature (REQ,  | Definition |
>    |                      | OPT, or MNI  | REC, or OPT)   |            |
>    +----------------------+--------------+----------------+------------+
>    | ACCESS               | REQ          |                | Section    |
>    |                      |              |                | 18.1       |
>    | BACKCHANNEL_CTL      | REQ          |                | Section    |
>    |                      |              |                | 18.33      |
>    | BIND_CONN_TO_SESSION | REQ          |                | Section    |
>    |                      |              |                | 18.34      |
>    | CLOSE                | REQ          |                | Section    |
>    |                      |              |                | 18.2       |
>    | COMMIT               | REQ          |                | Section    |
>    |                      |              |                | 18.3       |
>    | CREATE               | REQ          |                | Section    |
>    |                      |              |                | 18.4       |
>    | CREATE_SESSION       | REQ          |                | Section    |
>    |                      |              |                | 18.36      |
>    | DELEGPURGE           | OPT          | FDELG (REQ)    | Section    |
>    |                      |              |                | 18.5       |
>    | DELEGRETURN          | OPT          | FDELG,         | Section    |
>    |                      |              |                | 18.6       |
>    |                      |              | DDELG, pNFS    |            |
>    |                      |              | (REQ)          |            |
>    | DESTROY_CLIENTID     | REQ          |                | Section    |
>    |                      |              |                | 18.50      |
>    | DESTROY_SESSION      | REQ          |                | Section    |
>    |                      |              |                | 18.37      |
>    | EXCHANGE_ID          | REQ          |                | Section    |
>    |                      |              |                | 18.35      |
>    | FREE_STATEID         | REQ          |                | Section    |
>    |                      |              |                | 18.38      |
>    | GETATTR              | REQ          |                | Section    |
>    |                      |              |                | 18.7       |
>    | GETDEVICEINFO        | OPT          | pNFS (REQ)     | Section    |
>    |                      |              |                | 18.40      |
>    | GETDEVICELIST        | OPT          | pNFS (OPT)     | Section    |
>    |                      |              |                | 18.41      |
>    | GETFH                | REQ          |                | Section    |
>    |                      |              |                | 18.8       |
>    | GET_DIR_DELEGATION   | OPT          | DDELG (REQ)    | Section    |
>    |                      |              |                | 18.39      |
>    | LAYOUTCOMMIT         | OPT          | pNFS (REQ)     | Section    |
>    |                      |              |                | 18.42      |
>    | LAYOUTGET            | OPT          | pNFS (REQ)     | Section    |
>    |                      |              |                | 18.43      |
>    | LAYOUTRETURN         | OPT          | pNFS (REQ)     | Section    |
>    |                      |              |                | 18.44      |
>    | LINK                 | OPT          |                | Section    |
>    |                      |              |                | 18.9       |
>    | LOCK                 | REQ          |                | Section    |
>    |                      |              |                | 18.10      |
>    | LOCKT                | REQ          |                | Section    |
>    |                      |              |                | 18.11      |
>    | LOCKU                | REQ          |                | Section    |
>    |                      |              |                | 18.12      |
>    | LOOKUP               | REQ          |                | Section    |
>    |                      |              |                | 18.13      |
>    | LOOKUPP              | REQ          |                | Section    |
>    |                      |              |                | 18.14      |
>    | NVERIFY              | REQ          |                | Section    |
>    |                      |              |                | 18.15      |
>    | OPEN                 | REQ          |                | Section    |
>    |                      |              |                | 18.16      |
>    | OPENATTR             | OPT          |                | Section    |
>    |                      |              |                | 18.17      |
>    | OPEN_CONFIRM         | MNI          |                | N/A        |
>    | OPEN_DOWNGRADE       | REQ          |                | Section    |
>    |                      |              |                | 18.18      |
>    | PUTFH                | REQ          |                | Section    |
>    |                      |              |                | 18.19      |
>    | PUTPUBFH             | REQ          |                | Section    |
>    |                      |              |                | 18.20      |
>    | PUTROOTFH            | REQ          |                | Section    |
>    |                      |              |                | 18.21      |
>    | READ                 | REQ          |                | Section    |
>    |                      |              |                | 18.22      |
>    | READDIR              | REQ          |                | Section    |
>    |                      |              |                | 18.23      |
>    | READLINK             | OPT          |                | Section    |
>    |                      |              |                | 18.24      |
>    | RECLAIM_COMPLETE     | REQ          |                | Section    |
>    |                      |              |                | 18.51      |
>    | RELEASE_LOCKOWNER    | MNI          |                | N/A        |
>    | REMOVE               | REQ          |                | Section    |
>    |                      |              |                | 18.25      |
>    | RENAME               | REQ          |                | Section    |
>    |                      |              |                | 18.26      |
>    | RENEW                | MNI          |                | N/A        |
>    | RESTOREFH            | REQ          |                | Section    |
>    |                      |              |                | 18.27      |
>    | SAVEFH               | REQ          |                | Section    |
>    |                      |              |                | 18.28      |
>    | SECINFO              | REQ          |                | Section    |
>    |                      |              |                | 18.29      |
>    | SECINFO_NO_NAME      | REC          | pNFS file      | Section    |
>    |                      |              |                | 18.45,     |
>    |                      |              | layout (REQ)   | Section    |
>    |                      |              |                | 13.12      |
>    | SEQUENCE             | REQ          |                | Section    |
>    |                      |              |                | 18.46      |
>    | SETATTR              | REQ          |                | Section    |
>    |                      |              |                | 18.30      |
>    | SETCLIENTID          | MNI          |                | N/A        |
>    | SETCLIENTID_CONFIRM  | MNI          |                | N/A        |
>    | SET_SSV              | REQ          |                | Section    |
>    |                      |              |                | 18.47      |
>    | TEST_STATEID         | REQ          |                | Section    |
>    |                      |              |                | 18.48      |
>    | VERIFY               | REQ          |                | Section    |
>    |                      |              |                | 18.31      |
>    | WANT_DELEGATION      | OPT          | FDELG (OPT)    | Section    |
>    |                      |              |                | 18.49      |
>    | WRITE                | REQ          |                | Section    |
>    |                      |              |                | 18.32      |
>    +----------------------+--------------+----------------+------------+
18720,18746c18788,18826
<    +-------------------------+-----------+-------------+---------------+
<    | Operation               | REQ, REC, | Feature     | Definition    |
<    |                         | OPT, or   | (REQ, REC,  |               |
<    |                         | MNI       | or OPT)     |               |
<    +-------------------------+-----------+-------------+---------------+
<    | CB_GETATTR              | OPT       | FDELG (REQ) | Section 20.1  |
<    | CB_LAYOUTRECALL         | OPT       | pNFS (REQ)  | Section 20.3  |
<    | CB_NOTIFY               | OPT       | DDELG (REQ) | Section 20.4  |
<    | CB_NOTIFY_DEVICEID      | OPT       | pNFS (OPT)  | Section 20.12 |
<    | CB_NOTIFY_LOCK          | OPT       |             | Section 20.11 |
<    | CB_PUSH_DELEG           | OPT       | FDELG (OPT) | Section 20.5  |
<    | CB_RECALL               | OPT       | FDELG,      | Section 20.2  |
<    |                         |           | DDELG, pNFS |               |
<    |                         |           | (REQ)       |               |
<    | CB_RECALL_ANY           | OPT       | FDELG,      | Section 20.6  |
<    |                         |           | DDELG, pNFS |               |
<    |                         |           | (REQ)       |               |
<    | CB_RECALL_SLOT          | REQ       |             | Section 20.8  |
<    | CB_RECALLABLE_OBJ_AVAIL | OPT       | DDELG, pNFS | Section 20.7  |
<    |                         |           | (REQ)       |               |
<    | CB_SEQUENCE             | OPT       | FDELG,      | Section 20.9  |
<    |                         |           | DDELG, pNFS |               |
<    |                         |           | (REQ)       |               |
<    | CB_WANTS_CANCELLED      | OPT       | FDELG,      | Section 20.10 |
<    |                         |           | DDELG, pNFS |               |
<    |                         |           | (REQ)       |               |
<    +-------------------------+-----------+-------------+---------------+
---
>    +-------------------------+------------+---------------+------------+
>    | Operation               | REQ, REC,  | Feature (REQ, | Definition |
>    |                         | OPT, or    | REC, or OPT)  |            |
>    |                         | MNI        |               |            |
>    +-------------------------+------------+---------------+------------+
>    | CB_GETATTR              | OPT        | FDELG (REQ)   | Section    |
>    |                         |            |               | 20.1       |
>    | CB_LAYOUTRECALL         | OPT        | pNFS (REQ)    | Section    |
>    |                         |            |               | 20.3       |
>    | CB_NOTIFY               | OPT        | DDELG (REQ)   | Section    |
>    |                         |            |               | 20.4       |
>    | CB_NOTIFY_DEVICEID      | OPT        | pNFS (OPT)    | Section    |
>    |                         |            |               | 20.12      |
>    | CB_NOTIFY_LOCK          | OPT        |               | Section    |
>    |                         |            |               | 20.11      |
>    | CB_PUSH_DELEG           | OPT        | FDELG (OPT)   | Section    |
>    |                         |            |               | 20.5       |
>    | CB_RECALL               | OPT        | FDELG,        | Section    |
>    |                         |            |               | 20.2       |
>    |                         |            | DDELG, pNFS   |            |
>    |                         |            | (REQ)         |            |
>    | CB_RECALL_ANY           | OPT        | FDELG,        | Section    |
>    |                         |            |               | 20.6       |
>    |                         |            | DDELG, pNFS   |            |
>    |                         |            | (REQ)         |            |
>    | CB_RECALL_SLOT          | REQ        |               | Section    |
>    |                         |            |               | 20.8       |
>    | CB_RECALLABLE_OBJ_AVAIL | OPT        | DDELG, pNFS   | Section    |
>    |                         |            |               | 20.7       |
>    |                         |            | (REQ)         |            |
>    | CB_SEQUENCE             | OPT        | FDELG,        | Section    |
>    |                         |            |               | 20.9       |
>    |                         |            | DDELG, pNFS   |            |
>    |                         |            | (REQ)         |            |
>    | CB_WANTS_CANCELLED      | OPT        | FDELG,        | Section    |
>    |                         |            |               | 20.10      |
>    |                         |            | DDELG, pNFS   |            |
>    |                         |            | (REQ)         |            |
>    +-------------------------+------------+---------------+------------+
18814c18894
<       directory objects).
---
>   directory objects).
18817c18897
<       directory entries.
---
>   directory entries.
20004,20010c20084,20087
<          PUTFH  (directory filehandle)
<          LOOKUP "pub"
<          GETFH
<          LOOKUP "foo"
<          GETFH
<          LOOKUP "bar"
<          GETFH
---
>       PUTFH        (directory filehandle)
> 
>                    LOOKUP "pub" GETFH LOOKUP "foo" GETFH LOOKUP "bar"
>                    GETFH
20212a20290
> 
20242a20321
> 
20290a20370
> 
20349a20430
> 
20547,20559c20628,20640
<    +----------------+-----------+---------------+----------------------+
<    | Persistent     | Server    | Server        | Client Allowed       |
<    | Reply Cache    | Supports  | REQUIRED      |                      |
<    | Enabled        | pNFS      |               |                      |
<    +----------------+-----------+---------------+----------------------+
<    | no             | no        | EXCLUSIVE4_1  | EXCLUSIVE4_1         |
<    |                |           | and           | (SHOULD) or          |
<    |                |           | EXCLUSIVE4    | EXCLUSIVE4 (SHOULD   |
<    |                |           |               | NOT)                 |
<    | no             | yes       | EXCLUSIVE4_1  | EXCLUSIVE4_1         |
<    | yes            | no        | GUARDED4      | GUARDED4             |
<    | yes            | yes       | GUARDED4      | GUARDED4             |
<    +----------------+-----------+---------------+----------------------+
---
>    +-------------------+----------------+--------------+---------------+
>    | Persistent Reply  | Server         | Server       | Client        |
>    | Cache Enabled     | Supports pNFS  | REQUIRED     | Allowed       |
>    +-------------------+----------------+--------------+---------------+
>    | no                | no             | EXCLUSIVE4_1 | EXCLUSIVE4_1  |
>    |                   |                | and          | (SHOULD) or   |
>    |                   |                | EXCLUSIVE4   | EXCLUSIVE4    |
>    |                   |                |              | (SHOULD       |
>    |                   |                |              | NOT)          |
>    | no                | yes            | EXCLUSIVE4_1 | EXCLUSIVE4_1  |
>    | yes               | no             | GUARDED4     | GUARDED4      |
>    | yes               | yes            | GUARDED4     | GUARDED4      |
>    +-------------------+----------------+--------------+---------------+
20561c20642
<                                  Table 10
---
>                                   Table 9
20753a20835
> 
20801a20884
> 
20848a20932
> 
21630a21715
> 
21677a21763
> 
22483,22484c22569,22571
<    Valid combinations of the fields stable in the request and committed
<                                in the reply.
---
>       Valid combinations of the fields stable in the request and
>       committed
>                                   in the reply.
22494c22581
<                                  Table 11
---
>                                  Table 10
22690,22691c22777,22778
<     channel_dir_from_client4
<                    bctsa_dir;
---
>       channel_dir_from_client4
>                      bctsa_dir;
22707,22708c22794,22795
<     channel_dir_from_server4
<                    bctsr_dir;
---
>       channel_dir_from_server4
>                      bctsr_dir;
22814a22902
> 
22983,22985c23071,23075
<       These properties may be updated by subsequent EXCHANGE_ID requests
<       on confirmed client IDs though the server MAY refuse to change
<       them.
---
>          These properties may be updated by subsequent EXCHANGE_ID
>          requests
>          on confirmed client IDs though the server MAY refuse to change
> 
>          them.
23002,23003c23092,23093
<       Once the client ID is confirmed, these properties cannot be
<       updated by subsequent EXCHANGE_ID requests.
---
>          Once the client ID is confirmed, these properties cannot be
>          updated by subsequent EXCHANGE_ID requests.
23341c23431
<                                  Table 12
---
>                                  Table 11
23374,23375c23464,23465
<           The client identifier string, from the eia_clientowner
<           structure of the EXCHANGE_ID4args structure.
---
>        The client identifier string, from the eia_clientowner structure
>        of the EXCHANGE_ID4args structure.
23379,23381c23469,23471
<           A client-specific value used to indicate incarnations (where a
<           client restart represents a new incarnation), from the
<           eia_clientowner structure of the EXCHANGE_ID4args structure.
---
>        A client-specific value used to indicate incarnations (where a
>        client restart represents a new incarnation), from the
>        eia_clientowner structure of the EXCHANGE_ID4args structure.
23385,23386c23475,23476
<           The principal that was defined in the RPC header's credential
<           and/or verifier at the time the client record was established.
---
>        The principal that was defined in the RPC header's credential
>        and/or verifier at the time the client record was established.
23390,23392c23480,23482
<           The shorthand client identifier, generated by the server and
<           returned via the eir_clientid field in the EXCHANGE_ID4resok
<           structure.
---
>        The shorthand client identifier, generated by the server and
>        returned via the eir_clientid field in the EXCHANGE_ID4resok
>        structure.
23396,23402c23486,23491
<           A private field on the server indicating whether or not a
<           client record has been confirmed.  A client record is
<           confirmed if there has been a successful CREATE_SESSION
<           operation to confirm it.  Otherwise, it is unconfirmed.  An
<           unconfirmed record is established by an EXCHANGE_ID call.  Any
<           unconfirmed record that is not confirmed within a lease period
<           SHOULD be removed.
---
>        A private field on the server indicating whether or not a client
>        record has been confirmed.  A client record is confirmed if there
>        has been a successful CREATE_SESSION operation to confirm it.
>        Otherwise, it is unconfirmed.  An unconfirmed record is
>        established by an EXCHANGE_ID call.  Any unconfirmed record that
>        is not confirmed within a lease period SHOULD be removed.
23468,23473c23557,23562
<           If the server has no client records with
<           eia_clientowner.co_ownerid matching ownerid_arg, and
<           EXCHGID4_FLAG_UPD_CONFIRMED_REC_A is not set in the
<           EXCHANGE_ID, then a new shorthand client ID (let us call it
<           clientid_ret) is generated, and the following unconfirmed
<           record is added to the server's state.
---
>        If the server has no client records with
>        eia_clientowner.co_ownerid matching ownerid_arg, and
>        EXCHGID4_FLAG_UPD_CONFIRMED_REC_A is not set in the EXCHANGE_ID,
>        then a new shorthand client ID (let us call it clientid_ret) is
>        generated, and the following unconfirmed record is added to the
>        server's state.
23480c23569
<    2.  Non-Update on Existing Client ID
---
>    1.  Non-Update on Existing Client ID
23482,23486c23571,23575
<           If the server has the following confirmed record, and the
<           request does not have EXCHGID4_FLAG_UPD_CONFIRMED_REC_A set,
<           then the request is the result of a retried request due to a
<           faulty router or lost connection, or the client is trying to
<           determine if it can perform trunking.
---
>        If the server has the following confirmed record, and the request
>        does not have EXCHGID4_FLAG_UPD_CONFIRMED_REC_A set, then the
>        request is the result of a retried request due to a faulty router
>        or lost connection, or the client is trying to determine if it
>        can perform trunking.
23500c23589
<    3.  Client Collision
---
>    1.  Client Collision
23502,23506c23591,23595
<           If EXCHGID4_FLAG_UPD_CONFIRMED_REC_A is not set, and if the
<           server has the following confirmed record, then this request
<           is likely the result of a chance collision between the values
<           of the eia_clientowner.co_ownerid subfield of EXCHANGE_ID4args
<           for two different clients.
---
>        If EXCHGID4_FLAG_UPD_CONFIRMED_REC_A is not set, and if the
>        server has the following confirmed record, then this request is
>        likely the result of a chance collision between the values of the
>        eia_clientowner.co_ownerid subfield of EXCHANGE_ID4args for two
>        different clients.
23531c23620
<    4.  Replacement of Unconfirmed Record
---
>    1.  Replacement of Unconfirmed Record
23533,23538c23622,23626
<           If the EXCHGID4_FLAG_UPD_CONFIRMED_REC_A flag is not set, and
<           the server has the following unconfirmed record, then the
<           client is attempting EXCHANGE_ID again on an unconfirmed
<           client ID, perhaps due to a retry, a client restart before
<           client ID confirmation (i.e., before CREATE_SESSION was
<           called), or some other reason.
---
>        If the EXCHGID4_FLAG_UPD_CONFIRMED_REC_A flag is not set, and the
>        server has the following unconfirmed record, then the client is
>        attempting EXCHANGE_ID again on an unconfirmed client ID, perhaps
>        due to a retry, a client restart before client ID confirmation
>        (i.e., before CREATE_SESSION was called), or some other reason.
23552c23640
<    5.  Client Restart
---
>    1.  Client Restart
23554,23557c23642,23645
<           If EXCHGID4_FLAG_UPD_CONFIRMED_REC_A is not set, and if the
<           server has the following confirmed client record, then this
<           request is likely from a previously confirmed client that has
<           restarted.
---
>        If EXCHGID4_FLAG_UPD_CONFIRMED_REC_A is not set, and if the
>        server has the following confirmed client record, then this
>        request is likely from a previously confirmed client that has
>        restarted.
23587,23597c23675,23683
<           +  If the server subsequently receives a successful
<              CREATE_SESSION that confirms clientid_ret, then the server
<              atomically destroys the confirmed record and makes the
<              unconfirmed record confirmed as described in
<              Section 18.36.4.
< 
<           +  If the server instead subsequently receives an EXCHANGE_ID
<              with the client owner equal to ownerid_arg, one strategy is
<              to simply delete the unconfirmed record, and process the
<              EXCHANGE_ID as described in the entirety of
<              Section 18.35.4.
---
>    o  If the server subsequently receives a successful CREATE_SESSION
>       that confirms clientid_ret, then the server atomically destroys
>       the confirmed record and makes the unconfirmed record confirmed as
>       described in Section 18.36.4.
> 
>    o  If the server instead subsequently receives an EXCHANGE_ID with
>       the client owner equal to ownerid_arg, one strategy is to simply
>       delete the unconfirmed record, and process the EXCHANGE_ID as
>       described in the entirety of Section 18.35.4.
23599c23685
<    6.  Update
---
>       1.  Update
23613,23620c23699
<    7.  Update but No Confirmed Record
< 
<           If EXCHGID4_FLAG_UPD_CONFIRMED_REC_A is set, and the server
<           has no confirmed record corresponding ownerid_arg, then the
<           server returns NFS4ERR_NOENT and leaves any unconfirmed record
<           intact.
< 
<    8.  Update but Wrong Verifier
---
>    1.  Update but No Confirmed Record
23622,23625c23701,23710
<           If EXCHGID4_FLAG_UPD_CONFIRMED_REC_A is set, and the server
<           has the following confirmed record, then this request is an
<           illegal attempt at an update, perhaps because of a retry from
<           a previous client incarnation.
---
>        If EXCHGID4_FLAG_UPD_CONFIRMED_REC_A is set, and the server has
>        no confirmed record corresponding ownerid_arg, then the server
>        returns NFS4ERR_NOENT and leaves any unconfirmed record intact.
> 
>    2.  Update but Wrong Verifier
> 
>        If EXCHGID4_FLAG_UPD_CONFIRMED_REC_A is set, and the server has
>        the following confirmed record, then this request is an illegal
>        attempt at an update, perhaps because of a retry from a previous
>        client incarnation.
23632c23717
<    9.  Update but Wrong Principal
---
>    1.  Update but Wrong Principal
23634,23636c23719,23721
<           If EXCHGID4_FLAG_UPD_CONFIRMED_REC_A is set, and the server
<           has the following confirmed record, then this request is an
<           illegal attempt at an update by an unauthorized principal.
---
>        If EXCHGID4_FLAG_UPD_CONFIRMED_REC_A is set, and the server has
>        the following confirmed record, then this request is an illegal
>        attempt at an update by an unauthorized principal.
23816,23819c23901,23904
<          framing headers.  Imagine a request coming over a non-RDMA
<          TCP/IP connection, and that it has a single Record Marking
<          header preceding it.  The maximum allowable count encoded in
<          the header will be ca_maxrequestsize.  If a requester sends a
---
>          framing headers.  Imagine a request coming over a non-RDMA TCP/
>          IP connection, and that it has a single Record Marking header
>          preceding it.  The maximum allowable count encoded in the
>          header will be ca_maxrequestsize.  If a requester sends a
24046,24047c24131,24132
<              If the server has the following unconfirmed record, then
<              this is the expected confirmation of an unconfirmed record.
---
>           If the server has the following unconfirmed record, then this
>           is the expected confirmation of an unconfirmed record.
24069c24154
<        *  Unsuccessful Confirmation
---
>       *  Unsuccessful Confirmation
24071,24074c24156,24159
<              If the server has the following record, then the client has
<              changed principals after the previous EXCHANGE_ID request,
<              or there has been a chance collision between shorthand
<              client identifiers.
---
>          If the server has the following record, then the client has
>          changed principals after the previous EXCHANGE_ID request, or
>          there has been a chance collision between shorthand client
>          identifiers.
24082c24167
<    4.  Session creation.  The server confirmed the client ID, either in
---
>    1.  Session creation.  The server confirmed the client ID, either in
24892,24893c24977,24979
<          Acceptable layouts based on loga_minlength.  Note: u64m =
<      NFS4_UINT64_MAX; a_off = loga_offset; a_minlen = loga_minlength.
---
>         Acceptable layouts based on loga_minlength.  Note: u64m =
> 
>         NFS4_UINT64_MAX; a_off = loga_offset; a_minlen = loga_minlength.
24926c25012
<                                  Table 13
---
>                                  Figure 7
24972c25058
<                                  Table 14
---
>                                  Figure 8
25174,25179c25260,25265
<    o  This strategy is as above, but the client is not using buffered
<       I/O, and instead all internal I/O requests are sent directly to
<       the server.  The LAYOUTGET request has loga_offset equal to 10000
<       and loga_minlength set to 50000.  The value of loga_length is set
<       to the length of the file.  The metadata server is free to return
<       a layout that fully overlaps the requested range, with a starting
---
>    o  This strategy is as above, but the client is not using buffered I/
>       O, and instead all internal I/O requests are sent directly to the
>       server.  The LAYOUTGET request has loga_offset equal to 10000 and
>       loga_minlength set to 50000.  The value of loga_length is set to
>       the length of the file.  The metadata server is free to return a
>       layout that fully overlaps the requested range, with a starting
25617a25704
> 
25712a25800
> 
26341a26430
> 
26364a26454
> 
26471,26486c26561,26576
<    +------------------------------+------------------------------------+
<    | Error                        | Notes                              |
<    +------------------------------+------------------------------------+
<    | NFS4ERR_BADCHAR              | The tag argument has a character   |
<    |                              | the replier does not support.      |
<    | NFS4ERR_BADXDR               |                                    |
<    | NFS4ERR_DELAY                |                                    |
<    | NFS4ERR_INVAL                | The tag argument is not in UTF-8   |
<    |                              | encoding.                          |
<    | NFS4ERR_MINOR_VERS_MISMATCH  |                                    |
<    | NFS4ERR_SERVERFAULT          |                                    |
<    | NFS4ERR_TOO_MANY_OPS         |                                    |
<    | NFS4ERR_REP_TOO_BIG          |                                    |
<    | NFS4ERR_REP_TOO_BIG_TO_CACHE |                                    |
<    | NFS4ERR_REQ_TOO_BIG          |                                    |
<    +------------------------------+------------------------------------+
---
>     +------------------------------+----------------------------------+
>     | Error                        | Notes                            |
>     +------------------------------+----------------------------------+
>     | NFS4ERR_BADCHAR              | The tag argument has a character |
>     |                              | the replier does not support.    |
>     | NFS4ERR_BADXDR               |                                  |
>     | NFS4ERR_DELAY                |                                  |
>     | NFS4ERR_INVAL                | The tag argument is not in UTF-8 |
>     |                              | encoding.                        |
>     | NFS4ERR_MINOR_VERS_MISMATCH  |                                  |
>     | NFS4ERR_SERVERFAULT          |                                  |
>     | NFS4ERR_TOO_MANY_OPS         |                                  |
>     | NFS4ERR_REP_TOO_BIG          |                                  |
>     | NFS4ERR_REP_TOO_BIG_TO_CACHE |                                  |
>     | NFS4ERR_REQ_TOO_BIG          |                                  |
>     +------------------------------+----------------------------------+
26488c26578
<                                  Table 15
---
>                                  Table 12
26752a26843
> 
26849a26941
> 
27485,27486c27577,27578
<       the new device-ID-to-device-address mappings before sending new
<       I/O requests to the storage devices addressed by the device ID.
---
>       the new device-ID-to-device-address mappings before sending new I/
>       O requests to the storage devices addressed by the device ID.
27502,27505c27594,27599
<       The notification is encoded in a value of data type
<       notify_deviceid_delete4.  After a server deletes a device ID, it
<       MUST NOT reuse that device ID for the same layout type until the
<       client ID is deleted.
---
>          The notification is encoded in a value of data type
>          notify_deviceid_delete4.  After a server deletes a device ID,
>         it
>          MUST NOT reuse that device ID for the same layout type until
>          the
>          client ID is deleted.
27739c27833
<            Table 16: Initial Device ID Notification Assignments
---
>            Table 13: Initial Device ID Notification Assignments
27803,27821c27897,27915
<    +-------------------------------+-------+--------+-----+------------+
<    | Recallable Object Type Name   | Value | RFC    | How | Minor      |
<    |                               |       |        |     | Versions   |
<    +-------------------------------+-------+--------+-----+------------+
<    | RCA4_TYPE_MASK_RDATA_DLG      | 0     | RFC    | N   | 1          |
<    |                               |       | 5661   |     |            |
<    | RCA4_TYPE_MASK_WDATA_DLG      | 1     | RFC    | N   | 1          |
<    |                               |       | 5661   |     |            |
<    | RCA4_TYPE_MASK_DIR_DLG        | 2     | RFC    | N   | 1          |
<    |                               |       | 5661   |     |            |
<    | RCA4_TYPE_MASK_FILE_LAYOUT    | 3     | RFC    | N   | 1          |
<    |                               |       | 5661   |     |            |
<    | RCA4_TYPE_MASK_BLK_LAYOUT     | 4     | RFC    | L   | 1          |
<    |                               |       | 5661   |     |            |
<    | RCA4_TYPE_MASK_OBJ_LAYOUT_MIN | 8     | RFC    | L   | 1          |
<    |                               |       | 5661   |     |            |
<    | RCA4_TYPE_MASK_OBJ_LAYOUT_MAX | 9     | RFC    | L   | 1          |
<    |                               |       | 5661   |     |            |
<    +-------------------------------+-------+--------+-----+------------+
---
>    +-------------------------------+--------+------+------+------------+
>    | Recallable Object Type Name   | Value  | RFC  | How  | Minor      |
>    |                               |        |      |      | Versions   |
>    +-------------------------------+--------+------+------+------------+
>    | RCA4_TYPE_MASK_RDATA_DLG      | 0      | RFC  | N    | 1          |
>    |                               |        | 5661 |      |            |
>    | RCA4_TYPE_MASK_WDATA_DLG      | 1      | RFC  | N    | 1          |
>    |                               |        | 5661 |      |            |
>    | RCA4_TYPE_MASK_DIR_DLG        | 2      | RFC  | N    | 1          |
>    |                               |        | 5661 |      |            |
>    | RCA4_TYPE_MASK_FILE_LAYOUT    | 3      | RFC  | N    | 1          |
>    |                               |        | 5661 |      |            |
>    | RCA4_TYPE_MASK_BLK_LAYOUT     | 4      | RFC  | L    | 1          |
>    |                               |        | 5661 |      |            |
>    | RCA4_TYPE_MASK_OBJ_LAYOUT_MIN | 8      | RFC  | L    | 1          |
>    |                               |        | 5661 |      |            |
>    | RCA4_TYPE_MASK_OBJ_LAYOUT_MAX | 9      | RFC  | L    | 1          |
>    |                               |        | 5661 |      |            |
>    +-------------------------------+--------+------+------+------------+
27823c27917
<            Table 17: Initial Recallable Object Type Assignments
---
>            Table 14: Initial Recallable Object Type Assignments
27886c27980
<                  Table 18: Initial Layout Type Assignments
---
>                  Table 15: Initial Layout Type Assignments
28032c28126
<                  Table 19: Initial List of Path Variables
---
>                  Table 16: Initial List of Path Variables
28117,28118c28211,28212
<    [1]   Bradner, S., "Key words for use in RFCs to Indicate Requirement
<          Levels", BCP 14, RFC 2119, March 1997.
---
>    [1]        Bradner, S., "Key words for use in RFCs to Indicate
>               Requirement Levels", BCP 14, RFC 2119, March 1997.
28120,28121c28214,28215
<    [2]   Eisler, M., Ed., "XDR: External Data Representation Standard",
<          STD 67, RFC 4506, May 2006.
---
>    [2]        Eisler, M., Ed., "XDR: External Data Representation
>               Standard", STD 67, RFC 4506, May 2006.
28123,28124c28217,28218
<    [3]   Thurlow, R., "RPC: Remote Procedure Call Protocol Specification
<          Version 2", RFC 5531, May 2009.
---
>    [3]        Thurlow, R., "RPC: Remote Procedure Call Protocol
>               Specification Version 2", RFC 5531, May 2009.
28126,28233c28220,28333
<    [4]   Eisler, M., Chiu, A., and L. Ling, "RPCSEC_GSS Protocol
<          Specification", RFC 2203, September 1997.
< 
<    [5]   Zhu, L., Jaganathan, K., and S. Hartman, "The Kerberos Version
<          5 Generic Security Service Application Program Interface (GSS-
<          API) Mechanism Version 2", RFC 4121, July 2005.
< 
<    [6]   The Open Group, "Section 3.191 of Chapter 3 of Base Definitions
<          of The Open Group Base Specifications Issue 6 IEEE Std 1003.1,
<          2004 Edition, HTML Version (www.opengroup.org), ISBN
<          1931624232", 2004.
< 
<    [7]   Linn, J., "Generic Security Service Application Program
<          Interface Version 2, Update 1", RFC 2743, January 2000.
< 
<    [8]   Talpey, T. and B. Callaghan, "Remote Direct Memory Access
<          Transport for Remote Procedure Call", RFC 5666, January 2010.
< 
<    [9]   Talpey, T. and B. Callaghan, "Network File System (NFS) Direct
<          Data Placement", RFC 5667, January 2010.
< 
<    [10]  Recio, R., Metzler, B., Culley, P., Hilland, J., and D. Garcia,
<          "A Remote Direct Memory Access Protocol Specification",
<          RFC 5040, October 2007.
< 
<    [11]  Krawczyk, H., Bellare, M., and R. Canetti, "HMAC: Keyed-Hashing
<          for Message Authentication", RFC 2104, February 1997.
< 
<    [12]  Eisler, M., "RPCSEC_GSS Version 2", RFC 5403, February 2009.
< 
<    [13]  Shepler, S., Ed., Eisler, M., Ed., and D. Noveck, Ed., "Network
<          File System (NFS) Version 4 Minor Version 1 External Data
<          Representation Standard (XDR) Description", RFC 5662,
<          January 2010.
< 
<    [14]  The Open Group, "Section 3.372 of Chapter 3 of Base Definitions
<          of The Open Group Base Specifications Issue 6 IEEE Std 1003.1,
<          2004 Edition, HTML Version (www.opengroup.org), ISBN
<          1931624232", 2004.
< 
<    [15]  Eisler, M., "IANA Considerations for Remote Procedure Call
<          (RPC) Network Identifiers and Universal Address Formats",
<          RFC 5665, January 2010.
< 
<    [16]  The Open Group, "Section 'read()' of System Interfaces of The
<          Open Group Base Specifications Issue 6 IEEE Std 1003.1, 2004
<          Edition, HTML Version (www.opengroup.org), ISBN 1931624232",
<          2004.
< 
<    [17]  The Open Group, "Section 'readdir()' of System Interfaces of
<          The Open Group Base Specifications Issue 6 IEEE Std 1003.1,
<          2004 Edition, HTML Version (www.opengroup.org), ISBN
<          1931624232", 2004.
< 
<    [18]  The Open Group, "Section 'write()' of System Interfaces of The
<          Open Group Base Specifications Issue 6 IEEE Std 1003.1, 2004
<          Edition, HTML Version (www.opengroup.org), ISBN 1931624232",
<          2004.
< 
<    [19]  Hoffman, P. and M. Blanchet, "Preparation of Internationalized
<          Strings ("stringprep")", RFC 3454, December 2002.
< 
<    [20]  The Open Group, "Section 'chmod()' of System Interfaces of The
<          Open Group Base Specifications Issue 6 IEEE Std 1003.1, 2004
<          Edition, HTML Version (www.opengroup.org), ISBN 1931624232",
<          2004.
< 
<    [21]  International Organization for Standardization, "Information
<          Technology - Universal Multiple-octet coded Character Set (UCS)
<          - Part 1: Architecture and Basic Multilingual Plane",
<          ISO Standard 10646-1, May 1993.
< 
<    [22]  Alvestrand, H., "IETF Policy on Character Sets and Languages",
<          BCP 18, RFC 2277, January 1998.
< 
<    [23]  Hoffman, P. and M. Blanchet, "Nameprep: A Stringprep Profile
<          for Internationalized Domain Names (IDN)", RFC 3491,
<          March 2003.
< 
<    [24]  The Open Group, "Section 'fcntl()' of System Interfaces of The
<          Open Group Base Specifications Issue 6 IEEE Std 1003.1, 2004
<          Edition, HTML Version (www.opengroup.org), ISBN 1931624232",
<          2004.
< 
<    [25]  The Open Group, "Section 'fsync()' of System Interfaces of The
<          Open Group Base Specifications Issue 6 IEEE Std 1003.1, 2004
<          Edition, HTML Version (www.opengroup.org), ISBN 1931624232",
<          2004.
< 
<    [26]  The Open Group, "Section 'getpwnam()' of System Interfaces of
<          The Open Group Base Specifications Issue 6 IEEE Std 1003.1,
<          2004 Edition, HTML Version (www.opengroup.org), ISBN
<          1931624232", 2004.
< 
<    [27]  The Open Group, "Section 'unlink()' of System Interfaces of The
<          Open Group Base Specifications Issue 6 IEEE Std 1003.1, 2004
<          Edition, HTML Version (www.opengroup.org), ISBN 1931624232",
<          2004.
< 
<    [28]  Schaad, J., Kaliski, B., and R. Housley, "Additional Algorithms
<          and Identifiers for RSA Cryptography for use in the Internet
<          X.509 Public Key Infrastructure Certificate and Certificate
<          Revocation List (CRL) Profile", RFC 4055, June 2005.
< 
<    [29]  National Institute of Standards and Technology, "Cryptographic
<          Algorithm Object Registration", URL http://csrc.nist.gov/
<          groups/ST/crypto_apps_infra/csor/algorithms.html,
<          November 2007.
---
>    [4]        Eisler, M., Chiu, A., and L. Ling, "RPCSEC_GSS Protocol
>               Specification", RFC 2203, September 1997.
> 
>    [5]        Zhu, L., Jaganathan, K., and S. Hartman, "The Kerberos
>               Version 5 Generic Security Service Application Program
>               Interface (GSS-API) Mechanism Version 2", RFC 4121, July
>               2005.
> 
>    [6]        The Open Group, "Section 3.191 of Chapter 3 of Base
>               Definitions of The Open Group Base Specifications Issue 6
>               IEEE Std 1003.1, 2004 Edition, HTML Version
>               (www.opengroup.org), ISBN 1931624232", 2004.
> 
>    [7]        Linn, J., "Generic Security Service Application Program
>               Interface Version 2, Update 1", RFC 2743, January 2000.
> 
>    [8]        Talpey, T. and B. Callaghan, "Remote Direct Memory Access
>               Transport for Remote Procedure Call", RFC 5666, January
>               2010.
> 
>    [9]        Talpey, T. and B. Callaghan, "Network File System (NFS)
>               Direct Data Placement", RFC 5667, January 2010.
> 
>    [10]       Recio, R., Metzler, B., Culley, P., Hilland, J., and D.
>               Garcia, "A Remote Direct Memory Access Protocol
>               Specification", RFC 5040, October 2007.
> 
>    [11]       Krawczyk, H., Bellare, M., and R. Canetti, "HMAC: Keyed-
>               Hashing for Message Authentication", RFC 2104, February
>               1997.
> 
>    [12]       Eisler, M., "RPCSEC_GSS Version 2", RFC 5403, February
>               2009.
> 
>    [13]       Shepler, S., Ed., Eisler, M., Ed., and D. Noveck, Ed.,
>               "Network File System (NFS) Version 4 Minor Version 1
>               External Data Representation Standard (XDR) Description",
>               RFC 5662, January 2010.
> 
>    [14]       The Open Group, "Section 3.372 of Chapter 3 of Base
>               Definitions of The Open Group Base Specifications Issue 6
>               IEEE Std 1003.1, 2004 Edition, HTML Version
>               (www.opengroup.org), ISBN 1931624232", 2004.
> 
>    [15]       Eisler, M., "IANA Considerations for Remote Procedure Call
>               (RPC) Network Identifiers and Universal Address Formats",
>               RFC 5665, January 2010.
> 
>    [16]       The Open Group, "Section 'read()' of System Interfaces of
>               The Open Group Base Specifications Issue 6 IEEE Std
>               1003.1, 2004 Edition, HTML Version (www.opengroup.org),
>               ISBN 1931624232", 2004.
> 
>    [17]       The Open Group, "Section 'readdir()' of System Interfaces
>               of The Open Group Base Specifications Issue 6 IEEE Std
>               1003.1, 2004 Edition, HTML Version (www.opengroup.org),
>               ISBN 1931624232", 2004.
> 
>    [18]       The Open Group, "Section 'write()' of System Interfaces of
>               The Open Group Base Specifications Issue 6 IEEE Std
>               1003.1, 2004 Edition, HTML Version (www.opengroup.org),
>               ISBN 1931624232", 2004.
> 
>    [19]       Hoffman, P. and M. Blanchet, "Preparation of
>               Internationalized Strings ("stringprep")", RFC 3454,
>               December 2002.
> 
>    [20]       The Open Group, "Section 'chmod()' of System Interfaces of
>               The Open Group Base Specifications Issue 6 IEEE Std
>               1003.1, 2004 Edition, HTML Version (www.opengroup.org),
>               ISBN 1931624232", 2004.
> 
>    [21]       International Organization for Standardization,
>               "Information Technology - Universal Multiple-octet coded
>               Character Set (UCS) - Part 1: Architecture and Basic
>               Multilingual Plane", ISO Standard 10646-1, May 1993.
> 
>    [22]       Alvestrand, H., "IETF Policy on Character Sets and
>               Languages", BCP 18, RFC 2277, January 1998.
> 
>    [23]       Hoffman, P. and M. Blanchet, "Nameprep: A Stringprep
>               Profile for Internationalized Domain Names (IDN)",
>               RFC 3491, March 2003.
> 
>    [24]       The Open Group, "Section 'fcntl()' of System Interfaces of
>               The Open Group Base Specifications Issue 6 IEEE Std
>               1003.1, 2004 Edition, HTML Version (www.opengroup.org),
>               ISBN 1931624232", 2004.
> 
>    [25]       The Open Group, "Section 'fsync()' of System Interfaces of
>               The Open Group Base Specifications Issue 6 IEEE Std
>               1003.1, 2004 Edition, HTML Version (www.opengroup.org),
>               ISBN 1931624232", 2004.
> 
>    [26]       The Open Group, "Section 'getpwnam()' of System Interfaces
>               of The Open Group Base Specifications Issue 6 IEEE Std
>               1003.1, 2004 Edition, HTML Version (www.opengroup.org),
>               ISBN 1931624232", 2004.
> 
>    [27]       The Open Group, "Section 'unlink()' of System Interfaces
>               of The Open Group Base Specifications Issue 6 IEEE Std
>               1003.1, 2004 Edition, HTML Version (www.opengroup.org),
>               ISBN 1931624232", 2004.
> 
>    [28]       Schaad, J., Kaliski, B., and R. Housley, "Additional
>               Algorithms and Identifiers for RSA Cryptography for use in
>               the Internet X.509 Public Key Infrastructure Certificate
>               and Certificate Revocation List (CRL) Profile", RFC 4055,
>               June 2005.
> 
>    [29]       National Institute of Standards and Technology,
>               "Cryptographic Algorithm Object Registration", URL
>               http://csrc.nist.gov/groups/ST/crypto_apps_infra/csor/
>               algorithms.html, November 2007.
28237,28239c28337,28339
<    [30]  Shepler, S., Callaghan, B., Robinson, D., Thurlow, R., Beame,
<          C., Eisler, M., and D. Noveck, "Network File System (NFS)
<          version 4 Protocol", RFC 3530, April 2003.
---
>    [30]       Shepler, S., Callaghan, B., Robinson, D., Thurlow, R.,
>               Beame, C., Eisler, M., and D. Noveck, "Network File System
>               (NFS) version 4 Protocol", RFC 3530, April 2003.
28241,28242c28341,28342
<    [31]  Callaghan, B., Pawlowski, B., and P. Staubach, "NFS Version 3
<          Protocol Specification", RFC 1813, June 1995.
---
>    [31]       Callaghan, B., Pawlowski, B., and P. Staubach, "NFS
>               Version 3 Protocol Specification", RFC 1813, June 1995.
28244,28245c28344,28345
<    [32]  Eisler, M., "LIPKEY - A Low Infrastructure Public Key Mechanism
<          Using SPKM", RFC 2847, June 2000.
---
>    [32]       Eisler, M., "LIPKEY - A Low Infrastructure Public Key
>               Mechanism Using SPKM", RFC 2847, June 2000.
28247,28249c28347,28349
<    [33]  Eisler, M., "NFS Version 2 and Version 3 Security Issues and
<          the NFS Protocol's Use of RPCSEC_GSS and Kerberos V5",
<          RFC 2623, June 1999.
---
>    [33]       Eisler, M., "NFS Version 2 and Version 3 Security Issues
>               and the NFS Protocol's Use of RPCSEC_GSS and Kerberos V5",
>               RFC 2623, June 1999.
28251,28252c28351,28353
<    [34]  Juszczak, C., "Improving the Performance and Correctness of an
<          NFS Server", USENIX Conference Proceedings, June 1990.
---
>    [34]       Juszczak, C., "Improving the Performance and Correctness
>               of an NFS Server", USENIX Conference Proceedings, June
>               1990.
28254,28255c28355,28356
<    [35]  Reynolds, J., Ed., "Assigned Numbers: RFC 1700 is Replaced by
<          an On-line Database", RFC 3232, January 2002.
---
>    [35]       Reynolds, J., Ed., "Assigned Numbers: RFC 1700 is Replaced
>               by an On-line Database", RFC 3232, January 2002.
28257,28258c28358,28359
<    [36]  Srinivasan, R., "Binding Protocols for ONC RPC Version 2",
<          RFC 1833, August 1995.
---
>    [36]       Srinivasan, R., "Binding Protocols for ONC RPC Version 2",
>               RFC 1833, August 1995.
28260,28261c28361,28362
<    [37]  Werme, R., "RPC XID Issues", USENIX Conference Proceedings,
<          February 1996.
---
>    [37]       Werme, R., "RPC XID Issues", USENIX Conference
>               Proceedings, February 1996.
28263,28264c28364,28365
<    [38]  Nowicki, B., "NFS: Network File System Protocol specification",
<          RFC 1094, March 1989.
---
>    [38]       Nowicki, B., "NFS: Network File System Protocol
>               specification", RFC 1094, March 1989.
28266,28267c28367,28369
<    [39]  Bhide, A., Elnozahy, E., and S. Morgan, "A Highly Available
<          Network Server", USENIX Conference Proceedings, January 1991.
---
>    [39]       Bhide, A., Elnozahy, E., and S. Morgan, "A Highly
>               Available Network Server", USENIX Conference Proceedings,
>               January 1991.
28269,28270c28371,28372
<    [40]  Halevy, B., Welch, B., and J. Zelenka, "Object-Based Parallel
<          NFS (pNFS) Operations", RFC 5664, January 2010.
---
>    [40]       Halevy, B., Welch, B., and J. Zelenka, "Object-Based
>               Parallel NFS (pNFS) Operations", RFC 5664, January 2010.
28272,28273c28374,28375
<    [41]  Black, D., Glasgow, J., and S. Fridella, "Parallel NFS (pNFS)
<          Block/Volume Layout", RFC 5663, January 2010.
---
>    [41]       Black, D., Glasgow, J., and S. Fridella, "Parallel NFS
>               (pNFS) Block/Volume Layout", RFC 5663, January 2010.
28275,28276c28377,28378
<    [42]  Callaghan, B., "WebNFS Client Specification", RFC 2054,
<          October 1996.
---
>    [42]       Callaghan, B., "WebNFS Client Specification", RFC 2054,
>               October 1996.
28278,28279c28380,28381
<    [43]  Callaghan, B., "WebNFS Server Specification", RFC 2055,
<          October 1996.
---
>    [43]       Callaghan, B., "WebNFS Server Specification", RFC 2055,
>               October 1996.
28281,28282c28383,28384
<    [44]  IESG, "IESG Processing of RFC Errata for the IETF Stream",
<          July 2008.
---
>    [44]       IESG, "IESG Processing of RFC Errata for the IETF Stream",
>               July 2008.
28284,28285c28386,28387
<    [45]  Shepler, S., "NFS Version 4 Design Considerations", RFC 2624,
<          June 1999.
---
>    [45]       Shepler, S., "NFS Version 4 Design Considerations",
>               RFC 2624, June 1999.
28287,28288c28389,28390
<    [46]  The Open Group, "Protocols for Interworking: XNFS, Version 3W,
<          ISBN 1-85912-184-5", February 1998.
---
>    [46]       The Open Group, "Protocols for Interworking: XNFS, Version
>               3W, ISBN 1-85912-184-5", February 1998.
28290,28292c28392,28394
<    [47]  Floyd, S. and V. Jacobson, "The Synchronization of Periodic
<          Routing Messages", IEEE/ACM Transactions on Networking 2(2),
<          pp. 122-136, April 1994.
---
>    [47]       Floyd, S. and V. Jacobson, "The Synchronization of
>               Periodic Routing Messages", IEEE/ACM Transactions on
>               Networking 2(2), pp. 122-136, April 1994.
28294,28296c28396,28398
<    [48]  Satran, J., Meth, K., Sapuntzakis, C., Chadalapaka, M., and E.
<          Zeidner, "Internet Small Computer Systems Interface (iSCSI)",
<          RFC 3720, April 2004.
---
>    [48]       Satran, J., Meth, K., Sapuntzakis, C., Chadalapaka, M.,
>               and E. Zeidner, "Internet Small Computer Systems Interface
>               (iSCSI)", RFC 3720, April 2004.
28298,28299c28400,28401
<    [49]  Snively, R., "Fibre Channel Protocol for SCSI, 2nd Version
<          (FCP-2)", ANSI/INCITS 350-2003, Oct 2003.
---
>    [49]       Snively, R., "Fibre Channel Protocol for SCSI, 2nd Version
>               (FCP-2)", ANSI/INCITS 350-2003, Oct 2003.
28301,28303c28403,28405
<    [50]  Weber, R., "Object-Based Storage Device Commands (OSD)", ANSI/
<          INCITS 400-2004, July 2004,
<          <http://www.t10.org/ftp/t10/drafts/osd/osd-r10.pdf>.
---
>    [50]       Weber, R., "Object-Based Storage Device Commands (OSD)",
>               ANSI/INCITS 400-2004, July 2004,
>               <http://www.t10.org/ftp/t10/drafts/osd/osd-r10.pdf>.
28305,28307c28407,28410
<    [51]  Carns, P., Ligon III, W., Ross, R., and R. Thakur, "PVFS: A
<          Parallel File System for Linux Clusters.", Proceedings of the
<          4th Annual Linux Showcase and Conference, 2000.
---
>    [51]       Carns, P., Ligon III, W., Ross, R., and R. Thakur, "PVFS:
>               A Parallel File System for Linux Clusters.",
>               Proceedings of the 4th Annual Linux Showcase and
>               Conference, 2000.
28309,28310c28412,28413
<    [52]  The Open Group, "The Open Group Base Specifications Issue 6,
<          IEEE Std 1003.1, 2004 Edition", 2004.
---
>    [52]       The Open Group, "The Open Group Base Specifications Issue
>               6, IEEE Std 1003.1, 2004 Edition", 2004.
28312c28415
<    [53]  Callaghan, B., "NFS URL Scheme", RFC 2224, October 1997.
---
>    [53]       Callaghan, B., "NFS URL Scheme", RFC 2224, October 1997.
28314,28315c28417,28418
<    [54]  Chiu, A., Eisler, M., and B. Callaghan, "Security Negotiation
<          for WebNFS", RFC 2755, January 2000.
---
>    [54]       Chiu, A., Eisler, M., and B. Callaghan, "Security
>               Negotiation for WebNFS", RFC 2755, January 2000.
28317,28318c28420,28422
<    [55]  Narten, T. and H. Alvestrand, "Guidelines for Writing an IANA
<          Considerations Section in RFCs", BCP 26, RFC 5226, May 2008.
---
>    [55]       Narten, T. and H. Alvestrand, "Guidelines for Writing an
>               IANA Considerations Section in RFCs", BCP 26, RFC 5226,
>               May 2008.
28346c28450
<    parallel I/O. Garth Gibson and Peter Corbett started the pNFS effort
---
>    parallel I/O.  Garth Gibson and Peter Corbett started the pNFS effort
28426c28530
<    Finkelstein, Jason Goldschmidt, Vijay K. Gurbani, Sergey Klyushin,
---
>    Finkelstein, Jason Goldschmidt, Vijay K.  Gurbani, Sergey Klyushin,
28440c28544
<    EMail: shepler@storspeed.com
---
>    Email: shepler@storspeed.com
28449c28553
<    EMail: mike@eisler.com
---
>    Email: mike@eisler.com
28459c28563
<    EMail: dnoveck@netapp.com
---
>    Email: dnoveck@netapp.com
