Metadata-Version: 1.0
Name: Producer_Consumer
Version: 19.8
Summary: producer and consumer models
Home-page: https://github.com/lijiacaigit/Producer_Comsumer
Author: Lijiacai
Author-email: 1050518702@qq.com
License: MIT License
Description: long_desciption
          from Producer_Consumer.QueueTool import QueueProducer
        
          from Producer_Consumer.QueueTool import QueueConsumer
        
          from Producer_Consumer.QueueTool import QueueConsumerProcess
        
          import multiprocessing
        
          import json
        
          
        
          
        
          def test_func(data):
        
              """test function"""
        
              return json.dumps({"result": data})
        
          
        
          
        
          def test():
        
              """test"""
        
              process_list = []
        
              producer = QueueProducer()
        
              lock = multiprocessing.Lock()
        
              for i in range(4):
        
                  p = QueueConsumerProcess(target=test_func, input_queue=producer.queue, filename="123.json",
        
                                           name="process%d" % i, lock=lock)
        
                  p.start()
        
                  process_list.append(p)
        
          
        
              for i in range(1000000):
        
                  producer.produce(str(i))
        
          
        
              print("produce done")
        
              for p in process_list:
        
                  p.stop()
        
                  p.join()
        
          
        
          
        
          if __name__ == '__main__':
        
              test()
        
        
Keywords: Queue,queue,Producer_Consumer,producer_consumer,producer,consumer,process
Platform: any
