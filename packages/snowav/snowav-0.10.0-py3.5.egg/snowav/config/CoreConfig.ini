[snowav]
save_path:      default = None,
                type = CriticalDirectory,
                description = Base path to save figures and pdf reports. A
                subdirectory made from directory field will also be added.

directory:      type = string,
                description = Single run figures directory that will be created
                underneath save_path.

units:          type = string,
                default = TAF,
                options = [TAF],
                description = Units for figures and report. Currently only
                supporting TAF.

filetype:       type = string,
                options = [netcdf],
                default = netcdf,
                description = File type for the inputs. Currently only
                supporting netcdf.

elev_bins:      type = int list,
                description = Elevation binning for results in the format
                min max step. The min and max fields are upper bounds for each
                step.

dempath:        type = CriticalFilename,
                description = Path to topo.nc file. This should be created from
                basin_setup package and include the dem and basin masks. The
                basin masks need to have a long_name attribute which will be how
                results get placed on the database.

masks:          type = string list,
                default = None,
                description = List of basin masks that exist in the topo.nc
                file specified in dempath option to use for processing. If
                none are listed all that exist will be used. The first one
                will be treated as a watershed and the basin total.

plotlabels:     type = string list,
                default = None,
                description = List of labels for basin masks that will be used
                for plots. The default is that the mask strings will be applied.
                These are assigned in the same order as masks.

run_name:       type = string,
                description = Identification of run that will be used to group
                and delete database records. This is meant for the user to
                match with individual model runs and should generally match
                what the user intends to process in run directory field.

log_level:      default = debug,
                options = [debug info error],
                description = Logging.

log_to_file:    default = True,
                type = bool,
                description = Logging.

print_db_connection: default = False,
                type = bool,
                description = Print basins dictionary and database connection
                string. Intended for debugging.

[database]
user:           type = string,
                default = None,
                description = Database username.

password:       type = string,
                default = None,
                description = Database password.

host:           type = string,
                default = None,
                description = Database host.

port:           type = string,
                default = None,
                description = Database port.

sqlite:         type = string,
                default = None,
                description = Path to sqlite database for results including .db
                extension. If this does not exist it will be created.

mysql:          type = string,
                default = None,
                description = Name of mysql database. Currently this is the
                docker snowav database on the snow server.

convert_ws:     type = bool,
                default = True,
                description = Convert watershed name definition from topo.nc
                files to existing wy2019 snowav database watershed
                definitions. This is applied when reading in topo.nc in
                masks() and connect().

add_basins:     type = bool,
                default = False,
                description = If True and basin names that have been loaded
                in via the topo.nc file do not already exist in the database
                they will be added as a new basin.

[run]
directory:      default = None,
                type = CriticalDirectory,
                description = Path to output directory. Expect to end in
                /<project>/wyYYYY/<project>/runs/ if using with all_subdirs as
                True. If using with all_subdirs as False list specific run
                directories ending with
                /<project>/wyYYYY/<project>/runs/runYYYYMMDD/. Can be used as a
                comma separated list of these directories with all_subdirs as
                False. See README.md for more information. If None and an awsm
                class is passed the directory will be assigned from awsm
                self.pathr.

all_subdirs:    default = True,
                type = bool,
                description = If True all subdirectories under directory will be
                loaded. Will also be subset with start_date and end_date
                if those are supplied. If False must also include the next
                awsm_daily directory in runYYYYMMDD and can be a comma
                separated list.

start_date:     default = None,
                type = datetime,
                description = Report period start date which is used to subset
                run_dirs. If none is supplied the default will be the first
                available date in directory.

end_date:       default = None,
                type = datetime,
                description = Report period end date which is used to subset
                run_dirs. If none is supplied the default will be the last
                available date in directory.

decimals:       default = 1,
                type = int,
                description = The number of decimals to round reported outputs.

[forecast]
start_date:     type = datetime,
                default = None,
                description = Forecast period start date which is used to subset
                run_dir. If none is supplied the default will be the first
                available date in run_dir.

end_date:       type = datetime,
                default = None,
                description = Forecast period end date which is used to subset
                run_dir. If none is supplied the default will be the last
                available date in run_dir.

run_dir:        type = CriticalDirectory,
                default = None,
                description = Path to forecast output directory created with
                awsm_daily configuration. This should end in runs/ similar to
                run directory field.

run_name:       type = string,
                default = None,
                description = Identification of run that will be used to group
                and delete database records. This is meant for the user to
                match with individual model runs and should generally match
                what the user intends to process in run_dir.

report:         type = bool,
                default = False,
                description = If True the forecast results will be included as
                a report pdf section.

[validate]
stations:       default = None,
                type = string list,
                description = Station IDs for tbl_level1 snow_water_equiv for
                comparison to nine model pixels. Must also include labels
                client user and password fields and have plots stn_validate
                set to True.

labels:         default = None,
                type = string list,
                description = Names for plot subtitles. Must also include
                stations client user and password fields and have plots
                stn_validate set to True.

pre_stations:   default = None,
                type = string list,
                description = Station IDs for tbl_level1 precip_accum for
                comparison to nine model pixels. Must also include pre_labels
                client user and password fields and have plots
                precip_validate set to True.

pre_labels:     default = None,
                type = string list,
                description = Names for plot subtitles.

client:         default = None,
                description = Weather database client for accessing stations.

user:           default = None,
                type = string,
                description = Weather database user name. Must be supplied to
                generate plots stn_validate.

password:       default = None,
                type = string,
                description = Weather database password. Must be supplied to
                generate plots stn_validate.

host:           default = 10.200.28.137,
                type = string,
                description = Weather database host. As of wy2019 the default
                will work on the snow server.

port:           default = 32768,
                type = int,
                description = Weather database port. As of wy2019 the default
                will work on the snow server.

[diagnostics]
diagnostics:    default = True,
                type = bool,
                description = Standard diagnostics figure which shows additional
                model inputs and outputs for internal performance
                characterization. Plots SWE precip density and snow line for
                the water year and for the report period.

basins:         type = string list,
                default = None,
                description = List of basins to use in diagnostics plot. If
                left blank the default is all basins. If basins are supplied
                they must match the masks field in the snowav section.

limit:          type = int,
                default = 1,
                description = Depth of SWE for snow line determination.

[plots]
print_args_dict:  type = bool,
                default = False,
                description = Print args dictionary that is passed to snowav
                figure calls. The args dictionary gets modified before each
                figure call and will print to the screen for each figure call.
                2D arrays in the args dict are not printed.

fig_length:     default = 10,
                type = int,
                description = Figure dimension.

fig_height:     default = 5,
                type = int,
                description = Figure dimension.

dpi:            default = 200,
                type = int,
                description = Figure DPI.

depth_clip:     default = 0.01,
                type = float,
                description = Lower limit depth that is clipped for the image
                colorbars on the left panel.

percent_min:    default = 0.5,
                type = float,
                description = Min percentile that is applied for image
                colorbars. Matplotlib treats these pixels as empty when they
                are clipped.


percent_max:    default = 99.5,
                type = float,
                description = Max percentile that is applied for image
                colorbars. Matplotlib treats these pixels as empty when they
                are clipped.

subs_fig:       default = None,
                type = CriticalFilename,
                description = Path to fig with subbasin labels. If supplied
                this will be added to report. In progress and does not work
                with all basins.

density:        default = False,
                type = bool,
                description = Boolean for making figure.

subbasins:      default = False,
                type = bool,
                description = Boolean for making figure. In progress and does
                not work with all basins.

swi:            default = True,
                type = bool,
                description = Boolean for making figure.

image_change:   default = True,
                type = bool,
                description = Boolean for making figure.

current_image:  default = False,
                type = bool,
                description = Boolean for making figure.

cold_content:   default = True,
                type = bool,
                description = Boolean for making figure.

swe_volume:     default = True,
                type = bool,
                description = Boolean for making figure.

swe_change:     default = True,
                type = bool,
                description = Boolean for making figure.

basin_total:    default = True,
                type = bool,
                description = Boolean for making figure.

pixel_swe:      default = False,
                type = bool,
                description = Boolean for making figure.

stn_validate:   default = False,
                type = bool,
                description = Boolean for making figure. Must also supply
                stations labels and client fields in validate section.

disp_nash_sut:  default = False,
                type = bool,
                description = Display Nash-Sutcliffe values in stn_validate.

stns_file:      default = None,
                type = CriticalFilename,
                description = File with coordinates to load. If present
                stn_validate will also output a csv with model pixel swe values
                at those locations. Currently in progress and not functional.

precip_depth:   default = True,
                type = bool,
                description = Boolean for making figure. This requires smrf
                outputs in awsm_daily location and if those are not found will
                be turned False. See README.md for more information.

precip_validate: default = False,
                type = bool,
                description = Boolean for making figure. Must also supply
                pre_stations pre_labels and client fields in validate section.
                This requires smrf outputs in awsm_daily location and if those
                are not found will be turned False. See README.md for more
                information.

compare_runs:   default = False,
                type = bool,
                description = Boolean for making figure. If True must also
                supply valid compare_run_names that currently exist on the
                database and compare_run_labels.

compare_run_names: default = None,
                type = string,
                description = Database run_name field to use in compare_runs
                figure. Must also have compare_runs set to True and supply
                compare_run_labels field.

compare_run_labels: default = None,
                type = string,
                description = Labels to accompany compare_run_names.Must also
                have compare_runs set to True and supply compare_run_names
                field.

basin_detail:   default = False,
                type = bool,
                description = Boolean for making hypsometry figure. Currently
                in progress and not working.

update_file:    default = None,
                type = CriticalFilename,
                description = Path to depth updates netcdf file. This is
                typically lidar_depths_wy2019.nc. To use all available flights
                do not include update_numbers. Dates of flights are also applied
                as vertical lines in basin_total plot.

update_numbers: default = None,
                type = int,
                description = List of flight updates to apply for difference
                figures. Numbers start at 1. If this is left empty all flights
                in update_file will be used. Dates of flights are also applied
                as vertical lines in basin_total plot.

write_properties: default = None,
                type = string,
                options = [swe_vol swe_avail swe_unavail swe_z swi_vol swi_z
                           precip_vol precip_z depth density rain_z evap_z
                           coldcont],
                description = Snowpack property to write to csv in figures
                directory. Writes water year daily totals by subbasin.

[report]
report:         default = True,
                type = bool,
                description = Flag for triggering reports.

print_latex:    default = False,
                type = bool,
                description = If True will print to the screen the full latex
                template with all text replacements made prior to
                rendering. Intending for debugging.

file:           default = SnowpackSummary.pdf,
                type = string,
                description = File name for report. Will have YYYYMMDD of
                end date appended.

title:          default = Snowpack Summary,
                type = string,
                description = Title of report.

save_path:      type = CriticalDirectory,
                default = None,
                description = Path to save a second copy of the report. If None
                the report will only be saved in the figures directory.

env_path:       default = None,
                type = CriticalDirectory,
                description = Path for latex environment. Defaults to path in
                snowav repo.

templ_path:     default = None,
                type = CriticalDirectory,
                description = Path for report template. Defaults to path in
                snowav repo. The tex_file supplied should exist in this
                directory.

summary:        default = None,
                type = CriticalFilename,
                description = Text file with report summary. If None there is a
                template applied.

tex_file:       default = snowav_report.tex,
                type = string,
                description = LaTeX template file. The base path for this file
                is templ_path.

figs_tpl_path:  default = None,
                type = CriticalDirectory,
                description = Path to figs templates for report. Defaults to
                the snowav repo.

swi:            default = True,
                type = bool,
                description = Include figure in report. If this figure is set to
                False in the plots section it will be reset to False here
                regardless of config entry.

image_change:   default = True,
                type = bool,
                description = Include figure in report. If this figure is set to
                False in the plots section it will be reset to False here
                regardless of config entry.

cold_content:   default = True,
                type = bool,
                description = Include figure in report. If this figure is set to
                False in the plots section it will be reset to False here
                regardless of config entry.

swe_volume:     default = True,
                type = bool,
                description = Include figure in report. If this figure is set to
                False in the plots section it will be reset to False here
                regardless of config entry.

basin_total:    default = True,
                type = bool,
                description = Include figure in report. If this figure is set to
                False in the plots section it will be reset to False here
                regardless of config entry.

stn_validate:   default = False,
                type = bool,
                description = Include figure in report. If this figure is set to
                False in the plots section it will be reset to False here
                regardless of config entry.

precip_depth:   default = True,
                type = bool,
                description = Include figure in report. If this figure is set to
                False in the plots section it will be reset to False here
                regardless of config entry.

compare_runs:   default = False,
                type = bool,
                description = Include figure in report. If this figure is set to
                False in the plots section it will be reset to False here
                regardless of config entry.

flight_figs:    default = True,
                type = bool,
                description = Include flight difference figures in report. When
                True this will include flt_image_change() figures that are
                triggered when plots update_file exists. If this is set to
                False those figures will not be included even if they are
                created.

tables:         type = string,
                options = [swe_depth swe_vol swe_change swe_percent swi_vol],
                default = [swe_depth swe_vol swi_vol],
                description = Tables to include in the report.

[query]
query:          default = False,
                type = bool,
                description = Boolean to do database query. If True no other
                snowav functions other than query will be run. Currently this
                requires a database connection made from [database] section.

basins:         default = None,
                type = string list,
                description = List of basins to query. The first entry should
                be the watershed total.

value:          default = swe_vol,
                type = string,
                options = [swe_vol swe_avail swe_unavail swe_z swi_vol swi_z
                           precip_vol precip_z depth density rain_z evap_z
                           coldcont],
                description = Database result value to query.

run_name:       default = None,
                type = string,
                description = Identifier for database processing run values to
                query.

print_all_runs: default = False,
                type = bool,
                description = If True will print all available run_name values
                on the database for the date range and basin.

start_date:     default = None,
                type = datetime,
                description = Beginning of the query date range.

end_date:       default = None,
                type = datetime,
                description = End of the query date range.

total:          default = False,
                type = bool,
                description = If True will only report basin total and not
                elevation bands.

output:         default = print,
                options = [print csv],
                type = string,
                description = If print will print results to terminal. If csv
                will save results to csv specified in csv_base_path.

csv_base_path:  default = None,
                type = CriticalDirectory,
                description = Base path to save csv output.

database:       default = None,
                type = string,
                description = Database connector string. Currently this is not
                being used. Requires database connection in database section.

[inflow]
inflow:         default = False,
                type = bool,
                description = Run inflow summary extraction and figure.
                Currently this is only configured to work with the Tuolumne and
                San Joaquin. Tuolumne requires the FORM11 excel spreadsheets
                that are being emailed to mark.robertson@ars.usda.gov from
                Hetch Hetchy daily. San Joaquin requires xlsb files from USBR
                converted to csv.

inflow_data:    default = None,
                type = CriticalDirectory,
                description = Path to folder with downloaded excel data from
                basin operators. If this is left as None no inflow data will
                be parsed. Leave as None for San Joaquin functionality.

summary_csv:    default = None,
                type = CriticalFilename,
                description = Path to summary csv of inflow data that has been
                extracted from inflow_data. If None a new summary csv will be
                created in the inflow_data directory.

inflow_headings: default = [HETCHY LLOYD ELEANOR],
                type = string list,
                description = Headings within excel files within inflow_data
                directory to use. Order must match what user intends to
                compare in basin_headings.

basin_headings: default = None,
                type = string list,
                description = Basin names. Order must match what user intends to
                compare in inflow_headings.

sheet_name:     default = Web,
                type = string,
                description = Sheet name from files in inflow_data.

skiprows:       default = 11,
                type = int,
                description = Number of rows to skip when calling pandas
                read_excel to extract the data.

date_idx:       default = 27,
                type = int,
                description = Index for date.

overwrite:      default = False,
                type = bool,
                description = Overwrite dates in summary_csv if same dates
                exist. If True the entire directory will be parsed and
                summary_csv will be written with everything that currently
                exists.

file_base:      default = FORM11,
                type = string,
                description = Simple string that exists in sheets in inflow_data
                files for parsing.

convert:        default = 0.00198,
                type = float,
                description = Conversion from cfs to desired units. The default
                converts average daily cfs to TAF.
