Metadata-Version: 1.1
Name: pyramid-heroku
Version: 0.6.0
Summary: A bunch of helpers for successfully running Pyramid on Heroku.
Home-page: https://github.com/niteoweb/pyramid_heroku
Author: Niteo
Author-email: info@niteo.co
License: BSD
Description: pyramid_heroku
        ==============
        
        Introduction
        ------------
        
        pyramid_heroku is a collection of tweens and helpers to successfully run `Pyramid <http://www.trypyramid.com/>`_ on `Heroku <https://heroku.com/>`_
        
        It provides the following:
        
        * ``ClientAddr`` tween that sets real user's IP to ``request.client_addr``
        * ``HerokuappAccess`` tween that denies access to your app's
          ``<app>.herokuapp.com`` domain for any non-whitelisted IPs.
        * ``migrate.py`` script for automatically running alembic migrations on
          deploy.
        
        
        Installation
        ------------
        
        Just do
        
        ``pip install pyramid_heroku``
        
        or
        
        ``easy_install pyramid_heroku``
        
        
        Compatibility
        -------------
        
        pyramid_heroku runs with pyramid>=1.7 and python>=3.6.
        Other versions might also work.
        
        
        Documentation
        -------------
        
        Usage example for tweens::
        
            def main(global_config, **settings):$ cat .heroku/release.sh
                config = Configurator(settings=settings)
                config.include('pyramid_heroku.client_addr')
                config.include('pyramid_heroku.herokuapp_access')
                return config.make_wsgi_app()
        
        The `pyramid_heroku.herokuapp_access` tween depends on
        `pyramid_heroku.client_addr` tween and it requires you to list whitelisted IPs
        in the `pyramid_heroku.herokuapp_whitelist` setting.
        
        Usage example for automatic alembic migration script::
        
            $ cat .heroku/release.sh
            #!/usr/bin/env bash
        
            set -e
        
            echo "Running migrations"
            python -m pyramid_heroku.migrate my_app etc/production.ini
        
            echo "DONE!"
        
        For migration script to work, you need to set the ``MIGRATE_API_SECRET_HEROKU``
        env var in Heroku. This allows the migration script to use the Heroku API.
        
        See tests for more examples.
        
        If you use structlog, add the following configuration setting to your INI file to enable structlog-like logging::
        
            pyramid_heroku.structlog = true
        
        
        Releasing
        ---------
        
        #. Update CHANGES.rst.
        #. Update setup.py version.
        #. Run ``pipenv run python setup.py check -rs``.
        #. Run ``pipenv run python setup.py sdist upload``.
        
        
        We're hiring!
        -------------
        
        At Niteo we regularly contribute back to the Open Source community. If you do too, we'd like to invite you to `join our team
        <https://niteo.co/careers/>`_!
        
        =======
        Changes
        =======
        
        0.6.0
        -----
        
        * Update how alembic should be called in migrate.py. This is to reflect the
          latest changes to pyramid_deferred_sqla:
          https://github.com/niteoweb/pyramid_deferred_sqla/commit/b963702cab3934116fb00b6ef186959bc1627026
          [zupo]
        
        
        0.5.0
        -----
        
         * Prefer empty string than None. `{'VAL': '${VAR}'}` will expand into
           `{'VAL': ''}` instead of `{'VAL': None}` if the value of `VAR` is not exported or
           is an empty string.
           [sayanarijit]
        
         * To enforce that `$VAR` must be set, `${VAR:?custom error message}` syntax can be used.
           [sayanarijit]
        
        0.4.0
        -----
        
         * Supports bash style environment variable expansion.
           e.g. to declare default value, use `${DATABASE_URL:-sqlite:///database.db}`
           [sayanarijit]
        
        
        0.3.2
        -----
        
         * Shell now prints stderr/stdout even on non-zero exit code.
           [iElectric]
        
        
        0.3.1
        -----
        
         * Fix auth bug in migrate.py.
           [zupo]
        
        
        0.3
        ---
        
         * Drop support for zc.buildout environments.
           [zupo]
        
        
        0.2
        ---
        
        * Expand all environment variables in the settings dictionary. This allows you
          to have, for example `${DATABASE_URL}` to get db connection string from
          environment into your `production.ini` file.
          [zupo]
        
        * Use pipenv for setting up development.
          [zupo]
        
        * Add basic type hinting.
          [zupo]
        
        * Drop support for Python versions older than 3.7.
          [zupo]
        
        
        0.1.5
        -----
        
        * Brown bag release.
          [karantan]
        
        
        0.1.4
        -----
        
        * Fix return value in migrate.shell. `subprocess.check_output` changed in
          python 3.6 and is now returning byte and not str.
          [karantan]
        
        0.1.3
        -----
        
        * Provided default values for migrate.py - https://github.com/niteoweb/pyramid_heroku/issues/2
          [enkidulan]
        
        0.1.2
        -----
        
        * The request.client_addr cannot be set directly, so we need to go around.
          [zupo]
        
        
        0.1.1
        -----
        
        * Fix tween paths.
          [zupo]
        
        
        
        0.1
        ---
        
        * Initial release.
          [dz0ny, zupo]
        
        
Keywords: pyramid heroku pylons web
Platform: UNKNOWN
Classifier: Operating System :: OS Independent
Classifier: License :: OSI Approved :: BSD License
Classifier: Programming Language :: Python
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Framework :: Pylons
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.7
Classifier: Topic :: Internet :: WWW/HTTP
Classifier: Topic :: Internet :: WWW/HTTP :: WSGI
Classifier: Topic :: Software Development :: Libraries :: Python Modules
