{% extends "bee_django_message/base.html" %}
{% load bee_django_message_filter %}
{% block styles %}
    <style>
        .bold {
            font-weight: 900;
            color: #CC3434;
        }
    </style>
{% endblock %}
{% block content %}
    <div class="text-center"><h3>{{ message.name }}列表</h3></div>
    {% include 'bee_django_message/record/_search.html' %}

    <table class="table">
        <tr>
            <th>发送人</th>
            <th>标题</th>
            <th>发送时间</th>
            <th></th>
        </tr>
        {% for record in record_list %}
            <tr>
                <td>{{ record.from_user|get_name_detail:True|safe }}</td>
                <td>{{ record.title }}</td>
                <td>{{ record.sent_at }}</td>
                <td>
                    <a href="{% url 'bee_django_message:record_detail' record.id %}">详情</a>
                    {% if record.message.need_done %}
                        {% if not record.is_done %}
                            <a href="{% url 'bee_django_message:record_update' record.id %}">去处理</a>
                        {% else %}
                            已处理
                        {% endif %}
                    {% endif %}
                </td>
            </tr>

        {% endfor %}
    </table>
    {% include 'bee_django_message/paginator.html' %}

{% endblock %}
