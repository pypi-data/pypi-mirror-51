CHANGES
=======

* Fix HA github issue title format error (#188)
* [Nodepool\_Sync] Sync\_201908090100\_modified\_by\_theopenlab-ci (#186)
* [Zuul\_Sync] Sync\_201908090000\_modified\_by\_theopenlab-ci (#185)
* [Nodepool\_Sync] Sync\_201908080100\_modified\_by\_theopenlab-ci (#184)
* [Zuul\_Sync] Sync\_201908080000\_modified\_by\_theopenlab-ci (#183)
* Add Router check into network plugin for labchecker (#179)
* Add retry limit for zookeeper connection (#182)
* Add the prefix match on orphanresource plugin (#181)
* Update ssl step (#172)
* [Nodepool\_Sync] Sync\_201907300100\_modified\_by\_theopenlab-ci (#177)
* Fix wrong property name (#175)
* [Nodepool\_Sync] Sync\_201907240352\_modified\_by\_theopenlab-ci (#174)
* Add orphan check for server, volume and fip (#171)
* [Zuul\_Sync] Sync\_201907090000\_modified\_by\_theopenlab-ci (#170)
* Change the URLs of liusheng's repo (#168)
* [Zuul\_Sync] Sync\_201907050000\_modified\_by\_theopenlab-ci (#169)
* [Zuul\_Sync] Sync\_201907030000\_modified\_by\_theopenlab-ci (#167)
* Update log sync time (#165)
* Change zuul status\_url to the build result url (#163)
* [Zuul\_Sync] Sync\_201906270000\_modified\_by\_theopenlab-ci (#162)
* [Zuul\_Sync] Sync\_201906250000\_modified\_by\_theopenlab-ci (#161)
* [Zuul\_Sync] Sync\_201906200000\_modified\_by\_theopenlab-ci (#160)
* Fix ha doc nit (#159)
* [Nodepool\_Sync] Sync\_201906190100\_modified\_by\_theopenlab-ci (#158)
* Add upgrade command (#157)
* Remove experiment flag in network and sg (#156)
* [HA] Add guide doc (#147)
* [Zuul\_Sync] Sync\_201906170000\_modified\_by\_theopenlab-ci (#155)
* Give zuul job more space (#153)
* [HA] Update crontab time (#152)
* [HA]Fix a bug that use\_test\_account doesn't work (#149)
* add HA sg repair (#141)
* [Nodepool\_Sync] Sync\_201906100100\_modified\_by\_theopenlab-ci (#146)
* Add configurable service restart count (#144)
* [HA]Hardcode log file location (#140)
* [HA] refactor github issue (#139)
* Refactor ha\_healthchecker code structure (#136)
* Fix nits in opelab cmd. (#137)
* Make ha\_healthcheck as a service (#134)
* Fix a nit of hint command (#135)
* Add "openlab hint" cmd (#133)
* HA imporvement. (#131)
* Correct project repo url (#132)
* Add --delete for log rsync (#130)
* Support change github webapp (#124)
* Force to enable systemd services after installation ha success (#125)
* Remove keep-jobdir (#129)
* Cron tasks of labsync/labcheck are not setup for HA (#120)
* Support zuul-web ssl (#118)
* [Nodepool\_Sync] Sync\_201905310100\_modified\_by\_theopenlab-ci (#127)
* Add allow\_switch option (#122)
* Delete useless file (#121)
* Depoly real env found issues fix (#112)
* Make sure the working branch can be deleted (#115)
* WIP: try to fix ci (#123)
* Change the default APP\_ID to theopenlab (#116)
* Fix the cron PATH in labcheck job (#114)
* [Nodepool\_Sync] Sync\_201905290100\_modified\_by\_theopenlab-ci (#113)
* Fix zookeeper configuration (#110)
* Correct the openstack git repo url in zuul.conf (#111)
* Add "theopenlab/ops" to labcheck cc list (#109)
* [WIP]Add zookeeper node ha check (#106)
* Add zookeeper\_timeout options (#108)
* Disable rsyncd during switch role (#103)
* Add "openlab repo list" cmd (#101)
* openlabcmd python3 only (#105)
* [Nodepool\_Sync] Sync\_201905270100\_modified\_by\_theopenlab-ci (#104)
* Add new\_zookeeper deployment type (#102)
* Rewrite switcher (#100)
* Rewrite need\_fix\_alarmed\_status func (#99)
* Fix some HA bug (#98)
* Improve log format and location (#97)
* Add logrotate for healthchecker (#96)
* Refresh openlabcmd conf (#95)
* Refresh dns public ip (#94)
* Change dns ori\_web\_ip and change\_web\_ip into zk (#93)
* Support configuration on zk (#92)
* Update deploy script (#87)
* Add HA config cli (#90)
* Fix gearman HA control (#91)
* Fix alarmed status for node and support change switch\_status operation. (#86)
* [Nodepool\_Sync] Sync\_201905210100\_modified\_by\_theopenlab-ci (#88)
* Add switch role cli (#89)
* Add long\_description\_content\_type (#83)
* Add lab check periodic job config (#82)
* Refactor healthchecker (#73)
* Add exit errno in openlab check cmd (#81)
* Add experimental flag for plugin (#80)
* Remove github password of theopenlab-ci user (#79)
* [Zuul\_Sync] Sync\_201905150000\_modified\_by\_theopenlab-ci (#77)
* [Nodepool\_Sync] Sync\_201905150100\_modified\_by\_theopenlab-ci (#78)
* Disable statsd servier by default (#76)
* Name Jinja2 template files with j2 postfix to keep consistent (#75)
* Update openlabcmd (#72)
* refactor rsyncd to systemd (#70)
* [Zuul\_Sync] Sync\_201905140000\_modified\_by\_theopenlab-ci (#74)
* Fix openlabcmd (#69)
* Fix healthchecker (#68)
* Refactor service cmd (#65)
* Split health checker from kp (#67)
* Use UTC timezone (#64)
* Refactor openlabcmd using object (#62)
* Remove +x privilege for clouds.yaml (#61)
* Update keepalived script and refactor related part in labkeeper (#40)
* Change git.openstack.org to opendev.org (#59)
* Fix some bugs for openlabcmd (#58)
* Using dynamic inventoy and refactor the deploy script (#43)
* Add ha initializtion step for HA mode (#55)
* Delete branch if config files not changed (#56)
* Correct node type for openlabcmd README.md (#57)
* [Zuul\_Sync] Sync\_201904240000\_modified\_by\_theopenlab-ci (#54)
* Use forked repo as labsync working repo (#52)
* Fix service related bug (#53)
* openlabcmd py3 support (#49)
* Correct the openlab-ha inventory file (#51)
* [Nodepool\_Sync] Sync\_201904230100\_modified\_by\_theopenlab-ci (#50)
* Add update\_service func (#36)
* [Nodepool\_Sync] Sync\_201904190100\_modified\_by\_theopenlab-ci (#42)
* [Nodepool\_Sync] Sync\_201904160100\_modified\_by\_theopenlab-ci (#38)
* [Zuul\_Sync] Sync\_201904160000\_modified\_by\_theopenlab-ci (#37)
* Change cron time of labsync (#35)
* Add openlab ha command (#24)
* [Nodepool\_Sync] Sync\_201904150100\_modified\_by\_theopenlab-ci (#34)
* Correct the time of labsync cron tasks (#31)
* Support zuul nodepool disable systemd unit (#23)
* Use rsync to sync log and config files than unison (#20)
* Add cron task to sync configuration files (#3)
* Make -c work (#22)
* Correct comment of openlab-new-slave.yaml (#21)
* [Zuul\_Sync] Sync\_201904090900\_modified\_by\_theopenlab-ci (#18)
* Refactor labchecker to openlabclient (#17)
* Add oauth\_token for theopenlab-ci (#15)
* Support config the host keys for zuul log server known\_hosts option (#11)
* Support create the slave part of an openlab env HA deployment from master (#9)
* Add keepalived scripts (#6)
* Refactor ReadMe using markdown
* Correct the shell statement to get interface name
* Add some comments for unison configure file
* update keepalived installation
* fix keepalived
* Fix url link (#5)
* update
* update keepalive playbook
* update keepalived
* support keepalive
* update
* update
* complete ha deployment
* update
* Add support for start slave services
* update
* update
* fix
* do not start services on slave
* update zuul.conf.j2
* try to fix scheduler replica deploy
* modify test inventory
* modify openlab ha inventory
* fix nodepool builder
* update config configuration
* Fix help usage and add recover hint
* support nodepool builder replica
* log server replica
* update log server replica
* rename log server ip variable
* support log server replica
* Add --recover mode
* mysql replica done
* config mysql replica
* debug mysql replica
* fix replica mysql
* fix mysql replica
* fix mysql replica
* update mysql replica
* try mysql replica
* fix mysql configuration
* upgrade mariadb
* upgrade mariadb
* fix mysql
* update again
* update mysql config
* Fix indention and global var
* update mysql clause
* debug mysql configuration
* fix ansible mysql\_user
* update mysql replication
* fix inventory file
* modify inventory file
* Labchecker 1.0
* testing mysql ha deployment
* update zuul\_public\_ip configuration
* remove unused file
* HA deployment improve
* correct allinone ha inventory
* reorganize allinone ha inventory
* try zookeeper myid
* modify zookeeper cofig to support cluster deployment
* fix nodepool-builder dib elements setup
* update ha deployment script
* Fix the ansible remote user environment variable
* support ha deployment
* Set max-concurrency of nodepool cloud provider
* support HA deployment
* Reorganize the tests and improve the zuul installation (#11)
* Update zuul.conf to add concurrent job number
* Add labchecker
* enlarge the disk\_limit per job option
* make test job happy
* make test job fly
* Update zuul.conf template
* do not use ipwrap
* Sync main.yaml of zuul
* update labkeeper
* update
* test labkeeper
* Disable config driver for ARM node
* fix
* Min disk is 40G in Huaweicloud
* Add ARM nodepool config
* try to enable labkeeper testing
* Fix minors
* update labkeeper
* update labkeeper
* become for zuul installation
* update labkeeper
* update labkeeper
* Enable fusioncloud&terraform job
* correct apache host
* update labkeeper
* put all the clouds secrets in a vars file
* update labkeeper
* update
* update
* update
* fix permission error
* update
* update labkeeper
* update labkeeper
* 
* Update config templates for zuul and nodepool
* update labkeeper
* update
* fix
* update labkeeper
* update labkeeper
* modify src code dest
* fix mysql configuration
* update labkeeper
* make setup.sh executable
* fix
* update labkeeper setup.sh
* add user settings
* Update pip install ansible
* Update typo exit
* add setup.sh easy to use
* update labkeeper configurations
* upgrade
* Backup main.yaml and nodepool.yaml files of OpenLab
* update job\_dir
* Add support for upgrading zuul
* keep jobdir
* update
* update
* update
* fix
* update
* add become yes
* update
* add nodepool providers secg check
* rename project
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* add theopenlab app key
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* add openlab-zuul-jobs keys
* update
* update
* update
* update
* update
* update
* update
* update doc
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* use yaml format hosts files
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* change hosts
* update
* update
* update
* update
* update
* update
* update
* add liu-openlab-ci pem file
* update
* update zuul config
* update
* update
* update
* add workaroud for six package version problem
* update clouds.yaml
* add directories for elements
* update
* modify nodepool playbook
* fix nodepoo play
* add clouds.yaml
* add vault\_password\_file config && .gitignore
* rm clouds.yaml
* copy mysql\_secure\_installation.sql to remote
* encrypt clouds.yaml
* copy elements from remote src to remote dest
* use elements from project-config
* update nodepool.yaml
* install bindep packages for all nodes
* add become yes for nodepool-builder
* add zuul\_user\_home
* add become yes for bastion playbook
* install setuptools
* install setuptools
* remove chdir from pip install
* update
* fix typo
* run prerequisites.yaml first
* Add ansible.cfg
* modify nodepool playbook
* modify config mysql
* update bastion steps
* Install apt pkgs at once
* Move source.list to place
* update
* update
* update
* update
* a
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* update
* test for openlab deployment
* Fix tox -ebindep when no packages to install
* enable gear logging configuration
* Add statsd requirement for gear
* Work around zuul-jobs bug
* Add example zuul connection and main.yaml file
* Simplify bindep envlist for tox
* Use separate venv for bindep
* Start gating on ubuntu-bionic
* Refactor jobs to support pip / git installation testing
* Bump minimal version of ansible to 2.4.0
* Collect tox logs
* Fix up PATH issues with nodepool-builder / zuul-executor
* Additional settings for zuul.conf
* Remove bastion inventory group
* Create users first before starting with nodepool / zuul tasks
* Update tests/collect-logs.yaml for new scheduler order
* Move zuul-scheduler before other services
* Add support for zuul\_file\_main\_yaml
* Remove /etc/zuul/config from collect-logs
* Stop using pre-compiled wheels
* Add openstack/windmill as require-project
* Whitelist profile\_tasks, timer for ansible
* Add TERM to passenv for tox.ini
* Update gitignore
* Hardcode windmill source directory for job playbooks
* Add support for ARA
* Don't bootstrap bastion host
* Use synchronize for nodepool elements
* Use groups of group over vars\_files
* Move group\_vars next to our inventory file
* Replace native zuul jobs with tox based jobs
* Add windmill-tox-ubuntu-xenial
* Add zuul-worker element for nodepool
* Rework zuul SSH keys for gerrit
* Add elements for nodepool-builder
* Fix idempotent issue while testing nodepool
* Set DIB\_IMAGE\_CACHE in nodepool.yaml
* Remove reduncant task
* Clean up windmill-config a bit
* Refactor to use include\_role
* Moving conifguration into windmill-config
* Clean up skip\_ansible\_list tags
* Remove logrotate test
* Use single venv for zuul services
* Use single venv for nodepool services
* Add bubblewrap for zuul-executor
* Remove the need for PREFIX in unit files
* Add STATSD support to gear service
* Add statsd01 host
* Remove tar format from nodepool-builder
* Remove unused publish-images.yaml
* Add SSL support to gearman
* Add tox deploy job to validate bootstrap process
* Stop managing apt sources on ubuntu
* Use recursive: false for log collection
* Use ansible-galaxy to install roles
* Move inventory to top-level
* Remove quickstart docs
* Use string for zookeeper-servers in nodepool
* Clean up zookeeper handing for zuul / nodepool
* Remove human\_log plugin
* Revert "Remove zuul from required-projects"
* Validate logrotate for services
* Actually use logroate for zuul services
* Set defaults if zuul\_user\_name / zuul\_user\_home are missing
* Only use zuul-test for the gate
* Add logrotate to zuul services
* Update inventory file for missing hosts
* Remove zuul from required-projects
* Add support for zuul-fingergw
* Collect journald logs
* Synchronize src repos to workspace directory
* Add support for zuul-web
* Add testing for ubuntu-bionic
* Collect build logs from nodepool-builders
* Switch to openstack.gearman
* Update to fedora-27 for testing
* Add required-projects to windmill jobs
* Enable use-cached-repos role for base jobs
* Enable configure-unbound role
* Change folder which we upload logs into
* Add support for ansible-role-gearman
* Stop testing fedora-26
* Also collect /etc/zuul/config logs
* Add windmill-jobs templates into shared queue for gate
* post-run: playbooks/prove.yaml only on successful runs
* Add support for fedora-27
* Move project stanza intree
* Collect logs after testing
* Remove windmill-buildimages
* Create native zuulv3 job
* Pin tox role to always use windmill src
* Remove legacy windmill-deploy playbooks
* Switch zuul\_user\_home back to /var/lib/zuul
* Enable zuul-executor
* Rename layout\_config to tenant\_config
* Switch to using zuul-test user / group
* Add python3 headers to bindep.txt
* Zuul: add file extension to playbook path
* Refactor legacy zuulv3 jobs
* Move zuulv3 project-templates in tree
* Import zuulv3 configuration
* Cap ansible<2.4.0
* Add human\_log callback pluging for logging
* Install zuul into python3 virtualenv
* Switch nodepool / shade / diskimage-builder to python3
* Enable console-log for nodepool.yaml
* Include ansible-role-logrotate
* Switch to just openstackzuul
* Try to launch on the cloud
* Use /var/log/nodepool/images for nodepool-builder
* Gate on nodepool again
* Disable nodepool to unwedge the gate
* Use /opt/nodepool/tmp for nodepool-builder
* Use specific nodepool manage settings for each service
* Switch to include\_role for zuul playbooks
* Switch to systemd service config files for zuul
* Only build ubuntu-xenial images
* Disable zuul to unwedge the gate
* Update nodepool to feature/zuulv3 branch
* Disable nodepool while we migrate to zuulv3 branch
* Pause image uploads, since we don't have a cloud (yet)
* Skip ubuntu-minimal DIB prove on Fedora
* Include some example env-vars for nodepool.yaml
* Remove ansible-role-jenkins-job-builder
* Migrate to zuul-executor
* Disable zuul while we migrate to zuul-executor
* Re-enable zuul (feature/zuulv3) support
* Revert "Zuul clone openstack-infra dependencies"
* Disable zuul for now
* Zuul clone openstack-infra dependencies
* Run dist-upgrade for debian
* Bootstrap sudoers on all nodes
* Make nodepool.yaml more robust
* Fix clouds.yaml in all playbooks
* Fix buildimages entry point
* Make clouds.yaml owned by nodepool only
* Switch zuul-cloner to use openstack prefix for roles
* Use templates for nodepool service config
* Move nodepool service templates into own directory
* Remove symlink for sysconfig
* Clean up nodepool service variables
* Create nodepool-deleter playbook
* Remove unused variable
* Add nodepool-launcher playbook
* Move nodepool service configuration into group\_vars
* Add dynamic logging for diskimages
* Add missing LICENSE file
* Use template in ansible-role-zuul
* Prepare for ansible-role-changes
* Start templating nodepool.yaml
* Remove symlink for nodepool.yaml
* Remove unused settings from nodepool.yaml
* Add entry point to tox to publish images
* Add tox-ebuild-images
* Move clouds.yaml to /etc/openstack
* Switch to include\_roles for validation roles
* Also build tarballs of diskimages
* Support nodepool-builder zookeeper
* Add dib-image-build validation
* Initial support for Fedora 24
* Initial support for bindep
* Add ansible.cfg file
* Remove diskimage-builder from nodepool-server
* Add wrapper script for disk-image-create
* Initial commit of zookeeper
* Make sure dbus is installed
* Revert "Pin ansible <2.2"
* Pin ansible <2.2
* Add a shim symlink for nodepool templates
* Templating zuul.conf
* Add ansible-role-virtualenv
* Fix nodepool-builder logging
* Add bastion host support
* Add testenv:bindep for tox.ini
* Ensure nodepool-(builder|launcher) are running
* Add support for nodepool-launcher
* Add support for nodepool-builder
* Add cloud config for devstack
* Use become: yes for service checks
* Update nodepool service configuration
* Create shared configuration for nodepool
* Add python development package to bindep
* Drop clouds.yaml template
* We no longer template nodepool.yaml
* Install jenkins-job-builder with virtualenv
* Install shade into virtualenv
* Use virtualenv for nodepool services
* Add basic validation for zuul services
* Have zuul services use virtualenv
* Use /opt/venv for virtualenv base
* Install zuul into virtualenv
* Move other-requirements.txt to bindep.txt
* Add missing packages required to install zuul
* Fix path issue to zuul.conf
* Override zuul.conf settings
* New ansible\_host schema
* Remove zuul\_config\_\* crud
* Cap paramiko<2.0.0
* Only use requirements.txt for [testenv:deploy]
* Initial support for zuul-launcher
* Remove jenkins support
* Add missing bindep dependencies for ansible
* Revert "Install debootstrap from epel-testing"
* Move zuul configuration to top of file for readability
* Update RST to use code-block
* Add support for bindep
* Make sure debootstrap from epel-testing is the latest
* Add quickstart guide to README
* Add groovy scripts to bootstrap jenkins
* Install debootstrap from epel-testing
* Add support for ubuntu-xenial DIB
* Be explicit with ubuntu-trusty release
* Add simple-init and growroot elements
* Add centos-7 DIB to nodepool
* Fix typo with jenkins URL
* Move nodepool elements directory
* Fix typo in nodepool element
* Start building DIBs with nodepool
* Add nodepool configuration
* Bind to correct IP address for zuul-(merger|server)
* Switch from localhost
* Add other-requirements.txt for bindep
* Revert "Pin ansible <2.0.1"
* Move jenkins to http://hostname/jenkins/
* Pin ansible <2.0.1
* Import ansible-role-ssh
* Import ansible-role-nginx
* Import ansible-role-shade
* Rework directory strucuture
* More clonemap.yaml into bash script
* Setup dynamic ansible\_user
* Enable ansible-role-jenkins-plugins
* Add ansible-role-jenkins support
* Update to tox -elinters
* Add jenkins node
* Install windmill.diskimage-builder on nodepool nodes
* Add nodepool server and builder services
* Add bootstrap stage
* Break out zuul server and merger
* Add zuul node
* Have zuul-cloner install ansible-roles
* Update description
* Add tox -eansible-lint
* Initial commit
* Added .gitreview
