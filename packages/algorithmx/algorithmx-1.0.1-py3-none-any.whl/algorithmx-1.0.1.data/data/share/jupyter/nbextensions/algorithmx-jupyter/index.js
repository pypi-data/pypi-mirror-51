define(["@jupyter-widgets/base","algorithmx"],function(e,t){return function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(2);t.version=s.version,t.name=s.name},function(e,t,n){"use strict";function s(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),s(n(0)),s(n(3))},function(e){e.exports={name:"algorithmx-jupyter",version:"2.0.0",main:"dist/index.js",types:"./dist/types/index.d.ts",files:["dist/","dist-lab/"],unpkg:"dist/index.js",homepage:"https://github.com/algrx/algorithmx-python",license:"MIT",author:{name:"Alex Socha"},description:"AlgorithmX Jupyter widget.",keywords:["jupyter","jupyterlab","jupyterlab-extension","widgets","algorithmx"],repository:{type:"git",url:"https://github.com/algrx/algorithmx-python"},scripts:{build:"npm run clean && npm run build:nbextension && npm run build:labextension","build:nbextension":"webpack -p","build:labextension":"cd ../algorithmx && mkdirp labextension && cd labextension && npm pack ../../js",clean:"npm run clean:nbextension && npm run clean:labextension","clean:nbextension":"rimraf ../algorithmx/nbextension/static && rimraf dist/","clean:labextension":"rimraf ../algorithmx/labextension && rimraf dist-lab/",watch:"webpack --watch",prepublishOnly:"npm run build"},dependencies:{"@jupyter-widgets/base":"^1.1.10",algorithmx:"^1.0.0-beta.1"},devDependencies:{"@phosphor/application":"^1.6.0","@phosphor/widgets":"^1.6.0","@types/node":"^10.11.6","@types/webpack-env":"^1.13.6","fs-extra":"^7.0.0",mkdirp:"^0.5.1","npm-run-all":"^4.1.3",rimraf:"^2.6.2","source-map-loader":"^0.2.4","ts-loader":"^5.2.1",typescript:"~3.1.2",webpack:"^4.20.2",terser:"3.14.1","webpack-cli":"^3.1.2"},jupyterlab:{extension:"dist-lab/labplugin"}}},function(e,t,n){"use strict";var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),r=n(0),o=s(n(5)),l=s(n(6));class a extends i.DOMWidgetModel{defaults(){return Object.assign({},super.defaults(),{_model_name:"AlgorithmxModel",_model_module:r.name,_model_module_version:r.version,_view_name:"AlgorithmxView",_view_module:r.name,_view_module_version:r.version,events:[],show_buttons:!1})}}a.serializers=Object.assign({},i.DOMWidgetModel.serializers),t.AlgorithmxModel=a;t.AlgorithmxView=class extends i.DOMWidgetView{constructor(){super(...arguments),this.client=null,this.canvas=null,this.eventIndex=0,this.stopped=!1}playEvents(e){null!==this.client&&e.forEach(e=>{const t=JSON.parse(e);this.client.dispatch(t)})}playAllEvents(){const e=this.model.get("events");this.playEvents(e)}eventsChanged(){if(null===this.client)return;const e=this.model.get("events"),t=e.slice(this.eventIndex);this.eventIndex=e.length,this.playEvents(t)}resetCanvas(){if(null===this.canvas)return;const e=this.canvas.eventQ(null).duration(0);e.cancelall().startall(),e.remove(),e.add().size([400,250]).zoomkey(!0),setTimeout(()=>{e.svgattr("width","100%")},1)}removeCanvas(){this.resetCanvas();const e=this.el,t=e.querySelector("algorithmx-container");null!==t&&e.removeChild(t);const n=e.querySelector("algorithmx-buttons");null!==n&&e.removeChild(n)}remove(){this.removeCanvas(),super.remove()}clickRestart(){null!==this.canvas&&(this.resetCanvas(),this.playAllEvents(),this.stopped=!1)}clickStart(){null!==this.canvas&&(this.canvas.eventQ(null).startall(),this.stopped=!1)}clickStop(){null!==this.canvas&&(this.canvas.eventQ(null).stopall(),this.stopped=!0)}renderButtons(){const e=this.el,t=document.createElement("div"),n=o.createButton("pause",()=>{this.stopped?(o.setIcon(n,"pause"),this.clickStart()):(o.setIcon(n,"play"),this.clickStop())}),s=o.createButton("repeat",()=>{o.setIcon(n,"pause"),this.clickRestart()});t.appendChild(n),t.appendChild(s),e.appendChild(t)}render(){this.removeCanvas();const e=document.createElement("div");e.setAttribute("id","algorithmx-container"),this.client=l.client(e),this.client.subscribe(e=>{const t={source:"algorithmx",data:e},n=JSON.stringify(t);this.send(n)}),this.canvas=this.client.canvas(),this.resetCanvas(),this.el.appendChild(e),this.model.get("show_buttons")&&this.renderButtons(),this.model.on("change:events",this.eventsChanged,this),this.eventsChanged()}}},function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createButton=((e,n)=>{const s=document.createElement("div");t.createButton,s.onclick=n,s.style.width="28px",s.style.height="28px",s.style.backgroundColor="rgb(238, 238, 238)",s.style.display="inline-block",s.style.textAlign="center",s.style.marginRight="6px",s.style.cssFloat="left",s.onmouseover=(()=>{s.style.backgroundColor="rgb(220, 220, 220)",s.style.cursor="pointer"}),s.onmousedown=(()=>{s.style.backgroundColor="rgb(200, 200, 200)"}),s.onmouseup=(()=>{s.style.backgroundColor="rgb(220, 220, 220)"}),s.onmouseleave=(()=>{s.style.backgroundColor="rgb(238, 238, 238)",s.style.cursor=null});const i=document.createElement("i");return i.setAttribute("class",`fa-${e} fa`),i.style.fontSize="12px",i.style.color="rgb(50, 50, 50)",i.style.lineHeight="28px",s.appendChild(i),s}),t.setIcon=((e,t)=>{const n=e.querySelector("i");null!==n&&n.setAttribute("class",`fa-${t} fa`)})},function(e,n){e.exports=t}])});
//# sourceMappingURL=index.js.map