{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[28,5],{1053:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return r}),n.d(e,\"b\",function(){return a});n(45);var r={longitude:6.85236157047845,latitude:31.222656842808707,zoom:1,bearing:0,pitch:0},o=1609.34;function a(t,e){return\"square_m\"===t?Math.sqrt(e/Math.PI):\"radius_m\"===t?e:\"radius_km\"===t?1e3*e:\"radius_miles\"===t?e*o:\"square_km\"===t?1e3*Math.sqrt(e/Math.PI):\"square_miles\"===t?Math.sqrt(e/Math.PI)*o:null}},1100:function(t,e,n){var r;!function(o,a,i){if(o){for(var u,s={8:\"backspace\",9:\"tab\",13:\"enter\",16:\"shift\",17:\"ctrl\",18:\"alt\",20:\"capslock\",27:\"esc\",32:\"space\",33:\"pageup\",34:\"pagedown\",35:\"end\",36:\"home\",37:\"left\",38:\"up\",39:\"right\",40:\"down\",45:\"ins\",46:\"del\",91:\"meta\",93:\"meta\",224:\"meta\"},c={106:\"*\",107:\"+\",109:\"-\",110:\".\",111:\"/\",186:\";\",187:\"=\",188:\",\",189:\"-\",190:\".\",191:\"/\",192:\"`\",219:\"[\",220:\"\\\\\",221:\"]\",222:\"'\"},l={\"~\":\"`\",\"!\":\"1\",\"@\":\"2\",\"#\":\"3\",$:\"4\",\"%\":\"5\",\"^\":\"6\",\"&\":\"7\",\"*\":\"8\",\"(\":\"9\",\")\":\"0\",_:\"-\",\"+\":\"=\",\":\":\";\",'\"':\"'\",\"<\":\",\",\">\":\".\",\"?\":\"/\",\"|\":\"\\\\\"},f={option:\"alt\",command:\"meta\",return:\"enter\",escape:\"esc\",plus:\"+\",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?\"meta\":\"ctrl\"},p=1;p<20;++p)s[111+p]=\"f\"+p;for(p=0;p<=9;++p)s[p+96]=p.toString();v.prototype.bind=function(t,e,n){return t=t instanceof Array?t:[t],this._bindMultiple.call(this,t,e,n),this},v.prototype.unbind=function(t,e){return this.bind.call(this,t,function(){},e)},v.prototype.trigger=function(t,e){return this._directMap[t+\":\"+e]&&this._directMap[t+\":\"+e]({},t),this},v.prototype.reset=function(){return this._callbacks={},this._directMap={},this},v.prototype.stopCallback=function(t,e){return!((\" \"+e.className+\" \").indexOf(\" mousetrap \")>-1)&&(!function t(e,n){return null!==e&&e!==a&&(e===n||t(e.parentNode,n))}(e,this.target)&&(\"INPUT\"==e.tagName||\"SELECT\"==e.tagName||\"TEXTAREA\"==e.tagName||e.isContentEditable))},v.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},v.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(s[e]=t[e]);u=null},v.init=function(){var t=v(a);for(var e in t)\"_\"!==e.charAt(0)&&(v[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},v.init(),o.Mousetrap=v,t.exports&&(t.exports=v),void 0===(r=function(){return v}.call(e,n,e,t))||(t.exports=r)}function y(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent(\"on\"+e,n)}function b(t){if(\"keypress\"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return s[t.which]?s[t.which]:c[t.which]?c[t.which]:String.fromCharCode(t.which).toLowerCase()}function d(t){return\"shift\"==t||\"ctrl\"==t||\"alt\"==t||\"meta\"==t}function h(t,e,n){return n||(n=function(){if(!u)for(var t in u={},s)t>95&&t<112||s.hasOwnProperty(t)&&(u[s[t]]=t);return u}()[t]?\"keydown\":\"keypress\"),\"keypress\"==n&&e.length&&(n=\"keydown\"),n}function m(t,e){var n,r,o,a=[];for(n=function(t){return\"+\"===t?[\"+\"]:(t=t.replace(/\\+{2}/g,\"+plus\")).split(\"+\")}(t),o=0;o<n.length;++o)r=n[o],f[r]&&(r=f[r]),e&&\"keypress\"!=e&&l[r]&&(r=l[r],a.push(\"shift\")),d(r)&&a.push(r);return{key:r,modifiers:a,action:e=h(r,a,e)}}function v(t){var e=this;if(t=t||a,!(e instanceof v))return new v(t);e.target=t,e._callbacks={},e._directMap={};var n,r={},o=!1,i=!1,u=!1;function s(t){t=t||{};var e,n=!1;for(e in r)t[e]?n=!0:r[e]=0;n||(u=!1)}function c(t,n,o,a,i,u){var s,c,l,f,p=[],y=o.type;if(!e._callbacks[t])return[];for(\"keyup\"==y&&d(t)&&(n=[t]),s=0;s<e._callbacks[t].length;++s)if(c=e._callbacks[t][s],(a||!c.seq||r[c.seq]==c.level)&&y==c.action&&(\"keypress\"==y&&!o.metaKey&&!o.ctrlKey||(l=n,f=c.modifiers,l.sort().join(\",\")===f.sort().join(\",\")))){var b=!a&&c.combo==i,h=a&&c.seq==a&&c.level==u;(b||h)&&e._callbacks[t].splice(s,1),p.push(c)}return p}function l(t,n,r,o){e.stopCallback(n,n.target||n.srcElement,r,o)||!1===t(n,r)&&(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}(n),function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}(n))}function f(t){\"number\"!=typeof t.which&&(t.which=t.keyCode);var n=b(t);n&&(\"keyup\"!=t.type||o!==n?e.handleKey(n,function(t){var e=[];return t.shiftKey&&e.push(\"shift\"),t.altKey&&e.push(\"alt\"),t.ctrlKey&&e.push(\"ctrl\"),t.metaKey&&e.push(\"meta\"),e}(t),t):o=!1)}function p(t,e,a,i){function c(e){return function(){u=e,++r[t],clearTimeout(n),n=setTimeout(s,1e3)}}function f(e){l(a,e,t),\"keyup\"!==i&&(o=b(e)),setTimeout(s,10)}r[t]=0;for(var p=0;p<e.length;++p){var y=p+1===e.length?f:c(i||m(e[p+1]).action);h(e[p],y,i,t,p)}}function h(t,n,r,o,a){e._directMap[t+\":\"+r]=n;var i,u=(t=t.replace(/\\s+/g,\" \")).split(\" \");u.length>1?p(t,u,n,r):(i=m(t,r),e._callbacks[i.key]=e._callbacks[i.key]||[],c(i.key,i.modifiers,{type:i.action},o,t,a),e._callbacks[i.key][o?\"unshift\":\"push\"]({callback:n,modifiers:i.modifiers,action:i.action,seq:o,level:a,combo:t}))}e._handleKey=function(t,e,n){var r,o=c(t,e,n),a={},f=0,p=!1;for(r=0;r<o.length;++r)o[r].seq&&(f=Math.max(f,o[r].level));for(r=0;r<o.length;++r)if(o[r].seq){if(o[r].level!=f)continue;p=!0,a[o[r].seq]=1,l(o[r].callback,n,o[r].combo,o[r].seq)}else p||l(o[r].callback,n,o[r].combo);var y=\"keypress\"==n.type&&i;n.type!=u||d(t)||y||s(a),i=p&&\"keydown\"==n.type},e._bindMultiple=function(t,e,n){for(var r=0;r<t.length;++r)h(t[r],e,n)},y(t,\"keypress\",f),y(t,\"keydown\",f),y(t,\"keyup\",f)}}(\"undefined\"!=typeof window?window:null,\"undefined\"!=typeof window?document:null)},1101:function(t,e,n){var r={\"./af\":804,\"./af.js\":804,\"./ar\":805,\"./ar-dz\":806,\"./ar-dz.js\":806,\"./ar-kw\":807,\"./ar-kw.js\":807,\"./ar-ly\":808,\"./ar-ly.js\":808,\"./ar-ma\":809,\"./ar-ma.js\":809,\"./ar-sa\":810,\"./ar-sa.js\":810,\"./ar-tn\":811,\"./ar-tn.js\":811,\"./ar.js\":805,\"./az\":812,\"./az.js\":812,\"./be\":813,\"./be.js\":813,\"./bg\":814,\"./bg.js\":814,\"./bm\":815,\"./bm.js\":815,\"./bn\":816,\"./bn.js\":816,\"./bo\":817,\"./bo.js\":817,\"./br\":818,\"./br.js\":818,\"./bs\":819,\"./bs.js\":819,\"./ca\":820,\"./ca.js\":820,\"./cs\":821,\"./cs.js\":821,\"./cv\":822,\"./cv.js\":822,\"./cy\":823,\"./cy.js\":823,\"./da\":824,\"./da.js\":824,\"./de\":825,\"./de-at\":826,\"./de-at.js\":826,\"./de-ch\":827,\"./de-ch.js\":827,\"./de.js\":825,\"./dv\":828,\"./dv.js\":828,\"./el\":829,\"./el.js\":829,\"./en-au\":830,\"./en-au.js\":830,\"./en-ca\":831,\"./en-ca.js\":831,\"./en-gb\":832,\"./en-gb.js\":832,\"./en-ie\":833,\"./en-ie.js\":833,\"./en-il\":834,\"./en-il.js\":834,\"./en-nz\":835,\"./en-nz.js\":835,\"./eo\":836,\"./eo.js\":836,\"./es\":837,\"./es-do\":838,\"./es-do.js\":838,\"./es-us\":839,\"./es-us.js\":839,\"./es.js\":837,\"./et\":840,\"./et.js\":840,\"./eu\":841,\"./eu.js\":841,\"./fa\":842,\"./fa.js\":842,\"./fi\":843,\"./fi.js\":843,\"./fo\":844,\"./fo.js\":844,\"./fr\":845,\"./fr-ca\":846,\"./fr-ca.js\":846,\"./fr-ch\":847,\"./fr-ch.js\":847,\"./fr.js\":845,\"./fy\":848,\"./fy.js\":848,\"./gd\":849,\"./gd.js\":849,\"./gl\":850,\"./gl.js\":850,\"./gom-latn\":851,\"./gom-latn.js\":851,\"./gu\":852,\"./gu.js\":852,\"./he\":853,\"./he.js\":853,\"./hi\":854,\"./hi.js\":854,\"./hr\":855,\"./hr.js\":855,\"./hu\":856,\"./hu.js\":856,\"./hy-am\":857,\"./hy-am.js\":857,\"./id\":858,\"./id.js\":858,\"./is\":859,\"./is.js\":859,\"./it\":860,\"./it.js\":860,\"./ja\":861,\"./ja.js\":861,\"./jv\":862,\"./jv.js\":862,\"./ka\":863,\"./ka.js\":863,\"./kk\":864,\"./kk.js\":864,\"./km\":865,\"./km.js\":865,\"./kn\":866,\"./kn.js\":866,\"./ko\":867,\"./ko.js\":867,\"./ku\":868,\"./ku.js\":868,\"./ky\":869,\"./ky.js\":869,\"./lb\":870,\"./lb.js\":870,\"./lo\":871,\"./lo.js\":871,\"./lt\":872,\"./lt.js\":872,\"./lv\":873,\"./lv.js\":873,\"./me\":874,\"./me.js\":874,\"./mi\":875,\"./mi.js\":875,\"./mk\":876,\"./mk.js\":876,\"./ml\":877,\"./ml.js\":877,\"./mn\":878,\"./mn.js\":878,\"./mr\":879,\"./mr.js\":879,\"./ms\":880,\"./ms-my\":881,\"./ms-my.js\":881,\"./ms.js\":880,\"./mt\":882,\"./mt.js\":882,\"./my\":883,\"./my.js\":883,\"./nb\":884,\"./nb.js\":884,\"./ne\":885,\"./ne.js\":885,\"./nl\":886,\"./nl-be\":887,\"./nl-be.js\":887,\"./nl.js\":886,\"./nn\":888,\"./nn.js\":888,\"./pa-in\":889,\"./pa-in.js\":889,\"./pl\":890,\"./pl.js\":890,\"./pt\":891,\"./pt-br\":892,\"./pt-br.js\":892,\"./pt.js\":891,\"./ro\":893,\"./ro.js\":893,\"./ru\":894,\"./ru.js\":894,\"./sd\":895,\"./sd.js\":895,\"./se\":896,\"./se.js\":896,\"./si\":897,\"./si.js\":897,\"./sk\":898,\"./sk.js\":898,\"./sl\":899,\"./sl.js\":899,\"./sq\":900,\"./sq.js\":900,\"./sr\":901,\"./sr-cyrl\":902,\"./sr-cyrl.js\":902,\"./sr.js\":901,\"./ss\":903,\"./ss.js\":903,\"./sv\":904,\"./sv.js\":904,\"./sw\":905,\"./sw.js\":905,\"./ta\":906,\"./ta.js\":906,\"./te\":907,\"./te.js\":907,\"./tet\":908,\"./tet.js\":908,\"./tg\":909,\"./tg.js\":909,\"./th\":910,\"./th.js\":910,\"./tl-ph\":911,\"./tl-ph.js\":911,\"./tlh\":912,\"./tlh.js\":912,\"./tr\":913,\"./tr.js\":913,\"./tzl\":914,\"./tzl.js\":914,\"./tzm\":915,\"./tzm-latn\":916,\"./tzm-latn.js\":916,\"./tzm.js\":915,\"./ug-cn\":917,\"./ug-cn.js\":917,\"./uk\":918,\"./uk.js\":918,\"./ur\":919,\"./ur.js\":919,\"./uz\":920,\"./uz-latn\":921,\"./uz-latn.js\":921,\"./uz.js\":920,\"./vi\":922,\"./vi.js\":922,\"./x-pseudo\":923,\"./x-pseudo.js\":923,\"./yo\":924,\"./yo.js\":924,\"./zh-cn\":925,\"./zh-cn.js\":925,\"./zh-hk\":926,\"./zh-hk.js\":926,\"./zh-tw\":927,\"./zh-tw.js\":927};function o(t){var e=a(t);return n(e)}function a(t){var e=r[t];if(!(e+1)){var n=new Error(\"Cannot find module '\"+t+\"'\");throw n.code=\"MODULE_NOT_FOUND\",n}return e}o.keys=function(){return Object.keys(r)},o.resolve=a,t.exports=o,o.id=1101},1282:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return u});var r=n(1),o=n.n(r),a=n(1283),i=n.n(a);n(1408),n(1407);function u(t){return o.a.createElement(\"span\",{className:\"BootstrapSliderWrapper\"},o.a.createElement(i.a,t))}},1407:function(t,e,n){},2102:function(t,e,n){\"use strict\";n.d(e,\"b\",function(){return l}),n.d(e,\"a\",function(){return f}),n.d(e,\"c\",function(){return y});var r=n(2290),o=n(19),a=n(2103);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=.25,s={LAT_MIN:-90,LAT_MAX:90,LNG_MIN:-180,LNG_MAX:180};function c(t){var e=o.extent(t,function(t){return t[1]}),n=o.extent(t,function(t){return t[0]}),r=e[0]===e[1]?function(t){return[t[0]-u<s.LAT_MIN?s.LAT_MIN:t[0]-u,t[1]+u>s.LAT_MAX?s.LAT_MAX:t[1]+u]}(e):e,a=n[0]===n[1]?function(t){return[t[0]-u<s.LNG_MIN?s.LNG_MIN:t[0]-u,t[1]+u>s.LNG_MAX?s.LNG_MAX:t[1]+u]}(n):n;return[[a[0],r[0]],[a[1],r[1]]]}function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;try{var o=c(e);return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){i(t,e,n[e])})}return t}({},t,Object(r.a)({height:t.height,width:t.width,padding:n,bounds:o}))}catch(e){return console.error(\"Could not auto zoom\",e),t}}function f(t,e,n,r){var o,i,u=t,s=n;return u.js_tooltip&&(s=Object(a.a)(u.js_tooltip)),s&&(o=function(t){t.picked?e({content:s(t),x:t.x,y:t.y+30}):e(null)}),u.js_onclick_href?i=function(t){var e=Object(a.a)(u.js_onclick_href)(t);window.open(e)}:u.table_filter&&void 0!==r&&(i=function(t){return r(t.object[u.line_column])}),{onClick:i,onHover:o,pickable:Boolean(o)}}var p={p1:.01,p5:.05,p95:.95,p99:.99};function y(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"sum\",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return\"count\"===e?function(t){return t.length}:(t=e in p?function(t,r){var a;return a=n?t.sort(function(t,e){return o.ascending(n(t),n(e))}):t.sort(o.ascending),o.quantile(a,p[e],r)}:o[e],n?function(e){return t(e.map(n))}:function(e){return t(e)})}},2103:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return f});var r=n(2134),o=n.n(r),a=n(2135),i=n.n(a),u=n(19),s=n(2106);function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={console:console,_:i.a,colors:s,d3array:u};function f(t,e,n){var r={},a=\"SAFE_EVAL_\"+Math.floor(1e6*Math.random());r[a]={};var i=a+\"=\"+t,u=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){c(t,e,n[e])})}return t}({},l,e);Object.keys(u).forEach(function(t){r[t]=u[t]});try{return o.a.runInNewContext(i,r,n),r[a]}catch(t){return function(){return t}}}},2106:function(t,e,n){\"use strict\";n.r(e),n.d(e,\"hexToRGB\",function(){return o});var r=n(29);function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;if(!t)return[0,0,0,e];var n=Object(r.f)(t);return[n.r,n.g,n.b,e]}},2110:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return w});var r=n(220),o=n.n(r),a=n(1),i=n.n(a),u=n(0),s=n.n(u),c=n(2129),l=n(2111);n(2130),n(2119);function f(t){return(f=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function p(){return(p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){b(t,e,n[e])})}return t}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}var g=2e3,j={viewport:s.a.object.isRequired,layers:s.a.array.isRequired,setControlValue:s.a.func,mapStyle:s.a.string,mapboxApiAccessToken:s.a.string.isRequired,onViewportChange:s.a.func},w=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),r=this,(n=!(o=h(e).call(this,t))||\"object\"!==f(o)&&\"function\"!=typeof o?v(r):o).tick=n.tick.bind(v(v(n))),n.onViewportChange=n.onViewportChange.bind(v(v(n))),n.state={previousViewport:t.viewport,timer:setInterval(n.tick,g)},n}var n,r,a;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,i.a.Component),n=e,a=[{key:\"getDerivedStateFromProps\",value:function(t,e){return t.viewport!==e.viewport?{viewport:y({},t.viewport),previousViewport:e.viewport}:null}}],(r=[{key:\"componentWillUnmount\",value:function(){clearInterval(this.state.timer)}},{key:\"onViewportChange\",value:function(t){var e=Object.assign({},t),n=y({},this.state.previousViewport,e);this.props.onViewportChange(n)}},{key:\"tick\",value:function(){var t=this;if(this.state&&!o()(this.state.previousViewport,this.props.viewport)){var e=this.props.setControlValue,n=this.props.viewport;e&&e(\"viewport\",n),this.setState(function(){return{previousViewport:t.props.viewport}})}}},{key:\"layers\",value:function(){return this.props.layers.some(function(t){return\"function\"==typeof t})?this.props.layers.map(function(t){return\"function\"==typeof t?t():t}):this.props.layers}},{key:\"render\",value:function(){var t=this.props.viewport;return i.a.createElement(c.b,p({},t,{mapStyle:this.props.mapStyle,onViewportChange:this.onViewportChange,mapboxApiAccessToken:this.props.mapboxApiAccessToken}),i.a.createElement(l.i,p({},t,{layers:this.layers(),initWebGLParameters:!0})))}}])&&d(n.prototype,r),a&&d(n,a),e}();w.propTypes=j,w.defaultProps={mapStyle:\"light\",onViewportChange:function(){},setControlValue:function(){}}},2113:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return y});var r=n(1),o=n.n(r),a=n(0),i=n.n(a);function u(t){return(u=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return!e||\"object\"!==u(e)&&\"function\"!=typeof e?function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p={label:i.a.string.isRequired,value:i.a.string.isRequired},y=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),c(this,l(e).apply(this,arguments))}var n,r,a;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,o.a.PureComponent),n=e,(r=[{key:\"render\",value:function(){return o.a.createElement(\"div\",null,this.props.label,o.a.createElement(\"strong\",null,this.props.value))}}])&&s(n.prototype,r),a&&s(n,a),e}();y.propTypes=p},2119:function(t,e,n){},2120:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return s});var r=n(21),o=n.n(r);function a(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}var i=[1,0,1,0,0,0,0];function u(t,e){var n=parseInt(o()(e).format(\"x\"),10);return parseInt(o()(e).add(t).format(\"x\"),10)-n}var s=function(t,e){var n,r,s=o()(Math.min.apply(Math,a(t))),c=o()(Math.max.apply(Math,a(t)));if(-1!==e.indexOf(\"/\")){var l=e.split(\"/\",2);l[0].endsWith(\"Z\")?(r=o()(l[0]),n=o.a.duration(l[1])):(r=o()(l[1]),n=o.a.duration(l[0]))}else r=function(t,e){var n=o()(t).subtract(e),r=t.toArray(),a=n.toArray(),u=r.map(function(t,e){return a[e]!==t}).indexOf(!0),s=r.map(function(t,e){if(e===u){var n=t-a[e];return t-(t-i[e])%n}return e<u||-1===u?t:i[e]});return o()(s)}(s,n=o.a.duration(e));for(var f=o()(r);f<s;)f.add(n);for(;f>s;)f.subtract(n);for(var p=o()(r);p>c;)p.subtract(n);for(;p<c;)p.add(n);var y=null!=e?[f,o()(f).add(n)]:[f,p],b=t.every(function(t){return null===t});return{start:parseInt(f.format(\"x\"),10),end:parseInt(p.format(\"x\"),10),getStep:u.bind(this,n),values:y.map(function(t){return parseInt(t.format(\"x\"),10)}),disabled:b}}},2121:function(t,e,n){\"use strict\";var r=n(1),o=n.n(r),a=n(0),i=n.n(a),u=n(2110),s=n(1100),c=n.n(s),l=n(31),f=n(1282);n(2122);function p(t){return(p=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}var m={start:i.a.number.isRequired,step:i.a.number.isRequired,end:i.a.number.isRequired,values:i.a.array.isRequired,onChange:i.a.func,loopDuration:i.a.number,maxFrames:i.a.number,orientation:i.a.oneOf([\"horizontal\",\"vertical\"]),reversed:i.a.bool,disabled:i.a.bool,range:i.a.bool},v=function(t){function e(t){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),r=this,(n=!(o=b(e).call(this,t))||\"object\"!==p(o)&&\"function\"!=typeof o?h(r):o).state={intervalId:null};var a=t.end-t.start,i=Math.min(t.maxFrames,a/t.step),u=a/i;return n.intervalMilliseconds=t.loopDuration/i,n.increment=u<t.step?t.step:u-u%t.step,n.onChange=n.onChange.bind(h(h(n))),n.play=n.play.bind(h(h(n))),n.pause=n.pause.bind(h(h(n))),n.stepBackward=n.stepBackward.bind(h(h(n))),n.stepForward=n.stepForward.bind(h(h(n))),n.getPlayClass=n.getPlayClass.bind(h(h(n))),n.formatter=n.formatter.bind(h(h(n))),n}var n,r,a;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,o.a.PureComponent),n=e,(r=[{key:\"componentDidMount\",value:function(){c.a.bind([\"space\"],this.play)}},{key:\"componentWillUnmount\",value:function(){c.a.unbind([\"space\"])}},{key:\"onChange\",value:function(t){this.props.onChange(t.target.value),null!=this.state.intervalId&&this.pause()}},{key:\"getPlayClass\",value:function(){return null==this.state.intervalId?\"fa fa-play fa-lg slider-button\":\"fa fa-pause fa-lg slider-button\"}},{key:\"play\",value:function(){if(!this.props.disabled)if(null!=this.state.intervalId)this.pause();else{var t=setInterval(this.stepForward,this.intervalMilliseconds);this.setState({intervalId:t})}}},{key:\"pause\",value:function(){clearInterval(this.state.intervalId),this.setState({intervalId:null})}},{key:\"stepForward\",value:function(){var t=this,e=this.props,n=e.start,r=e.end,o=e.step,a=e.values;if(!e.disabled){var i=(Array.isArray(a)?a:[a,a+o]).map(function(e){return e+t.increment}),u=i[1]>r?i[0]-n:0;this.props.onChange(i.map(function(t){return t-u}))}}},{key:\"stepBackward\",value:function(){var t=this,e=this.props,n=e.start,r=e.end,o=e.step,a=e.values;if(!e.disabled){var i=(Array.isArray(a)?a:[a,a+o]).map(function(e){return e-t.increment}),u=i[0]<n?r-i[1]:0;this.props.onChange(i.map(function(t){return t+u}))}}},{key:\"formatter\",value:function(t){if(this.props.disabled)return Object(l.b)(\"Data has no time steps\");var e=t;return Array.isArray(t)?t[0]===t[1]&&(e=[t[0]]):e=[t],e.map(function(t){return new Date(t).toUTCString()}).join(\" : \")}},{key:\"render\",value:function(){var t=this.props,e=t.start,n=t.end,r=t.step,a=t.orientation,i=t.reversed,u=t.disabled,s=t.range,c=t.values;return o.a.createElement(\"div\",{className:\"play-slider\"},o.a.createElement(\"div\",{className:\"play-slider-controls padded\"},o.a.createElement(\"i\",{className:\"fa fa-step-backward fa-lg slider-button \",onClick:this.stepBackward}),o.a.createElement(\"i\",{className:this.getPlayClass(),onClick:this.play}),o.a.createElement(\"i\",{className:\"fa fa-step-forward fa-lg slider-button \",onClick:this.stepForward})),o.a.createElement(\"div\",{className:\"play-slider-scrobbler padded\"},o.a.createElement(f.a,{value:s?c:c[0],range:s,formatter:this.formatter,change:this.onChange,min:e,max:n,step:r,orientation:a,reversed:i,disabled:u?\"disabled\":\"enabled\"})))}}])&&y(n.prototype,r),a&&y(n,a),e}();function g(t){return(g=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){w(t,e,n[e])})}return t}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function C(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}v.propTypes=m,v.defaultProps={onChange:function(){},loopDuration:15e3,maxFrames:100,orientation:\"horizontal\",reversed:!1,disabled:!1,range:!0},n.d(e,\"a\",function(){return P});var S={getLayers:i.a.func.isRequired,start:i.a.number.isRequired,end:i.a.number.isRequired,getStep:i.a.func,values:i.a.array.isRequired,aggregation:i.a.bool,disabled:i.a.bool,viewport:i.a.object.isRequired,children:i.a.node,mapStyle:i.a.string,mapboxApiAccessToken:i.a.string.isRequired,setControlValue:i.a.func,onViewportChange:i.a.func,onValuesChange:i.a.func},P=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),r=this,(n=!(o=_(e).call(this,t))||\"object\"!==g(o)&&\"function\"!=typeof o?C(r):o).onViewportChange=n.onViewportChange.bind(C(C(n))),n}var n,r,a;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(e,o.a.Component),n=e,(r=[{key:\"onViewportChange\",value:function(t){var e=this.props.disabled?j({},t):j({},t,{height:t.height+20});this.props.onViewportChange(e)}},{key:\"render\",value:function(){var t=this.props,e=t.start,n=t.end,r=t.getStep,a=t.disabled,i=t.aggregation,s=t.children,c=t.getLayers,l=t.values,f=t.onValuesChange,p=t.viewport,y=t.setControlValue,b=t.mapStyle,d=t.mapboxApiAccessToken,h=c(l),m=j({},p,{height:a?p.height:p.height-20});return o.a.createElement(\"div\",null,o.a.createElement(u.a,{viewport:m,layers:h,setControlValue:y,mapStyle:b,mapboxApiAccessToken:d,onViewportChange:this.onViewportChange}),!a&&o.a.createElement(v,{start:e,end:n,step:r(e),values:l,range:!i,onChange:f}),s)}}])&&O(n.prototype,r),a&&O(n,a),e}();P.propTypes=S,P.defaultProps={aggregation:!1,disabled:!1,mapStyle:\"light\",setControlValue:function(){},onViewportChange:function(){},onValuesChange:function(){}}},2122:function(t,e,n){},2123:function(t,e,n){\"use strict\";var r=n(220),o=n.n(r),a=n(1),i=n.n(a),u=n(0),s=n.n(u),c=n(2110),l=n(177),f=n(2121),p=n(2125),y=n(2106),b=n(2120),d=n(2103),h=n(2102);function m(t){return(m=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function v(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){j(t,e,n[e])})}return t}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}var C=l.CategoricalColorNamespace.getScale;var S={formData:s.a.object.isRequired,mapboxApiKey:s.a.string.isRequired,setControlValue:s.a.func.isRequired,viewport:s.a.object.isRequired,getLayer:s.a.func.isRequired,getPoints:s.a.func.isRequired,payload:s.a.object.isRequired,onAddFilter:s.a.func,setTooltip:s.a.func},P=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),r=this,(n=!(o=O(e).call(this,t))||\"object\"!==m(o)&&\"function\"!=typeof o?k(r):o).state=n.getStateFromProps(t),n.getLayers=n.getLayers.bind(k(k(n))),n.onValuesChange=n.onValuesChange.bind(k(k(n))),n.onViewportChange=n.onViewportChange.bind(k(k(n))),n.toggleCategory=n.toggleCategory.bind(k(k(n))),n.showSingleCategory=n.showSingleCategory.bind(k(k(n))),n}var n,r,o;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(e,i.a.PureComponent),n=e,(r=[{key:\"componentWillReceiveProps\",value:function(t){t.payload.form_data!==this.state.formData&&this.setState(g({},this.getStateFromProps(t)))}},{key:\"onValuesChange\",value:function(t){this.setState({values:Array.isArray(t)?t:[t,t+this.state.getStep(t)]})}},{key:\"onViewportChange\",value:function(t){this.setState({viewport:t})}},{key:\"getStateFromProps\",value:function(t,e){var n=t.payload.data.features||[],r=n.map(function(t){return t.__timestamp}),o=function(t,e){var n=t.color_picker||{r:0,g:0,b:0,a:1},r=[n.r,n.g,n.b,255*n.a],o=C(t.color_scheme),a={};return e.forEach(function(e){var i;null==e.cat_color||a.hasOwnProperty(e.cat_color)||(i=t.dimension?Object(y.hexToRGB)(o(e.cat_color),255*n.a):r,a[e.cat_color]={color:i,enabled:!0})}),a}(t.formData,n);if(e&&t.payload.form_data===e.formData)return g({},e,{categories:o});var a=t.payload.form_data.time_grain_sqla||t.payload.form_data.granularity||\"P1D\",i=Object(b.a)(r,a);return{start:i.start,end:i.end,getStep:i.getStep,values:i.values,disabled:i.disabled,viewport:t.formData.autozoom?Object(h.b)(t.viewport,t.getPoints(n)):t.viewport,selected:[],lastClick:0,formData:t.payload.form_data,categories:o}}},{key:\"getLayers\",value:function(t){var e=this.props,n=e.getLayer,r=e.payload,o=e.formData,a=e.onAddFilter,i=e.setTooltip,u=r.data.features?v(r.data.features):[];(u=this.addColor(u,o),o.js_data_mutator)&&(u=Object(d.a)(o.js_data_mutator)(u));u=t[0]===t[1]||t[1]===this.end?u.filter(function(e){return e.__timestamp>=t[0]&&e.__timestamp<=t[1]}):u.filter(function(e){return e.__timestamp>=t[0]&&e.__timestamp<t[1]});var s=this.state.categories;return o.dimension&&(u=u.filter(function(t){return s[t.cat_color]&&s[t.cat_color].enabled})),[n(o,g({},r,{data:g({},r.data,{features:u})}),a,i)]}},{key:\"addColor\",value:function(t,e){var n=e.color_picker||{r:0,g:0,b:0,a:1},r=C(e.color_scheme);return t.map(function(t){return e.dimension?g({},t,{color:Object(y.hexToRGB)(r(t.cat_color),255*n.a)}):t})}},{key:\"toggleCategory\",value:function(t){var e=this.state.categories[t],n=g({},this.state.categories,j({},t,g({},e,{enabled:!e.enabled})));Object.values(n).every(function(t){return!t.enabled})&&Object.values(n).forEach(function(t){t.enabled=!0}),this.setState({categories:n})}},{key:\"showSingleCategory\",value:function(t){var e=g({},this.state.categories);Object.values(e).forEach(function(t){t.enabled=!1}),e[t].enabled=!0,this.setState({categories:e})}},{key:\"render\",value:function(){return i.a.createElement(\"div\",{style:{position:\"relative\"}},i.a.createElement(f.a,{getLayers:this.getLayers,start:this.state.start,end:this.state.end,getStep:this.state.getStep,values:this.state.values,onValuesChange:this.onValuesChange,disabled:this.state.disabled,viewport:this.state.viewport,onViewportChange:this.onViewportChange,mapboxApiAccessToken:this.props.mapboxApiKey,mapStyle:this.props.formData.mapbox_style,setControlValue:this.props.setControlValue},i.a.createElement(p.a,{categories:this.state.categories,toggleCategory:this.toggleCategory,showSingleCategory:this.showSingleCategory,position:this.props.formData.legend_position})))}}])&&w(n.prototype,r),o&&w(n,o),e}();function E(t){return(E=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){x(t,e,n[e])})}return t}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function M(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}P.propTypes=S,n.d(e,\"b\",function(){return L}),n.d(e,\"a\",function(){return N});var R={formData:s.a.object.isRequired,payload:s.a.object.isRequired,setControlValue:s.a.func.isRequired,viewport:s.a.object.isRequired,onAddFilter:s.a.func,setTooltip:s.a.func},D={onAddFilter:function(){},setTooltip:function(){}};function L(t,e){var n=function(n){function r(t){var n,o,a;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),o=this,n=!(a=V(r).call(this,t))||\"object\"!==E(a)&&\"function\"!=typeof a?M(o):a;var i=t.viewport,u=t.formData.autozoom?Object(h.b)(i,e(t.payload.data.features)):i;return n.state={viewport:u,layer:n.computeLayer(t)},n.onViewportChange=n.onViewportChange.bind(M(M(n))),n}var a,u,s;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(r,i.a.PureComponent),a=r,(u=[{key:\"componentWillReceiveProps\",value:function(t){var e=A({},t.formData,{viewport:null}),n=A({},this.props.formData,{viewport:null});o()(e,n)&&t.payload===this.props.payload||this.setState({layer:this.computeLayer(t)})}},{key:\"onViewportChange\",value:function(t){this.setState({viewport:t})}},{key:\"computeLayer\",value:function(e){var n=e.formData,r=e.payload,o=e.onAddFilter,a=e.setTooltip;return t(n,r,o,a)}},{key:\"render\",value:function(){var t=this.props,e=t.formData,n=t.payload,r=t.setControlValue,o=this.state,a=o.layer,u=o.viewport;return i.a.createElement(c.a,{mapboxApiAccessToken:n.data.mapboxApiKey,viewport:u,layers:[a],mapStyle:e.mapbox_style,setControlValue:r,onViewportChange:this.onViewportChange})}}])&&T(a.prototype,u),s&&T(a,s),r}();return n.propTypes=R,n.defaultProps=D,n}function N(t,e){function n(n){var r=n.formData,o=n.payload,a=n.setControlValue,u=n.onAddFilter,s=n.setTooltip,c=n.viewport;return i.a.createElement(P,{formData:r,mapboxApiKey:o.data.mapboxApiKey,setControlValue:a,viewport:c,getLayer:t,payload:o,onAddFilter:u,setTooltip:s,getPoints:e})}return n.propTypes=R,n.defaultProps=D,n}},2125:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return d});var r=n(1),o=n.n(r),a=n(0),i=n.n(a);n(2126);function u(t){return(u=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return!e||\"object\"!==u(e)&&\"function\"!=typeof e?function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b={categories:i.a.object,toggleCategory:i.a.func,showSingleCategory:i.a.func,position:i.a.oneOf([null,\"tl\",\"tr\",\"bl\",\"br\"])},d=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),f(this,p(e).apply(this,arguments))}var n,r,a;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,o.a.PureComponent),n=e,(r=[{key:\"render\",value:function(){var t,e=this;if(0===Object.keys(this.props.categories).length||null===this.props.position)return null;var n=Object.entries(this.props.categories).map(function(t){var n=c(t,2),r=n[0],a=n[1],i={color:\"rgba(\"+a.color.join(\", \")+\")\"},u=a.enabled?\"◼\":\"◻\";return o.a.createElement(\"li\",{key:r},o.a.createElement(\"a\",{href:\"#\",onClick:function(){return e.props.toggleCategory(r)},onDoubleClick:function(){return e.props.showSingleCategory(r)}},o.a.createElement(\"span\",{style:i},u),\" \",r))}),r=\"t\"===this.props.position.charAt(0)?\"top\":\"bottom\",a=\"r\"===this.props.position.charAt(1)?\"right\":\"left\",i=(s(t={position:\"absolute\"},r,\"0px\"),s(t,a,\"10px\"),t);return o.a.createElement(\"div\",{className:\"legend\",style:i},o.a.createElement(\"ul\",{className:\"categories\"},n))}}])&&l(n.prototype,r),a&&l(n,a),e}();d.propTypes=b,d.defaultProps={categories:{},toggleCategory:function(){},showSingleCategory:function(){},position:\"tr\"}},2126:function(t,e,n){},2131:function(t,e){},2132:function(t,e){},2133:function(t,e){},2210:function(t,e,n){\"use strict\";n.r(e),n.d(e,\"getLayer\",function(){return y});var r=n(2111),o=n(1),a=n.n(o),i=n(31),u=n(2102),s=n(2123),c=n(2113),l=n(1053);function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){p(t,e,n[e])})}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t,e,n,o){var s=t,p=e.data.features.map(function(t){var e=Object(l.b)(s.point_unit,t.radius)||10;if(s.multiplier&&(e*=s.multiplier),t.color)return f({},t,{radius:e});var n=s.color_picker||{r:0,g:0,b:0,a:1};return f({},t,{radius:e,color:[n.r,n.g,n.b,255*n.a]})});return new r.g(f({id:\"scatter-layer-\".concat(s.slice_id),data:p,fp64:!0,radiusMinPixels:s.min_radius||null,radiusMaxPixels:s.max_radius||null,outline:!1},Object(u.a)(s,o,function(t){return function(e){return a.a.createElement(\"div\",{className:\"deckgl-tooltip\"},a.a.createElement(c.a,{label:\"\".concat(Object(i.b)(\"Longitude and Latitude\"),\": \"),value:\"\".concat(e.object.position[0],\", \").concat(e.object.position[1])}),e.object.cat_color&&a.a.createElement(c.a,{label:\"\".concat(Object(i.b)(\"Category\"),\": \"),value:\"\".concat(e.object.cat_color)}),e.object.metric&&a.a.createElement(c.a,{label:\"\".concat(t.point_radius_fixed.value.label,\": \"),value:\"\".concat(e.object.metric)}))}}(s))))}e.default=Object(s.a)(y,function(t){return t.map(function(t){return t.position})})},45:function(t,e,n){\"use strict\";n.d(e,\"b\",function(){return r}),n.d(e,\"a\",function(){return o}),n.d(e,\"c\",function(){return a}),n.d(e,\"d\",function(){return i}),n.d(e,\"e\",function(){return u}),n.d(e,\"f\",function(){return s});n(44);function r(t,e){for(var n=[],r=t;r<=e;r++)n.push([r,r.toString()]);return n}function o(t){return t.map(function(t){return[t,t.toString()]})}function a(t,e){return\"\".concat(t,\"__\").concat(e)}function i(t){var e=t.replace(/[\\[]/,\"\\\\[\").replace(/[\\]]/,\"\\\\]\"),n=new RegExp(\"[\\\\?&]\"+e+\"=([^&#]*)\").exec(location.search);return null===n?\"\":decodeURIComponent(n[1].replace(/\\+/g,\" \"))}function u(t){var e;return t&&t.length>0&&(t.forEach(function(t){\"count\"===t.metric_name&&(e=\"count\")}),e||(e=t[0].metric_name)),e}function s(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)}}}]);","extractedComments":[]}