(function(e){function t(t){for(var r,o,s=t[0],c=t[1],l=t[2],d=0,f=[];d<s.length;d++)o=s[d],a[o]&&f.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/geobrowser/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("1356"),a=n.n(r);a.a},1356:function(e,t,n){},"545c":function(e,t,n){"use strict";var r=n("ef21"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("2b0e"),a=(n("bf40"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-content",[[n("NavDrawer"),n("router-view")]],2)],1)}),i=[],o=n("a34a"),s=n.n(o),c=n("2f62"),l=n("66e5");function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}r["a"].use(c["a"]);var f=new c["a"].Store({state:{user:{loggedIn:!1},api:{accessed:!1},app:{navDrawerMini:!0}},getters:{user:function(e){return e.user}},mutations:{SET_USER_INFO:function(e,t){e.user=u({},t,{loggedIn:!0})},SET_API_ACCESSED:function(e){e.api.accessed=!0},USER_LOGOUT:function(e){e.user={loggedIn:!1}},TOGGLE_NAV_DRAWER:function(e){e.app.navDrawerMini=!e.app.navDrawerMini},SET_NAV_DRAWER:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.app.navDrawerMini=t}},actions:{}}),v=f,h=v,p=n("8c4f"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"main-page"}},[n("v-container",[n("v-layout",[n("v-flex",{attrs:{xs8:""}},[n("CollectionMap",{staticClass:"collection-map"})],1),n("v-flex",{staticClass:"data-browser-container",attrs:{xs4:""}},[n("DataBrowser",{attrs:{location:e.location},on:{"update:location":function(t){e.location=t}}})],1)],1)],1)],1)},y=[],g=n("fca9"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("div")])},w=[],S=n("5eee"),P=n("a2c7"),x=n("480c"),O=n("3e6b"),_=n("a2e1"),k=n("d0e9"),T=n("5831"),R=n("8295"),j=n("6c77"),V=n("83a6"),D=n("8682"),N=n("2ce2"),C=n("913f"),E=n("cb76"),I=n("06f8"),A=n("2ef0");function M(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,a)}function $(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(e){M(i,r,a,o,s,"next",e)}function s(e){M(i,r,a,o,s,"throw",e)}o(void 0)})}}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){F(e,t,n[t])})}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q={name:"CollectionMap",static:function(){return{ol:{}}},computed:L({},Object(c["b"])(["user"])),inject:["girderRest"],watch:{user:function(){this.loadFeaturesRemote()}},mounted:function(){this.createMap(),this.loadFeaturesRemote()},methods:{featureStyle:function(e){return new j["c"]({stroke:new D["a"]({color:"blue",width:1}),fill:new V["a"]({color:"rgba(0, 0, 255, 0.1)"}),text:new R["a"]({text:e.get("name").split("_").map(function(e){return Object(A["capitalize"])(e)}).join(", "),fill:new V["a"]({color:"rgb(255, 255, 255)"}),backgroundFill:new V["a"]({color:"rgb(0, 0, 0)"}),scale:1})})},createMap:function(){this.ol.vectorSource=new T["a"],this.ol.map=new S["a"]({layers:[new x["a"]({source:new k["a"]}),new O["a"]({source:this.ol.vectorSource,style:this.featureStyle})],target:this.$el,view:new P["a"]({center:[0,0],zoom:2.5}),interactions:[new N["a"]({condition:I["c"]}),new C["a"],new E["a"]]})},loadFeaturesRemote:function(){var e=$(s.a.mark(function e(){var t;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.girderRest.get("collection/geobrowser",{params:{}});case 2:e.t0=function(e){return{type:"Feature",properties:{name:e.name},geometry:e.geometa_bounds}},t=e.sent.data.map(e.t0),this.ol.features=new _["a"]({featureProjection:"EPSG:3857"}).readFeatures({type:"FeatureCollection",features:t}),this.ol.vectorSource.clear(),this.ol.vectorSource.addFeatures(this.ol.features);case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},J=q,G=n("2877"),Q=n("6544"),U=n.n(Q),B=n("b0af"),K=Object(G["a"])(J,b,w,!1,null,null,null),W=K.exports;U()(K,{VCard:B["a"]});var z={name:"MainPage",components:{CollectionMap:W,DataBrowser:g["a"]},data:function(){return{browserLocation:null}},inject:["girderRest"],computed:{location:{get:function(){return this.browserLocation?this.browserLocation:{type:"collections"}},set:function(e){this.browserLocation=e}}},watch:{},methods:{}},H=z,Y=(n("f927"),n("a523")),X=n("0e8f"),Z=n("a722"),ee=Object(G["a"])(H,m,y,!1,null,null,null),te=ee.exports;U()(ee,{VContainer:Y["a"],VFlex:X["a"],VLayout:Z["a"]});var ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{attrs:{row:""}},[n("v-flex",{staticClass:"ma-1",attrs:{xs3:""}},[n("v-layout",{attrs:{column:""}},[n("v-layout",[n("v-flex",[n("h1",[e._v("Collection Search Builder")])]),n("v-flex",[n("v-dialog",{scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({attrs:{icon:""}},r),[n("v-icon",[e._v("mdi-help-circle")])],1)]}}])},[n("v-card",{staticClass:"text-xs-left"},[n("MarkdownViewer",{attrs:{text:e.helpPageText}})],1)],1)],1)],1),n("v-card",[n("v-layout",[n("v-flex",{attrs:{xs11:""}},[n("h1",{staticClass:"text-xs-left mx-2"},[e._v("\n                Search Filters\n              ")])]),e.searchParams.length?n("v-flex",[n("v-btn",{attrs:{icon:""},on:{click:function(t){e.searchParams=[]}}},[n("v-icon",[e._v("mdi-notification-clear-all")])],1)],1):e._e()],1),n("v-list",e._l(e.searchParams,function(t,r){return n("v-list-tile",{key:r},[n("v-list-tile-content",[n("v-list-tile-title",[e._v("\n                  "+e._s(t.key)+": "+e._s(t.value)+"\n                ")]),n("v-list-tile-sub-title",[e._v("\n                  "+e._s(t.type)+"\n                ")])],1),n("v-list-tile-action",[n("v-btn",{attrs:{icon:"",ripple:""},on:{click:function(t){return e.deleteSearchParam(r)}}},[n("v-icon",{attrs:{color:"error"}},[e._v("\n                    mdi-delete\n                  ")])],1)],1)],1)}),1),n("v-flex",[n("v-dialog",{model:{value:e.addItemDialog,callback:function(t){e.addItemDialog=t},expression:"addItemDialog"}},[n("v-card",{staticClass:"my-1"},[n("v-layout",{attrs:{column:""}},[n("v-flex",{attrs:{shrink:""}},[n("v-layout",{staticClass:"mx-2",attrs:{"align-center":"",row:""}},[n("v-radio-group",{attrs:{row:""},model:{value:e.newSearchParam.type,callback:function(t){e.$set(e.newSearchParam,"type",t)},expression:"newSearchParam.type"}},e._l(e.paramTypes,function(e,t){return n("v-radio",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1)],1),n("v-flex",{staticClass:"ma-2",attrs:{grow:""}},[n("v-card",{attrs:{flat:""}},["json"===e.newSearchParam.type?[n("v-textarea",{attrs:{rules:e.getRules(e.newSearchParam),box:""},model:{value:e.newSearchParam.value,callback:function(t){e.$set(e.newSearchParam,"value",t)},expression:"newSearchParam.value"}})]:[n("v-text-field",{attrs:{label:"Key",rules:e.keyRules},model:{value:e.newSearchParam.key,callback:function(t){e.$set(e.newSearchParam,"key",t)},expression:"newSearchParam.key"}}),"date"!==e.newSearchParam.type?n("v-text-field",{attrs:{label:"Value",rules:e.getRules(e.newSearchParam)},model:{value:e.newSearchParam.value,callback:function(t){e.$set(e.newSearchParam,"value",t)},expression:"newSearchParam.value"}}):n("v-flex",{attrs:{shrink:""}},[n("v-select",{attrs:{items:e.dateComparisonTypes,label:"Comparison","prepend-inner-icon":"mdi-calculator","hide-details":""},on:{change:e.selectDateComparisonType}}),n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-text-field",e._g({attrs:{label:"Date","hide-details":"","prepend-inner-icon":"mdi-calendar"},model:{value:e.newSearchParam.value,callback:function(t){e.$set(e.newSearchParam,"value",t)},expression:"newSearchParam.value"}},r))]}}]),model:{value:e.newSearchParam.dateMenu,callback:function(t){e.$set(e.newSearchParam,"dateMenu",t)},expression:"newSearchParam.dateMenu"}},[n("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.newSearchParam.value,callback:function(t){e.$set(e.newSearchParam,"value",t)},expression:"newSearchParam.value"}},[n("v-spacer"),n("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.newSearchParam.dateMenu=!1}}},[e._v("\n                                OK\n                              ")])],1)],1)],1)]],2)],1),n("v-layout",[n("v-flex",{attrs:{shrink:""}},[n("v-btn",{attrs:{color:"secondary"},on:{click:e.cancelSearchParam}},[e._v("\n                        Cancel\n                      ")])],1),n("v-flex",{attrs:{shrink:""}},[n("v-btn",{attrs:{color:"success"},on:{click:e.addSearchParam}},[e._v("\n                        Add\n                      ")])],1)],1)],1)],1)],1),n("v-btn",{attrs:{color:"secondary"},on:{click:e.clickAddItem}},[n("v-icon",[e._v("mdi-plus")]),e._v("\n              Add Item\n            ")],1),n("v-btn",{attrs:{color:"success",disabled:e.internalQuery===e.activeQuery},on:{click:e.applyAndSearch}},[e._v("\n              Apply\n            ")])],1)],1)],1)],1),n("v-flex",{staticClass:"ma-1",attrs:{xs9:""}},[n("v-layout",{attrs:{column:""}},[n("v-layout",{attrs:{row:"",shrink:""}},[n("v-flex",[n("v-text-field",{attrs:{id:"query","append-icon":"mdi-content-copy",value:e.stringQuery,solo:"",readonly:"","hide-details":""},on:{"click:append":e.copyQueryToClipboard}})],1)],1),n("v-layout",{staticClass:"mt-2",attrs:{column:""}},[n("v-flex",[e.searchResults.length?n("v-card",[n("v-expansion-panel",{attrs:{expand:""},model:{value:e.resultsPanel,callback:function(t){e.resultsPanel=t},expression:"resultsPanel"}},e._l(e.searchResults,function(t,r){return n("v-expansion-panel-content",{key:r,scopedSlots:e._u([{key:"header",fn:function(){return[n("h1",[e._v(e._s(t.name))])]},proxy:!0}],null,!0)},[n("v-card",{staticClass:"ma-3"},[n("VueJsonPretty",{attrs:{data:t,"highlight-mouseover-node":""}})],1)],1)}),1)],1):e._e()],1),n("v-spacer")],1)],1)],1)],1)],1)},re=[],ae=n("d538"),ie=n.n(ae),oe=n("6c42"),se='# Using the Search Builder\n\nThis tool searches the Girder instance using the built search query, and returns results at the collection level. **All comparisons being done are on collections**. The search query will be built through the merging of all search parameters added by the user. To add a search parameter, click the `Add Item` button.\n\n### Format\nThis tool formats queries to the [Mongo Query Syntax](https://docs.mongodb.com/manual/tutorial/query-documents/). Any query created here is expected to conform to this syntax.\n\n### Types\nEach search parameter can have one of four types: `String`, `Number`, `Date`, and `JSON`. These correspond to how the `value` field is interpreted. The `Key` field is always interpreted as `String`.\n\n### Permissions\nAll search results are filtered to the current Girder user\'s permission level, so different users may see different results on the same query. Internally, this is using the `findWithPermissions` function in Girder.\n\n### Usage\nClicking the `Search` button with no added search parameters will return all documents visible to the user.\n\nThe full path of the key must be specified entirely in the `Key` field. For example, your collection(s) might look something like this:\n```\n{\n  "_accessLevel": 2,\n  "_id": "5d35bf56a8d5aada468d0bc2",\n  "_modelType": "collection",\n  "created": "2019-07-22T13:51:18.143000+00:00",\n  "description": "Information about my dinner party",\n  "meta": {\n    "date": "2019-07-25",\n    "location": {\n      "address": "37750 Sacramento St",\n      "city": "Yolo",\n      "state": "California\n      "zip": "95697"\n    },\n    "invited": 10,\n    "accepted": 8,\n    "guests": [\n      "Anna",\n      "Bob",\n      "Joe",\n      "Marie",\n      "Frank",\n      "Ericka",\n      "Richard",\n      "Katie"\n    ]\n  },\n  "name": "Dinner Party",\n  "public": false,\n  "size": 0,\n  "updated": "2019-07-23T17:09:05.544000+00:00"\n}\n```\nThen in this case, if you wanted to specify the `address` field, you would set the key as `meta.location.address`. However, if you want to query the root level, on something like `name`, then the key would just be `name`.\n\n#### String\nIf you wanted to search the `meta.guests` field, you would specify the `Key` as `meta.guests`, and the Value as something like `Bob`, using the `String` type.\n\n#### Number\nIf you wanted to search the `meta.invited` field, you would supply the corresponding Key and Value, but change the type to `Number`. If you don\'t change the type, suppling a number like `5` will actually result in `"5"` being used.\n\n#### Date\nIf you wanted to search the `meta.date` field, you would change the type to `Date`, select a comparison type, and then either type in the date, or use the date-picker to select the date. **The date must be in ISO 8601 format**.\n\n### JSON\nThe `JSON` field is useful for pasting in existing queries. However, this must be in strict JSON format, including double quotes around all keys. When selecting the `JSON` type, you\'ll notice that no `Key` field is present. This is because all keys and values are defined within the JSON object provided by the user. This object is merged with the rest of the search parameters.\n';function ce(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,a)}function le(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(e){ce(i,r,a,o,s,"next",e)}function s(e){ce(i,r,a,o,s,"throw",e)}o(void 0)})}}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){de(e,t,n[t])})}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe={name:"QueryBuilder",inject:["girderRest"],components:{VueJsonPretty:ie.a,MarkdownViewer:oe["a"]},data:function(){var e=this;return{helpPageText:se,searchParams:[],searchResults:[],resultsPanel:[],activeQuery:"",newSearchParam:{},addItemDialog:!1,keyRules:[function(e){return e.length>0||"Required"}],valueRules:{number:function(t){return e.validNumber(t)||"Invalid Number"},json:function(t){return e.validJSON(t)||"Invalid JSON"},any:function(e){return!!e||"Required"}},selectedDateComparisonType:null,dateComparisonTypes:[{text:"Greater Than (>)",value:"$gt"},{text:"Greater Than/Equal To (≥)",value:"$gte"},{text:"Less Than (<)",value:"$lt"},{text:"Less Than/Equal To (≤)",value:"$lte"},{text:"Equal (=)",value:"$eq"},{text:"Not Equal (≠)",value:"$ne"}],paramTypes:[{label:"String",value:"string"},{label:"Number",value:"number"},{label:"Date",value:"date"},{label:"JSON",value:"json"}],defaultSearchParam:{key:"",value:"",type:"string"},error:!1}},computed:{internalQuery:function(){var e=this,t=function(e){return e.key&&e.value||"json"===e.type},n=function(t,n){var r=n.value;return"number"===n.type&&(r=e.validNumber(r)?Number(r):r),"json"===n.type&&e.validJSON(r)?(r=JSON.parse(r),ue({},t,r)):("date"===n.type&&(r=de({},e.selectedDateComparisonType,r)),ue({},t,de({},n.key,r)))},r=this.searchParams.filter(t).reduce(n,{});return r},stringQuery:function(){return this.activeQuery?JSON.stringify(this.activeQuery):this.activeQuery},validSearchParamKey:function(){var e=this;return!this.keyRules.filter(function(t){return"string"===typeof t(e.newSearchParam.key)}).length},validSearchParamValue:function(){var e=this,t=this.getRules(this.newSearchParam),n=t.filter(function(t){return"string"===typeof t(e.newSearchParam.value)});return 0===n.length}},watch:{},created:function(){this.newSearchParam=ue({},this.defaultSearchParam)},methods:{validJSON:function(e){try{JSON.parse(e)}catch(t){return!1}return!0},validNumber:function(e){return!Number.isNaN(Number(e))},selectDateComparisonType:function(e){this.selectedDateComparisonType=e},clickAddItem:function(){this.addItemDialog=!0},addSearchParam:function(){this.validSearchParamKey&&this.validSearchParamValue&&(this.searchParams.push(this.newSearchParam),this.newSearchParam=ue({},this.defaultSearchParam),this.addItemDialog=!1)},deleteSearchParam:function(e){this.searchParams.splice(e,1)},cancelSearchParam:function(){this.newSearchParam=ue({},this.defaultSearchParam),this.addItemDialog=!1},getRules:function(e){var t=[];return"number"===e.type&&t.push(this.valueRules.number),"json"===e.type&&t.push(this.valueRules.json),t.push(this.valueRules.any),t},copyQueryToClipboard:function(){var e=document.querySelector("#query");e.select(),document.execCommand("copy")},applyAndSearch:function(){var e=le(s.a.mark(function e(){var t;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.activeQuery=this.internalQuery,e.prev=1,e.next=4,this.girderRest.get("collection/geobrowser/search",{params:{query:this.activeQuery}});case 4:t=e.sent,this.searchResults=t.data,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),this.searchResults=[];case 11:return e.prev=11,this.resultsPanel=[],e.finish(11);case 14:case"end":return e.stop()}},e,this,[[1,8,11,14]])}));function t(){return e.apply(this,arguments)}return t}()}},ve=fe,he=n("8336"),pe=n("2e4b"),me=n("169a"),ye=n("cd55"),ge=n("49e2"),be=n("132d"),we=n("8860"),Se=n("ba95"),Pe=n("40fe"),xe=n("5d23"),Oe=n("e449"),_e=n("67b6"),ke=n("43a6"),Te=n("b56d"),Re=n("9910"),je=n("2677"),Ve=n("a844"),De=Object(G["a"])(ve,ne,re,!1,null,null,null),Ne=De.exports;U()(De,{VBtn:he["a"],VCard:B["a"],VContainer:Y["a"],VDatePicker:pe["a"],VDialog:me["a"],VExpansionPanel:ye["a"],VExpansionPanelContent:ge["a"],VFlex:X["a"],VIcon:be["a"],VLayout:Z["a"],VList:we["a"],VListTile:Se["a"],VListTileAction:Pe["a"],VListTileContent:xe["a"],VListTileSubTitle:xe["b"],VListTileTitle:xe["c"],VMenu:Oe["a"],VRadio:_e["a"],VRadioGroup:ke["a"],VSelect:Te["a"],VSpacer:Re["a"],VTextField:je["a"],VTextarea:Ve["a"]});var Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"default-item-view"}},[n("v-card",[e._v("\n    "+e._s(e.printedParams)+"\n  ")])],1)},Ee=[],Ie={name:"DefaultItemPage",components:{},data:function(){return{}},computed:{printedParams:function(){return JSON.stringify(this.$route.params,null,4)}}},Ae=Ie,Me=Object(G["a"])(Ae,Ce,Ee,!1,null,null,null),$e=Me.exports;U()(Me,{VCard:B["a"]}),r["a"].use(p["a"]);var Le=new p["a"]({routes:[{path:"/",name:"Main Page",component:te,icon:"mdi-home"},{path:"/query/",name:"Query Builder",component:Ne,icon:"mdi-magnify"},{path:"/item/:id",name:"Item View",component:$e}]}),Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{attrs:{"mini-variant":e.navDrawerMini,app:"","hide-overlay":""}},[n("v-icon",{attrs:{large:""},on:{click:e.toggleNavDrawer}},[e._v("\n    "+e._s(e.navDrawerMini?"mdi-chevron-right":"mdi-chevron-left")+"\n  ")]),e.apiAccessed&&!e.navDrawerMini?[n("v-list",[e.loggedIn?n("v-list-tile",[n("v-list-tile-avatar",[n("v-icon",{attrs:{color:"blue"}},[e._v("\n            mdi-account-circle\n          ")])],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("\n            "+e._s(e.currentUserFirstName)+"\n          ")])],1),n("v-list-action",[n("v-btn",{attrs:{depressed:"",icon:""},on:{click:e.logout}},[n("v-icon",{attrs:{color:"error"}},[e._v("\n              mdi-logout\n            ")])],1)],1)],1):n("v-list-tile",{staticClass:"nav-bar-list-tile"},[n("v-dialog",{attrs:{"max-width":"30%"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({attrs:{depressed:"",color:"secondary"}},r),[e._v("\n              Login\n            ")])]}}],null,!1,3267192494),model:{value:e.loginOpen,callback:function(t){e.loginOpen=t},expression:"loginOpen"}},[n("v-card",[n("GirderLogin")],1)],1),n("v-dialog",{attrs:{"max-width":"30%"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({attrs:{depressed:"",color:"primary"}},r),[e._v("\n              Register\n            ")])]}}],null,!1,1320774930),model:{value:e.registerOpen,callback:function(t){e.registerOpen=t},expression:"registerOpen"}},[n("v-card",[n("GirderRegister")],1)],1)],1),e._l(e.navRoutes,function(t){return n("v-list-tile",{key:t.name,on:{click:function(n){return e.navigateToRoute(t)}}},[n("v-list-tile-avatar",[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("\n            "+e._s(t.name)+"\n          ")])],1)],1)})],2)]:e.navDrawerMini?e._l(e.navRoutes,function(t){return n("v-flex",{key:t.name,on:{click:function(n){return e.navigateToRoute(t)}}},[n("v-btn",{attrs:{icon:""}},[n("v-icon",[e._v(e._s(t.icon))])],1)],1)}):e._e()],2)},qe=[],Je=n("3b09"),Ge=n("ebec");function Qe(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,a)}function Ue(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(e){Qe(i,r,a,o,s,"next",e)}function s(e){Qe(i,r,a,o,s,"throw",e)}o(void 0)})}}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ke(e,t,n[t])})}return e}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var We={name:"NavigationDrawer",components:{GirderLogin:Je["a"],GirderRegister:Ge["a"]},inject:["girderRest"],data:function(){return{loginOpen:!1,registerOpen:!1}},computed:Be({},Object(c["c"])({currentUserFirstName:function(e){return e.user.firstName},loggedIn:function(e){return e.user.loggedIn},login:function(e){return e.user.login},apiAccessed:function(e){return e.api.accessed},navDrawerMini:function(e){return e.app.navDrawerMini}}),{navRoutes:function(){return this.$router.options.routes.slice(0,2)}}),watch:{login:function(){this.loginOpen=!1,this.registerOpen=!1}},methods:{navigateToRoute:function(e){this.$router.push(e),this.$store.commit("SET_NAV_DRAWER",!0)},toggleNavDrawer:function(){this.$store.commit("TOGGLE_NAV_DRAWER")},logout:function(){var e=Ue(s.a.mark(function e(){return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.girderRest.logout();case 2:this.$store.commit("USER_LOGOUT");case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},ze=We,He=(n("545c"),n("c954")),Ye=n("f774"),Xe=Object(G["a"])(ze,Fe,qe,!1,null,null,null),Ze=Xe.exports;function et(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,a)}function tt(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(e){et(i,r,a,o,s,"next",e)}function s(e){et(i,r,a,o,s,"throw",e)}o(void 0)})}}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){rt(e,t,n[t])})}return e}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}U()(Xe,{VBtn:he["a"],VCard:B["a"],VDialog:me["a"],VFlex:X["a"],VIcon:be["a"],VList:we["a"],VListTile:Se["a"],VListTileAvatar:He["a"],VListTileContent:xe["a"],VListTileTitle:xe["c"],VNavigationDrawer:Ye["a"]}),r["a"].use(l["a"]);var at={name:"App",store:h,router:Le,components:{NavDrawer:Ze},inject:["girderRest"],data:function(){return{}},computed:nt({},Object(c["c"])({currentUserFirstName:function(e){return e.user.firstName},loggedIn:function(e){return e.user.loggedIn},login:function(e){return e.user.login},apiAccessed:function(e){return e.api.accessed},navDrawerMini:function(e){return e.app.navDrawerMini}}),{girderRestUser:function(){return this.girderRest.user}}),watch:{girderRestUser:function(e){this.$store.commit("SET_USER_INFO",e)}},mounted:function(){var e=tt(s.a.mark(function e(){var t;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.girderRest.fetchUser();case 2:t=e.sent,t&&this.$store.commit("SET_USER_INFO",t),this.$store.commit("SET_API_ACCESSED");case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{toggleNavDrawer:function(){this.$store.commit("TOGGLE_NAV_DRAWER")}}},it=at,ot=(n("034f"),n("7496")),st=n("549c"),ct=Object(G["a"])(it,a,i,!1,null,null,null),lt=ct.exports;U()(ct,{VApp:ot["a"],VContent:st["a"]});var ut=n("d842");r["a"].use(ut["b"]);var dt="/api/v1",ft=new ut["a"]({apiRoot:dt}),vt={girderRest:ft},ht=vt;r["a"].config.productionTip=!1,new r["a"]({provide:ht,render:function(e){return e(lt)}}).$mount("#app")},df9c:function(e,t,n){},ef21:function(e,t,n){},f927:function(e,t,n){"use strict";var r=n("df9c"),a=n.n(r);a.a}});
//# sourceMappingURL=app.169ca294.js.map