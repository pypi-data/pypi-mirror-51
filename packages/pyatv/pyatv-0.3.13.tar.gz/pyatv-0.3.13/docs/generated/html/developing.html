<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Developing pyatv &#8212; pyatv 0.3.11 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.3.11',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Testing" href="testing.html" />
    <link rel="prev" title="Reference application: atvremote" href="atvremote.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="developing-pyatv">
<span id="pyatv-developing"></span><h1>Developing pyatv<a class="headerlink" href="#developing-pyatv" title="Permalink to this headline">¶</a></h1>
<p>If you feel that you want to help improving pyatv, this is the page for you.</p>
<div class="section" id="development-environment">
<h2>Development environment<a class="headerlink" href="#development-environment" title="Permalink to this headline">¶</a></h2>
<p>It is extremely simple to get started: fork the project on GitHub, clone it
and run the bundled script:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">postlund</span><span class="o">/</span><span class="n">pyatv</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">pyatv</span>
<span class="o">./</span><span class="n">setup_dev_env</span><span class="o">.</span><span class="n">sh</span>
<span class="n">source</span> <span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
</pre></div>
</div>
<p>You need <code class="docutils literal"><span class="pre">virtualenv</span></code> and python development package installed. On debian
or debian based distros (e.g. Ubuntu or raspian), you can just run the
following <em>before</em> running <code class="docutils literal"><span class="pre">setup_dev_env.sh</span></code>:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">virtualenv</span> <span class="n">python3</span><span class="o">-</span><span class="n">dev</span>
</pre></div>
</div>
<p>The included script <code class="docutils literal"><span class="pre">setup_dev_env.sh</span></code> will automatically do the following
tasks:</p>
<ul class="simple">
<li>Create a python virtual environment</li>
<li>Install the library as &#8220;develop&#8221;</li>
<li>Install all dependencies and required tools</li>
<li>Ensure that tests work by running tox</li>
<li>Generate (this) documentation with sphinx</li>
</ul>
<p>Once everything is done, all you have to do is to ensure that you are in the
virtual environment (<code class="docutils literal"><span class="pre">source</span> <span class="pre">bin/activate</span></code>).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As a library, pyatv should be platform independent, but it has only been
verified to work on Linux and macOS. The same goes for this helper script.
Support on Windows in particular is not guaranteed. Feel free to improve
on this.</p>
</div>
</div>
<div class="section" id="running-the-tests">
<h2>Running the tests<a class="headerlink" href="#running-the-tests" title="Permalink to this headline">¶</a></h2>
<p>You can run the tests either using <code class="docutils literal"><span class="pre">setuptools</span></code> or by using tox:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">test</span>

<span class="n">OR</span>

<span class="n">tox</span> <span class="o">-</span><span class="n">e</span> <span class="n">py35</span>  <span class="c1"># python 3.5</span>
</pre></div>
</div>
<p>When running with tox, you will also get code coverage. The report will be
written to a directory called <code class="docutils literal"><span class="pre">htmlcov</span></code>.</p>
</div>
<div class="section" id="linting">
<h2>Linting<a class="headerlink" href="#linting" title="Permalink to this headline">¶</a></h2>
<p>To ensure good code quality, the following tools are used:</p>
<ul class="simple">
<li>flake8 - verifies that code follows code standard</li>
<li>pylint - performs code analysis</li>
<li>pydocstyle - checks documentation strings</li>
</ul>
<p>Use tox to easily check everything:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">tox</span> <span class="o">-</span><span class="n">e</span> <span class="n">lint</span>
</pre></div>
</div>
</div>
<div class="section" id="requirements-for-pull-requests">
<h2>Requirements for pull requests<a class="headerlink" href="#requirements-for-pull-requests" title="Permalink to this headline">¶</a></h2>
<p>For a pull request to get merged, the following must be met:</p>
<ul class="simple">
<li>Tests for new functionality or bug fixes</li>
<li>All tests must pass</li>
<li>Do not decrease code coverage</li>
<li>Include pydoc and update this documentation</li>
<li>Linting must pass (just run tox)</li>
</ul>
<p>When sending the pull request, make sure it is rebased against master.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Developing pyatv</a><ul>
<li><a class="reference internal" href="#development-environment">Development environment</a></li>
<li><a class="reference internal" href="#running-the-tests">Running the tests</a></li>
<li><a class="reference internal" href="#linting">Linting</a></li>
<li><a class="reference internal" href="#requirements-for-pull-requests">Requirements for pull requests</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="atvremote.html" title="previous chapter">Reference application: atvremote</a></li>
      <li>Next: <a href="testing.html" title="next chapter">Testing</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/developing.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Pierre Ståhl.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/developing.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>